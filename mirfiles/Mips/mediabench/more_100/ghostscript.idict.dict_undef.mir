--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_round_size_small
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%0' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    1
  adjustsStack:    false
  hasCalls:        false
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 8):
    liveins: %a0, %t9, %v0
    liveouts: %v0
  
    %1 = ADDu %v0, %t9
    %0 = COPY %a0
    %2 = LW %1, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %3 = LW killed %2, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %4 = SLTu killed %3, %0
    %6 = MOVN_I_I killed %zero, killed %4, %0
    %v0 = COPY %6
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_round_size_large
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%9' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    1
  adjustsStack:    false
  hasCalls:        false
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 25):
    successors: %bb.2(50), %bb.1..preheader(50)
    liveins: %a0, %t9, %v0
  
    %14 = ADDu %v0, %t9
    %9 = COPY %a0
    %10 = ORi %zero, 32768
    %11 = SLTu %10, %9
    BNE killed %11, %zero, %bb.2, implicit-def dead %at
    B %bb.1..preheader, implicit-def dead %at
  
  bb.1..preheader (freq 12):
    successors: %bb.4.._crit_edge(37), %bb.6(62)
  
    %0 = ADDiu %9, -1
    %12 = AND %0, %9
    BEQ %12, %zero, %bb.4.._crit_edge, implicit-def %at
  
  bb.6 (freq 8):
    successors: %bb.3..lr.ph(100)
  
    B %bb.3..lr.ph, implicit-def %at
  
  bb.2 (%ir-block.5, freq 12):
    successors: %bb.5(100)
  
    %19 = LW %14, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %20 = LW killed %19, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %21 = SLTu killed %20, %9
    %1 = MOVN_I_I killed %zero, killed %21, %9
    B %bb.5, implicit-def dead %at
  
  bb.3..lr.ph (freq 255):
    successors: %bb.4.._crit_edge(3), %bb.3..lr.ph(96)
  
    %2 = PHI %0, %bb.6, %4, %bb.3..lr.ph
    %3 = PHI %9, %bb.6, %5, %bb.3..lr.ph
    %4 = OR %2, %3
    %5 = ADDiu %4, 1
    %13 = AND %4, %5
    BNE killed %13, %zero, %bb.3..lr.ph, implicit-def dead %at
    B %bb.4.._crit_edge, implicit-def dead %at
  
  bb.4.._crit_edge (freq 12):
    successors: %bb.5(100)
  
    %6 = PHI %9, %bb.1..preheader, %5, %bb.3..lr.ph
    %15 = LW %14, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %16 = LW killed %15, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %17 = SLTu killed %16, %6
    %7 = MOVZ_I_I %6, killed %17, %10
  
  bb.5 (%ir-block.17, freq 25):
    liveouts: %v0
  
    %8 = PHI %7, %bb.4.._crit_edge, %1, %bb.2
    %v0 = COPY %8
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_create
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%3' }
  - { reg: '%a1', virtual-reg: '%4' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: arr, offset: 0, size: 8, alignment: 8 }
  - { id: 1, name: dref, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 20):
    successors: %bb.3(37), %bb.1(62)
    liveins: %a0, %a1, %t9, %v0
  
    %5 = ADDu %v0, %t9
    %4 = COPY %a1
    %3 = COPY %a0
    %6 = LW %5, target-flags(<unknown>) @gs_imemory, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %7 = LW %6, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0)`, !tbaa !5)
    ADJCALLSTACKDOWN 24, implicit-def dead %sp, implicit %sp
    %8 = LW %5, target-flags(<unknown>) @.str, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %9 = ADDiu killed %8, target-flags(<unknown>) @.str
    %10 = COPY %sp
    SW killed %9, %10, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into unknown)
    %11 = LW %5, target-flags(<unknown>) @gs_alloc_ref_array, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @gs_alloc_ref_array)
    %12 = ADDiu %zero, 112
    %13 = ADDiu %zero, 4
    %14 = LEA_ADDiu %stack.0.arr, 0
    %a0 = COPY %7
    %a1 = COPY %14
    %a2 = COPY %12
    %a3 = COPY %13
    %gp = COPY %5
    %t9 = COPY %11
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 24, 0, implicit-def dead %sp, implicit %sp
    %15 = COPY %v0
    %0 = COPY %15
    BLTZ %15, %bb.3, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.6, freq 12):
    successors: %bb.3(37), %bb.2(62)
  
    %16 = LW %stack.0.arr, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.8, !tbaa !8)
    SW killed %16, %stack.1.dref, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (store 4 into %ir.10, !tbaa !8)
    %17 = LW %5, target-flags(<unknown>) @dict_create_contents, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %19 = LW %6, 36, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %20 = ADDiu killed %17, target-flags(<unknown>) @dict_create_contents
    %21 = LEA_ADDiu %stack.1.dref, 0
    %22 = LW %5, target-flags(<unknown>) @dict_default_pack, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %23 = LHu %stack.0.arr, 0, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 2 from %ir.11, align 8, !tbaa !9)
    %24 = ANDi killed %23, 12
    %25 = OR killed %19, killed %24
    %26 = ORi killed %25, 112
    %27 = ADDiu killed %26, 512
    SH killed %27, %stack.1.dref, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (store 2 into %ir.20, align 8, !tbaa !9)
    %28 = LW killed %22, 0, <0x45c9620> = !{!"unison-memory-partition", i32 4} :: (load 4 from @dict_default_pack, !tbaa !1)
    ADJCALLSTACKDOWN 0, implicit-def dead %sp, implicit %sp
    %a0 = COPY %3
    %a1 = COPY %21
    %a2 = COPY %28
    %t9 = COPY %20
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 0, 0, implicit-def dead %sp, implicit %sp
    %29 = COPY %v0
    %1 = COPY %29
    BLTZ %29, %bb.3, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.24, freq 8):
    successors: %bb.3(100)
  
    %31 = LW %stack.1.dref, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.dref, align 8)
    %32 = LW %stack.1.dref, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.dref + 4)
    SW killed %32, %4, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.25 + 4)
    SW killed %31, %4, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.25)
    %30 = ADDiu %zero, 0
  
  bb.3 (%ir-block.27, freq 20):
    liveouts: %v0
  
    %2 = PHI %0, %bb.0, %1, %bb.1, %30, %bb.2
    %v0 = COPY %2
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_create_contents
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: gpr32 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
  - { id: 85, class: gpr32 }
  - { id: 86, class: gpr32 }
  - { id: 87, class: gpr32 }
  - { id: 88, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%24' }
  - { reg: '%a1', virtual-reg: '%25' }
  - { reg: '%a2', virtual-reg: '%26' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: arr, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 109):
    successors: %bb.2(50), %bb.1..preheader.i(50)
    liveins: %a0, %a1, %a2, %t9, %v0
  
    %32 = ADDu %v0, %t9
    %26 = COPY %a2
    %25 = COPY %a1
    %24 = COPY %a0
    %27 = ADDiu %zero, 1
    %1 = MOVZ_I_I killed %27, %24, %24
    %28 = ORi %zero, 32768
    %29 = SLTu %28, %1
    %0 = LW %25, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.2, !tbaa !8)
    BNE killed %29, %zero, %bb.2, implicit-def dead %at
    B %bb.1..preheader.i, implicit-def dead %at
  
  bb.1..preheader.i (freq 54):
    successors: %bb.4.._crit_edge.i(37), %bb.18(62)
  
    %2 = ADDiu %1, -1
    %30 = AND %2, %1
    BEQ %30, %zero, %bb.4.._crit_edge.i, implicit-def %at
  
  bb.18 (freq 34):
    successors: %bb.3..lr.ph.i(100)
  
    B %bb.3..lr.ph.i, implicit-def %at
  
  bb.2 (%ir-block.10, freq 54):
    successors: %bb.5.dict_round_size_large.exit(100)
  
    %37 = LW %32, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %38 = LW killed %37, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %39 = SLTu killed %38, %1
    %3 = MOVN_I_I %zero, killed %39, %1
    B %bb.5.dict_round_size_large.exit, implicit-def dead %at
  
  bb.3..lr.ph.i (freq 1092):
    successors: %bb.4.._crit_edge.i(3), %bb.3..lr.ph.i(96)
  
    %4 = PHI %2, %bb.18, %6, %bb.3..lr.ph.i
    %5 = PHI %1, %bb.18, %7, %bb.3..lr.ph.i
    %6 = OR %5, %4
    %7 = ADDiu %6, 1
    %31 = AND %7, %6
    BNE killed %31, %zero, %bb.3..lr.ph.i, implicit-def dead %at
    B %bb.4.._crit_edge.i, implicit-def dead %at
  
  bb.4.._crit_edge.i (freq 54):
    successors: %bb.5.dict_round_size_large.exit(100)
  
    %8 = PHI %1, %bb.1..preheader.i, %7, %bb.3..lr.ph.i
    %33 = LW %32, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %34 = LW killed %33, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %35 = SLTu killed %34, %8
    %9 = MOVZ_I_I %8, killed %35, %28
  
  bb.5.dict_round_size_large.exit (freq 109):
    successors: %bb.16(50), %bb.6(50)
  
    %10 = PHI %9, %bb.4.._crit_edge.i, %3, %bb.2
    %42 = ADDiu %10, -1
    %43 = ORi %zero, 65533
    %44 = SLTu killed %43, killed %42
    %41 = ADDiu %zero, -13
    BNE killed %44, %zero, %bb.16, implicit-def dead %at
    B %bb.6, implicit-def dead %at
  
  bb.6 (%ir-block.24, freq 54):
    successors: %bb.16(37), %bb.7(62)
  
    %45 = LW %32, target-flags(<unknown>) @gs_imemory, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %46 = LW %45, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0)`, !tbaa !5)
    ADJCALLSTACKDOWN 24, implicit-def dead %sp, implicit %sp
    %47 = LW %32, target-flags(<unknown>) @.str.15, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %48 = ADDiu killed %47, target-flags(<unknown>) @.str.15
    %49 = COPY %sp
    SW killed %48, %49, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into unknown)
    %11 = ADDiu %10, 1
    %50 = LW %32, target-flags(<unknown>) @gs_alloc_ref_array, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @gs_alloc_ref_array)
    %51 = ADDiu %zero, 112
    %a0 = COPY %46
    %a1 = COPY %0
    %a2 = COPY %51
    %a3 = COPY %11
    %gp = COPY %32
    %t9 = COPY %50
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 24, 0, implicit-def dead %sp, implicit %sp
    %52 = COPY %v0
    %12 = COPY %52
    BLTZ %52, %bb.16, implicit-def dead %at
    B %bb.7, implicit-def dead %at
  
  bb.7 (%ir-block.30, freq 34):
    successors: %bb.13(37), %bb.8(62)
  
    %53 = LHu %0, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.32, align 4, !tbaa !9)
    %55 = LW %45, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %56 = OR killed %53, killed %55
    SH killed %56, %0, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.32, align 4, !tbaa !9)
    %57 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.38, !tbaa !8)
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %58 = LW %32, target-flags(<unknown>) @refset_null, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @refset_null)
    %a0 = COPY %57
    %a1 = COPY %11
    %gp = COPY %32
    %t9 = COPY %58
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    BEQ %26, %zero, %bb.13, implicit-def dead %at
    B %bb.8, implicit-def dead %at
  
  bb.8 (%ir-block.41, freq 21):
    successors: %bb.12(37), %bb.9(62)
  
    %60 = LW %45, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0)`, !tbaa !5)
    ADJCALLSTACKDOWN 24, implicit-def dead %sp, implicit %sp
    %61 = LW %32, target-flags(<unknown>) @.str.16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %62 = ADDiu killed %61, target-flags(<unknown>) @.str.16
    %63 = COPY %sp
    SW killed %62, %63, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into unknown)
    %64 = ADDiu %10, 4
    %65 = SRL killed %64, 2
    %66 = LW %32, target-flags(<unknown>) @gs_alloc_ref_array, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @gs_alloc_ref_array)
    %67 = ADDiu %zero, 112
    %68 = LEA_ADDiu %stack.0.arr, 0
    %a0 = COPY %60
    %a1 = COPY %68
    %a2 = COPY %67
    %a3 = COPY %65
    %t9 = COPY %66
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 24, 0, implicit-def dead %sp, implicit %sp
    %69 = COPY %v0
    BLTZ %69, %bb.12, implicit-def dead %at
    B %bb.9, implicit-def dead %at
  
  bb.9 (%ir-block.48, freq 13):
    successors: %bb.11..critedge8(37), %bb.19(62)
  
    %14 = LW %stack.0.arr, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.50, !tbaa !8)
    SW %14, %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.53, !tbaa !8)
    %15 = LW %45, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %72 = LHu %stack.0.arr, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.54, align 8, !tbaa !9)
    %73 = ANDi killed %72, 12
    %74 = OR %15, killed %73
    %75 = ORi killed %74, 112
    %76 = ADDiu killed %75, 1536
    SH killed %76, %0, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.63, align 4, !tbaa !9)
    SH %11, %0, 10, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.65, !tbaa !14)
    BEQ %11, %zero, %bb.11..critedge8, implicit-def %at
  
  bb.19 (freq 8):
    successors: %bb.10..critedge(100)
  
    %70 = ADDiu %zero, 1
    %78 = ADDiu %zero, 24576
  
  bb.10..critedge (freq 266):
    successors: %bb.17..critedge(51), %bb.10..critedge(48)
  
    %16 = PHI %70, %bb.19, %19, %bb.10..critedge, %19, %bb.17..critedge
    %17 = PHI %14, %bb.19, %18, %bb.10..critedge, %18, %bb.17..critedge
    SH %78, %17, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.pzp.010, !tbaa !15)
    %79 = SLTu %16, %11
    %77 = ANDi %16, 3
    %19 = ADDiu %16, 1
    %18 = ADDiu %17, 2
    BNE killed %79, %zero, %bb.10..critedge, implicit-def dead %at
    B %bb.17..critedge, implicit-def dead %at
  
  bb.17..critedge (freq 137):
    successors: %bb.11..critedge8(6), %bb.10..critedge(93)
  
    BNE %77, %zero, %bb.10..critedge, implicit-def dead %at
    B %bb.11..critedge8, implicit-def dead %at
  
  bb.11..critedge8 (freq 13):
    successors: %bb.15(100)
  
    %80 = ADDiu %zero, 24577
    SH killed %80, %14, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.51, !tbaa !15)
    B %bb.15, implicit-def dead %at
  
  bb.12 (%ir-block.72, freq 8):
    successors: %bb.16(100)
  
    %13 = COPY %69
    B %bb.16, implicit-def dead %at
  
  bb.13 (%ir-block.74, freq 12):
    successors: %bb.14.._crit_edge(62), %bb.16(37)
  
    ADJCALLSTACKDOWN 0, implicit-def dead %sp, implicit %sp
    %81 = LW %32, target-flags(<unknown>) @dict_create_unpacked_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %82 = ADDiu killed %81, target-flags(<unknown>) @dict_create_unpacked_keys
    %a0 = COPY %11
    %a1 = COPY %25
    %t9 = COPY %82
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 0, 0, implicit-def dead %sp, implicit %sp
    %83 = COPY %v0
    %20 = COPY %83
    BLTZ %83, %bb.16, implicit-def dead %at
    B %bb.14.._crit_edge, implicit-def dead %at
  
  bb.14.._crit_edge (freq 8):
    successors: %bb.15(100)
  
    %21 = LW %45, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
  
  bb.15 (%ir-block.76, freq 21):
    successors: %bb.16(100)
  
    %22 = PHI %15, %bb.11..critedge8, %21, %bb.14.._crit_edge
    SW %zero, %0, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.78, !tbaa !16)
    %86 = ADDiu %22, 2816
    SH %86, %0, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.81, align 4, !tbaa !9)
    SW %24, %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.82, !tbaa !16)
    SH %86, %0, 24, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.83, align 4, !tbaa !9)
    %85 = ADDiu %zero, 0
  
  bb.16 (%ir-block.84, freq 109):
    liveouts: %v0
  
    %23 = PHI %41, %bb.5.dict_round_size_large.exit, %12, %bb.6, %13, %bb.12, %20, %bb.13, %85, %bb.15
    %v0 = COPY %23
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_unpack
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: gpr32 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
  - { id: 85, class: gpr32 }
  - { id: 86, class: gpr32 }
  - { id: 87, class: gpr32 }
  - { id: 88, class: gpr32 }
  - { id: 89, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%25' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: old_keys, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 102):
    successors: %bb.1(50), %bb.22(50)
    liveins: %a0, %t9, %v0
  
    %29 = ADDu %v0, %t9
    %25 = COPY %a0
    %0 = LW %25, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.2, !tbaa !8)
    %27 = LBu %0, 8, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 1 from %ir.5, align 4, !tbaa !18)
    %26 = ADDiu %zero, 0
    %28 = ADDiu %zero, 6
    BNE killed %27, killed %28, %bb.22, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.8, freq 51):
    successors: %bb.2(37), %bb.3(62)
  
    %5 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.14, !tbaa !8)
    %4 = LHu %0, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.9, !tbaa !14)
    %30 = LW %0, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr3)
    %31 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr3 + 4)
    SW killed %31, %stack.0.old_keys, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.old_keys + 4)
    SW %30, %stack.0.old_keys, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.old_keys, align 8)
    %32 = LW %29, target-flags(<unknown>) @gs_imemory, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %33 = LW %32, 32, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %6 = SRL %30, 16
    %34 = AND %6, killed %33
    BNE killed %34, %zero, %bb.3, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.22, freq 19):
    successors: %bb.3(100)
  
    %1 = ADDiu %0, 8
    %35 = LW %29, target-flags(<unknown>) @.str.1, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %36 = ADDiu killed %35, target-flags(<unknown>) @.str.1
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %38 = LW %29, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %32
    %a1 = COPY %25
    %a2 = COPY %1
    %a3 = COPY %36
    %gp = COPY %29
    %t9 = COPY %38
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.3 (%ir-block.25, freq 51):
    successors: %bb.20(37), %bb.4(62)
  
    ADJCALLSTACKDOWN 0, implicit-def dead %sp, implicit %sp
    %40 = LW %29, target-flags(<unknown>) @dict_create_unpacked_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %41 = ADDiu killed %40, target-flags(<unknown>) @dict_create_unpacked_keys
    %a0 = COPY %4
    %a1 = COPY %25
    %t9 = COPY %41
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 0, 0, implicit-def dead %sp, implicit %sp
    %42 = COPY %v0
    BLTZ %42, %bb.20, implicit-def dead %at
    B %bb.4, implicit-def dead %at
  
  bb.4 (%ir-block.28, freq 32):
    successors: %bb.12.._crit_edge(37), %bb.5..lr.ph.preheader(62)
  
    %2 = COPY %4
    BEQ %2, %zero, %bb.12.._crit_edge, implicit-def dead %at
    B %bb.5..lr.ph.preheader, implicit-def dead %at
  
  bb.5..lr.ph.preheader (freq 20):
    successors: %bb.6..lr.ph(100)
  
    %9 = SUBu killed %zero, %4
    %8 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr6, !tbaa !8)
    %44 = ORi %zero, 49152
    %46 = ADDiu %zero, 24577
  
  bb.6..lr.ph (freq 639):
    successors: %bb.7(50), %bb.8(50)
  
    %10 = PHI %9, %bb.5..lr.ph.preheader, %16, %bb.10
    %11 = PHI %8, %bb.5..lr.ph.preheader, %15, %bb.10
    %12 = PHI %5, %bb.5..lr.ph.preheader, %14, %bb.10
    %13 = LHu %12, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.okp.02, !tbaa !15)
    %45 = SLTu %13, %44
    BNE killed %45, %zero, %bb.8, implicit-def dead %at
    B %bb.7, implicit-def dead %at
  
  bb.7 (%ir-block.34, freq 319):
    successors: %bb.10(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %49 = LW %29, target-flags(<unknown>) @packed_get, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @packed_get)
    %a0 = COPY %12
    %a1 = COPY %11
    %gp = COPY %29
    %t9 = COPY %49
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %51 = LW %32, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %52 = LHu %11, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.35, align 4, !tbaa !9)
    %53 = OR killed %52, killed %51
    SH killed %53, %11, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.35, align 4, !tbaa !9)
    B %bb.10, implicit-def dead %at
  
  bb.8 (%ir-block.41, freq 319):
    successors: %bb.9(50), %bb.10(50)
  
    BNE %13, %46, %bb.10, implicit-def dead %at
    B %bb.9, implicit-def dead %at
  
  bb.9 (%ir-block.43, freq 159):
    successors: %bb.10(100)
  
    %47 = LHu %11, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.44, align 4, !tbaa !9)
    %48 = ORi killed %47, 128
    SH killed %48, %11, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.44, align 4, !tbaa !9)
  
  bb.10 (%ir-block.49, freq 639):
    successors: %bb.11.._crit_edge.loopexit(3), %bb.6..lr.ph(96)
  
    %16 = ADDiu %10, 1
    %15 = ADDiu %11, 8
    %14 = ADDiu %12, 2
    BNE %16, %zero, %bb.6..lr.ph, implicit-def dead %at
    B %bb.11.._crit_edge.loopexit, implicit-def dead %at
  
  bb.11.._crit_edge.loopexit (freq 20):
    successors: %bb.12.._crit_edge(100)
  
    %17 = LHu %stack.0.old_keys, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.53, align 8, !tbaa !9)
  
  bb.12.._crit_edge (freq 32):
    successors: %bb.14(37), %bb.13(62)
  
    %18 = PHI %6, %bb.4, %17, %bb.11.._crit_edge.loopexit
    %55 = LW %32, 32, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %56 = AND %18, killed %55
    %57 = ANDi killed %56, 65535
    BEQ killed %57, %zero, %bb.14, implicit-def dead %at
    B %bb.13, implicit-def dead %at
  
  bb.13 (%ir-block.59, freq 20):
    successors: %bb.14(100)
  
    %59 = LW %32, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0)`, !tbaa !5)
    %60 = LW %29, target-flags(<unknown>) @.str.2, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %61 = ADDiu killed %60, target-flags(<unknown>) @.str.2
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %62 = LW %29, target-flags(<unknown>) @gs_free_ref_array, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from call-entry @gs_free_ref_array)
    %63 = LEA_ADDiu %stack.0.old_keys, 0
    %a0 = COPY %59
    %a1 = COPY %63
    %a2 = COPY %61
    %gp = COPY %29
    %t9 = COPY %62
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.14 (%ir-block.62, freq 32):
    successors: %bb.15(50), %bb.17(50)
  
    %64 = LW %29, target-flags(<unknown>) @d_stack, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %19 = LW killed %64, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0)`, !tbaa !20)
    %20 = LW %19, 4, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.65, !tbaa !8)
    %65 = ADDiu %zero, 6
    %66 = LBu %20, 8, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 1 from %ir.68, align 4, !tbaa !18)
    BNE killed %66, killed %65, %bb.17, implicit-def dead %at
    B %bb.15, implicit-def dead %at
  
  bb.15 (%ir-block.71, freq 16):
    successors: %bb.17(50), %bb.16(50)
  
    %21 = LW %20, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.72)
    %67 = LUi 32
    %68 = AND %21, killed %67
    BEQ killed %68, %zero, %bb.17, implicit-def dead %at
    B %bb.16, implicit-def dead %at
  
  bb.16 (%ir-block.76, freq 8):
    successors: %bb.18(100)
  
    %69 = LW %20, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.77, !tbaa !8)
    %70 = LW %29, target-flags(<unknown>) @dtop_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %69, killed %70, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into `i32* bitcast (i16** @dtop_keys to i32*)`, !tbaa !8)
    %71 = ANDi %21, 65535
    %72 = ADDiu killed %71, -1
    %73 = LW %29, target-flags(<unknown>) @dtop_npairs, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %72, killed %73, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_npairs, !tbaa !1)
    %74 = LW %20, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.81, !tbaa !8)
    %75 = LW %29, target-flags(<unknown>) @dtop_values, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %74, killed %75, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into `i32* bitcast (%struct.ref_s** @dtop_values to i32*)`, !tbaa !8)
    B %bb.18, implicit-def dead %at
  
  bb.17 (%ir-block.83, freq 24):
    successors: %bb.18(100)
  
    %76 = LW %29, target-flags(<unknown>) @no_packed_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %77 = ADDiu killed %76, target-flags(<unknown>) @no_packed_keys
    %78 = LW %29, target-flags(<unknown>) @dtop_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %77, killed %78, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_keys, !tbaa !8)
    %79 = LW %29, target-flags(<unknown>) @dtop_npairs, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %80 = ADDiu %zero, 1
    SW killed %80, killed %79, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_npairs, !tbaa !1)
  
  bb.18 (%ir-block.84, freq 32):
    successors: %bb.21(50), %bb.19(50)
  
    %82 = LW %19, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr9, !tbaa !8)
    %83 = LBu killed %82, 1, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 1 from %ir.86 + 1)
    %84 = ANDi killed %83, 16
    %81 = ADDiu %zero, -1
    BEQ killed %84, %zero, %bb.21, implicit-def dead %at
    B %bb.19, implicit-def dead %at
  
  bb.19 (%ir-block.90, freq 16):
    successors: %bb.21(100)
  
    %85 = LHu %19, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.91, align 4, !tbaa !9)
    %22 = ANDi killed %85, 12
    B %bb.21, implicit-def dead %at
  
  bb.20 (%ir-block.95, freq 19):
    successors: %bb.22(100)
  
    %7 = COPY %42
    B %bb.22, implicit-def dead %at
  
  bb.21 (%ir-block.97, freq 32):
    successors: %bb.22(100)
  
    %23 = PHI %81, %bb.18, %22, %bb.19
    %87 = LW %29, target-flags(<unknown>) @dsspace, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW %23, killed %87, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dsspace, !tbaa !1)
  
  bb.22 (%ir-block.99, freq 102):
    liveouts: %v0
  
    %24 = PHI %26, %bb.0, %26, %bb.21, %7, %bb.20
    %v0 = COPY %24
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_create_unpacked_keys
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%3' }
  - { reg: '%a1', virtual-reg: '%4' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    4
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 12):
    successors: %bb.1(62), %bb.2(37)
    liveins: %a0, %a1, %t9, %v0
  
    %5 = ADDu %v0, %t9
    %4 = COPY %a1
    %3 = COPY %a0
    %6 = LW %5, target-flags(<unknown>) @gs_imemory, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %1 = LW %6, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2)`, !tbaa !22)
    %0 = LW %4, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.2, !tbaa !8)
    %7 = LHu %4, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.5, align 4, !tbaa !9)
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %8 = ANDi killed %7, 12
    %9 = LW %5, target-flags(<unknown>) @ialloc_set_space, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ialloc_set_space)
    %a0 = COPY %6
    %a1 = COPY %8
    %gp = COPY %5
    %t9 = COPY %9
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %10 = LW %5, target-flags(<unknown>) @.str.17, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %11 = ADDiu %0, 8
    %12 = ADDiu killed %10, target-flags(<unknown>) @.str.17
    %13 = ADDiu %zero, 112
    %14 = LW %6, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0)`, !tbaa !5)
    ADJCALLSTACKDOWN 24, implicit-def dead %sp, implicit %sp
    %15 = COPY %sp
    SW killed %12, %15, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into unknown)
    %16 = LW %5, target-flags(<unknown>) @gs_alloc_ref_array, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @gs_alloc_ref_array)
    %a0 = COPY %14
    %a1 = COPY %11
    %a2 = COPY %13
    %a3 = COPY %3
    %gp = COPY %5
    %t9 = COPY %16
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 24, 0, implicit-def dead %sp, implicit %sp
    %17 = COPY %v0
    %2 = COPY %17
    BLTZ %17, %bb.2, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.13, freq 8):
    successors: %bb.2(100)
  
    %18 = LHu %0, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.sunkaddr2, align 4, !tbaa !9)
    %20 = LW %6, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %21 = OR killed %18, killed %20
    %22 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.15, !tbaa !8)
    SH killed %21, %0, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.sunkaddr2, align 4, !tbaa !9)
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %23 = LW %5, target-flags(<unknown>) @refset_null, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @refset_null)
    %a0 = COPY %22
    %a1 = COPY %3
    %gp = COPY %5
    %t9 = COPY %23
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %24 = LHu %22, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.22, align 4, !tbaa !9)
    %25 = ORi killed %24, 128
    SH killed %25, %22, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.22, align 4, !tbaa !9)
  
  bb.2 (%ir-block.27, freq 12):
    liveouts: %v0
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %27 = LW %5, target-flags(<unknown>) @ialloc_set_space, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ialloc_set_space)
    %a0 = COPY %6
    %a1 = COPY %1
    %t9 = COPY %27
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %v0 = COPY %2
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_set_top
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
liveins:         
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    1
  adjustsStack:    false
  hasCalls:        false
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 32):
    successors: %bb.1(50), %bb.3(50)
    liveins: %t9, %v0
  
    %5 = ADDu %v0, %t9
    %6 = LW %5, target-flags(<unknown>) @d_stack, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %0 = LW killed %6, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0)`, !tbaa !20)
    %1 = LW %0, 4, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.3, !tbaa !8)
    %7 = ADDiu %zero, 6
    %8 = LBu %1, 8, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 1 from %ir.6, align 4, !tbaa !18)
    BNE killed %8, killed %7, %bb.3, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.9, freq 16):
    successors: %bb.3(50), %bb.2(50)
  
    %2 = LW %1, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.10)
    %9 = LUi 32
    %10 = AND %2, killed %9
    BEQ killed %10, %zero, %bb.3, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.14, freq 8):
    successors: %bb.4(100)
  
    %11 = LW %1, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.15, !tbaa !8)
    %12 = LW %5, target-flags(<unknown>) @dtop_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %11, killed %12, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into `i32* bitcast (i16** @dtop_keys to i32*)`, !tbaa !8)
    %13 = ANDi %2, 65535
    %14 = ADDiu killed %13, -1
    %15 = LW %5, target-flags(<unknown>) @dtop_npairs, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %14, killed %15, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_npairs, !tbaa !1)
    %16 = LW %1, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.19, !tbaa !8)
    %17 = LW %5, target-flags(<unknown>) @dtop_values, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %16, killed %17, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into `i32* bitcast (%struct.ref_s** @dtop_values to i32*)`, !tbaa !8)
    B %bb.4, implicit-def dead %at
  
  bb.3 (%ir-block.21, freq 24):
    successors: %bb.4(100)
  
    %18 = LW %5, target-flags(<unknown>) @no_packed_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %19 = ADDiu killed %18, target-flags(<unknown>) @no_packed_keys
    %20 = LW %5, target-flags(<unknown>) @dtop_keys, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW killed %19, killed %20, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_keys, !tbaa !8)
    %21 = LW %5, target-flags(<unknown>) @dtop_npairs, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %22 = ADDiu %zero, 1
    SW killed %22, killed %21, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dtop_npairs, !tbaa !1)
  
  bb.4 (%ir-block.22, freq 32):
    successors: %bb.6(50), %bb.5(50)
  
    %24 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr2, !tbaa !8)
    %25 = LBu killed %24, 1, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 1 from %ir.24 + 1)
    %26 = ANDi killed %25, 16
    %23 = ADDiu %zero, -1
    BEQ killed %26, %zero, %bb.6, implicit-def dead %at
    B %bb.5, implicit-def dead %at
  
  bb.5 (%ir-block.28, freq 16):
    successors: %bb.6(100)
  
    %27 = LHu %0, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.29, align 4, !tbaa !9)
    %3 = ANDi killed %27, 12
  
  bb.6 (%ir-block.33, freq 32):
    liveouts:
  
    %4 = PHI %23, %bb.4, %3, %bb.5
    %28 = LW %5, target-flags(<unknown>) @dsspace, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    SW %4, killed %28, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into @dsspace, !tbaa !1)
    RetRA

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_find
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: gpr32 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
  - { id: 85, class: gpr32 }
  - { id: 86, class: gpr32 }
  - { id: 87, class: gpr32 }
  - { id: 88, class: gpr32 }
  - { id: 89, class: gpr32 }
  - { id: 90, class: gpr32 }
  - { id: 91, class: gpr32 }
  - { id: 92, class: gpr32 }
  - { id: 93, class: gpr32 }
  - { id: 94, class: gpr32 }
  - { id: 95, class: gpr32 }
  - { id: 96, class: gpr32 }
  - { id: 97, class: gpr32 }
  - { id: 98, class: gpr32 }
  - { id: 99, class: gpr32 }
  - { id: 100, class: gpr32 }
  - { id: 101, class: gpr32 }
  - { id: 102, class: gpr32 }
  - { id: 103, class: gpr32 }
  - { id: 104, class: gpr32 }
  - { id: 105, class: gpr32 }
  - { id: 106, class: gpr32 }
  - { id: 107, class: gpr32 }
  - { id: 108, class: gpr32 }
  - { id: 109, class: gpr32 }
  - { id: 110, class: gpr32 }
  - { id: 111, class: gpr32 }
  - { id: 112, class: gpr32 }
  - { id: 113, class: gpr32 }
  - { id: 114, class: gpr32 }
  - { id: 115, class: gpr32 }
  - { id: 116, class: gpr32 }
  - { id: 117, class: gpr32 }
  - { id: 118, class: gpr32 }
  - { id: 119, class: gpr32 }
  - { id: 120, class: gpr32 }
  - { id: 121, class: gpr32 }
  - { id: 122, class: gpr32 }
  - { id: 123, class: gpr32 }
  - { id: 124, class: acc64 }
  - { id: 125, class: gpr32 }
  - { id: 126, class: gpr32 }
  - { id: 127, class: gpr32 }
  - { id: 128, class: gpr32 }
  - { id: 129, class: gpr32 }
  - { id: 130, class: gpr32 }
  - { id: 131, class: gpr32 }
  - { id: 132, class: gpr32 }
  - { id: 133, class: gpr32 }
  - { id: 134, class: gpr32 }
  - { id: 135, class: gpr32 }
  - { id: 136, class: gpr32 }
  - { id: 137, class: gpr32 }
  - { id: 138, class: gpr32 }
  - { id: 139, class: gpr32 }
  - { id: 140, class: gpr32 }
  - { id: 141, class: gpr32 }
  - { id: 142, class: gpr32 }
  - { id: 143, class: gpr32 }
  - { id: 144, class: gpr32 }
  - { id: 145, class: gpr32 }
  - { id: 146, class: gpr32 }
  - { id: 147, class: gpr32 }
  - { id: 148, class: gpr32 }
  - { id: 149, class: gpr32 }
  - { id: 150, class: gpr32 }
  - { id: 151, class: gpr32 }
  - { id: 152, class: gpr32 }
  - { id: 153, class: gpr32 }
  - { id: 154, class: gpr32 }
  - { id: 155, class: gpr32 }
  - { id: 156, class: gpr32 }
  - { id: 157, class: acc64 }
  - { id: 158, class: gpr32 }
  - { id: 159, class: gpr32 }
  - { id: 160, class: gpr32 }
  - { id: 161, class: gpr32 }
  - { id: 162, class: gpr32 }
  - { id: 163, class: gpr32 }
  - { id: 164, class: gpr32 }
  - { id: 165, class: gpr32 }
  - { id: 166, class: gpr32 }
  - { id: 167, class: gpr32 }
  - { id: 168, class: gpr32 }
  - { id: 169, class: gpr32 }
  - { id: 170, class: gpr32 }
  - { id: 171, class: gpr32 }
  - { id: 172, class: gpr32 }
  - { id: 173, class: gpr32 }
  - { id: 174, class: gpr32 }
  - { id: 175, class: gpr32 }
  - { id: 176, class: gpr32 }
  - { id: 177, class: gpr32 }
  - { id: 178, class: gpr32 }
  - { id: 179, class: gpr32 }
  - { id: 180, class: gpr32 }
  - { id: 181, class: gpr32 }
  - { id: 182, class: gpr32 }
  - { id: 183, class: gpr32 }
  - { id: 184, class: gpr32 }
  - { id: 185, class: gpr32 }
  - { id: 186, class: gpr32 }
  - { id: 187, class: gpr32 }
  - { id: 188, class: gpr32 }
  - { id: 189, class: gpr32 }
  - { id: 190, class: gpr32 }
  - { id: 191, class: gpr32 }
  - { id: 192, class: gpr32 }
  - { id: 193, class: gpr32 }
  - { id: 194, class: gpr32 }
  - { id: 195, class: gpr32 }
  - { id: 196, class: gpr32 }
  - { id: 197, class: gpr32 }
  - { id: 198, class: gpr32 }
  - { id: 199, class: gpr32 }
  - { id: 200, class: gpr32 }
  - { id: 201, class: gpr32 }
  - { id: 202, class: gpr32 }
  - { id: 203, class: gpr32 }
  - { id: 204, class: gpr32 }
  - { id: 205, class: gpr32 }
  - { id: 206, class: gpr32 }
  - { id: 207, class: gpr32 }
  - { id: 208, class: gpr32 }
  - { id: 209, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%69' }
  - { reg: '%a1', virtual-reg: '%70' }
  - { reg: '%a2', virtual-reg: '%71' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: nref, offset: 0, size: 8, alignment: 8 }
jumpTable:       
  kind:            gp-rel32-block-address
  entries:         
    - id:              0
      blocks:          [ '%bb.7', '%bb.8', '%bb.1', '%bb.54', '%bb.8', 
                         '%bb.8', '%bb.8', '%bb.3' ]
body:             |
  bb.0 (%ir-block.0, freq 5028):
    successors: %bb.8(9), %bb.55(90)
    liveins: %a0, %a1, %a2, %t9, %v0
  
    %75 = ADDu %v0, %t9
    %71 = COPY %a2
    %70 = COPY %a1
    %69 = COPY %a0
    %0 = LW %69, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.2, !tbaa !8)
    %1 = LHu %0, 2, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.4, !tbaa !14)
    %4 = LW %70, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.9)
    %5 = SRL %4, 24
    %73 = ADDiu %5, -11
    %74 = SLTiu %73, 8
    BEQ killed %74, %zero, %bb.8, implicit-def dead %at
  
  bb.55 (%ir-block.0, freq 4525):
    successors: %bb.7(22), %bb.8(11), %bb.1(22), %bb.54(22), %bb.3(22)
  
    %72 = ADDiu %zero, -20
    %76 = SLL %73, 2
    %77 = LW %75, target-flags(<unknown>) %jump-table.0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %78 = ADDu killed %76, killed %77
    %79 = LW killed %78, target-flags(<unknown>) %jump-table.0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from jump-table)
    %80 = ADDu killed %79, %75
    PseudoIndirectBranch killed %80
  
  bb.1 (%ir-block.12, freq 1005):
    successors: %bb.2(100)
  
    %6 = ANDi %4, 65535
  
  bb.2 (%ir-block.14, freq 1320):
    successors: %bb.9(100)
  
    %7 = PHI %11, %bb.6, %6, %bb.1
    %103 = ORi %zero, 49152
    %104 = ADDu %7, killed %103
    %105 = ANDi killed %104, 65535
    %106 = SLTiu %7, 4096
    %8 = MOVZ_I_I %zero, killed %106, %105
    %102 = ADDiu %zero, 13
    B %bb.9, implicit-def dead %at
  
  bb.3 (%ir-block.17, freq 1005):
    successors: %bb.5..thread(50), %bb.4(50)
  
    %94 = LUi 32
    %95 = AND %4, killed %94
    %93 = ADDiu %zero, -7
    BEQ killed %95, %zero, %bb.5..thread, implicit-def dead %at
    B %bb.4, implicit-def dead %at
  
  bb.4 (%ir-block.21, freq 502):
    successors: %bb.5..thread(37), %bb.6(62)
  
    %96 = LW %70, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.23, !tbaa !8)
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %97 = ANDi %4, 65535
    %98 = LW %75, target-flags(<unknown>) @name_ref, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @name_ref)
    %99 = ADDiu %zero, 1
    %100 = LEA_ADDiu %stack.0.nref, 0
    %a0 = COPY %96
    %a1 = COPY %97
    %a2 = COPY %100
    %a3 = COPY %99
    %gp = COPY %75
    %t9 = COPY %98
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %101 = COPY %v0
    %9 = COPY %101
    BGEZ %101, %bb.6, implicit-def dead %at
    B %bb.5..thread, implicit-def dead %at
  
  bb.5..thread (freq 691):
    successors: %bb.54(100)
  
    %10 = PHI %93, %bb.3, %9, %bb.4
    B %bb.54, implicit-def dead %at
  
  bb.6 (%ir-block.29, freq 314):
    successors: %bb.2(100)
  
    %11 = LHu %stack.0.nref, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.31, !tbaa !14)
    B %bb.2, implicit-def dead %at
  
  bb.7 (%ir-block.34, freq 1005):
    successors: %bb.9(100)
  
    %83 = LW %70, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.35, !tbaa !16)
    %84 = SLL %83, 3
    %85 = SUBu killed %84, %83
    %86 = SLL %83, 5
    %87 = ADDu killed %86, killed %85
    %88 = SLL %83, 8
    %89 = SUBu killed %88, killed %87
    %90 = SLL %83, 11
    %91 = ADDu killed %90, killed %89
    %92 = SLL %83, 15
    %82 = ADDiu %zero, 0
    %81 = ADDiu %zero, -1
    %12 = SUBu killed %92, killed %91
    B %bb.9, implicit-def dead %at
  
  bb.8 (%ir-block.38, freq 1005):
    successors: %bb.9(100)
  
    %110 = SLL %5, 1
    %111 = ADDu killed %110, %5
    %112 = SLL %5, 5
    %113 = SUBu killed %112, killed %111
    %114 = SLL %5, 7
    %115 = SUBu killed %114, killed %113
    %116 = LHu %70, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.39, align 4, !tbaa !9)
    %117 = SLTiu killed %116, 5376
    %118 = ADDiu %zero, 1485
    %13 = MOVZ_I_I killed %118, killed %117, %115
    %109 = ADDiu %zero, 0
    %108 = ADDiu %zero, -1
  
  bb.9 (%ir-block.43, freq 3331):
    successors: %bb.10(50), %bb.34(50)
  
    %14 = PHI %12, %bb.7, %7, %bb.2, %13, %bb.8
    %15 = PHI %81, %bb.7, %102, %bb.2, %108, %bb.8
    %16 = PHI %82, %bb.7, %8, %bb.2, %109, %bb.8
    %17 = PHI %82, %bb.7, %7, %bb.2, %109, %bb.8
    %3 = ADDiu %1, -1
    %119 = LBu %0, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.45, align 4, !tbaa !18)
    %120 = ADDiu %zero, 6
    BNE killed %119, killed %120, %bb.34, implicit-def dead %at
    B %bb.10, implicit-def dead %at
  
  bb.10 (%ir-block.48, freq 1665):
    successors: %bb.11(50), %bb.12(50)
  
    %154 = ORi %zero, 32769
    %155 = SLTu %3, killed %154
    %18 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr25, !tbaa !8)
    BNE killed %155, %zero, %bb.12, implicit-def dead %at
    B %bb.11, implicit-def dead %at
  
  bb.11 (%ir-block.51, freq 832):
    successors: %bb.13(100)
  
    %157 = PseudoUDIV %14, %3
    TEQ %3, %zero, 7
    %19 = PseudoMFHI killed %157
    B %bb.13, implicit-def dead %at
  
  bb.12 (%ir-block.53, freq 832):
    successors: %bb.13(100)
  
    %156 = ADDiu %1, -2
    %20 = AND %14, killed %156
  
  bb.13 (%ir-block.56, freq 1665):
    successors: %bb.15.._crit_edge41(50), %bb.14..lr.ph40.preheader(50)
  
    %21 = PHI %20, %bb.12, %19, %bb.11
    %158 = SLL %21, 1
    %159 = ADDu %18, %158
    %23 = LHu %159, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.59, !tbaa !15)
    %22 = ADDiu %159, 2
    BEQ %23, %16, %bb.15.._crit_edge41, implicit-def dead %at
    B %bb.14..lr.ph40.preheader, implicit-def dead %at
  
  bb.14..lr.ph40.preheader (freq 832):
    successors: %bb.16..lr.ph40(100)
  
    %160 = ADDiu %zero, 0
    %162 = ORi %zero, 49151
    %166 = ADDiu %zero, 24576
    %167 = ADDiu %zero, -2
    B %bb.16..lr.ph40, implicit-def dead %at
  
  bb.15.._crit_edge41 (freq 1246):
    successors: %bb.54(100)
  
    %25 = PHI %22, %bb.13, %34, %bb.56
    %204 = SUBu %25, %18
    %205 = SLL killed %204, 2
    %206 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.65, !tbaa !8)
    %207 = ADDu killed %206, killed %205
    SW killed %207, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %203 = ADDiu %zero, 1
    B %bb.54, implicit-def dead %at
  
  bb.16..lr.ph40 (freq 13642):
    successors: %bb.20(50), %bb.17(50)
  
    %26 = PHI %158, %bb.14..lr.ph40.preheader, %33, %bb.20
    %27 = PHI %23, %bb.14..lr.ph40.preheader, %32, %bb.20
    %28 = PHI %160, %bb.14..lr.ph40.preheader, %31, %bb.20
    %161 = ANDi %27, 65535
    %163 = SLTu %162, %161
    %164 = ADDu %18, %26
    BNE killed %163, %zero, %bb.20, implicit-def dead %at
    B %bb.17, implicit-def dead %at
  
  bb.17 (%ir-block.75, freq 6821):
    successors: %bb.32..loopexit(3), %bb.18(96)
  
    %29 = ADDiu %164, 2
    BEQ %161, %166, %bb.32..loopexit, implicit-def dead %at
    B %bb.18, implicit-def dead %at
  
  bb.18 (%ir-block.77, freq 6608):
    successors: %bb.21(3), %bb.19(96)
  
    BEQ %26, %167, %bb.21, implicit-def dead %at
    B %bb.19, implicit-def dead %at
  
  bb.19 (%ir-block.80, freq 6401):
    successors: %bb.20(100)
  
    %30 = MOVZ_I_I %29, %28, %28
  
  bb.20 (%ir-block.82, freq 13222):
    successors: %bb.56(3), %bb.16..lr.ph40(96)
  
    %31 = PHI %28, %bb.16..lr.ph40, %30, %bb.19
    %32 = LHu %164, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.uglygep1415, !tbaa !15)
    %33 = ADDiu %26, -2
    BNE %32, %16, %bb.16..lr.ph40, implicit-def %at
  
  bb.56 (freq 413):
    successors: %bb.15.._crit_edge41(100)
  
    %202 = ADDu %18, %33
    %34 = ADDiu %202, 2
    B %bb.15.._crit_edge41, implicit-def %at
  
  bb.21 (%ir-block.87, freq 206):
    successors: %bb.23.._crit_edge(50), %bb.22..lr.ph.preheader(50)
  
    %168 = SLL %3, 1
    %35 = ADDu %18, killed %168
    %36 = LHu %35, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.88, !tbaa !15)
    BEQ %36, %16, %bb.23.._crit_edge, implicit-def dead %at
    B %bb.22..lr.ph.preheader, implicit-def dead %at
  
  bb.22..lr.ph.preheader (freq 103):
    successors: %bb.24..lr.ph(100)
  
    %37 = SLL %1, 1
    %174 = ADDiu %zero, 24576
    %175 = ADDiu %zero, 2
    B %bb.24..lr.ph, implicit-def dead %at
  
  bb.23.._crit_edge (freq 154):
    successors: %bb.54(100)
  
    %38 = PHI %35, %bb.21, %47, %bb.57
    %188 = SUBu %38, %18
    %189 = SLL killed %188, 2
    %190 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.94, !tbaa !8)
    %191 = ADDu killed %190, killed %189
    SW killed %191, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %187 = ADDiu %zero, 1
    B %bb.54, implicit-def dead %at
  
  bb.24..lr.ph (freq 1691):
    successors: %bb.28(50), %bb.25(50)
  
    %39 = PHI %37, %bb.22..lr.ph.preheader, %46, %bb.28
    %40 = PHI %36, %bb.22..lr.ph.preheader, %45, %bb.28
    %41 = PHI %28, %bb.22..lr.ph.preheader, %44, %bb.28
    %169 = ANDi %40, 65535
    %171 = SLTu %162, %169
    %172 = ADDu %18, %39
    BNE killed %171, %zero, %bb.28, implicit-def dead %at
    B %bb.25, implicit-def dead %at
  
  bb.25 (%ir-block.104, freq 845):
    successors: %bb.32..loopexit(3), %bb.26(96)
  
    %42 = ADDiu %172, -2
    BEQ %169, %174, %bb.32..loopexit, implicit-def dead %at
    B %bb.26, implicit-def dead %at
  
  bb.26 (%ir-block.106, freq 819):
    successors: %bb.29(3), %bb.27(96)
  
    BEQ %39, %175, %bb.29, implicit-def dead %at
    B %bb.27, implicit-def dead %at
  
  bb.27 (%ir-block.109, freq 793):
    successors: %bb.28(100)
  
    %43 = MOVZ_I_I %42, %41, %41
  
  bb.28 (%ir-block.111, freq 1639):
    successors: %bb.57(3), %bb.24..lr.ph(96)
  
    %44 = PHI %41, %bb.24..lr.ph, %43, %bb.27
    %45 = LHu %172, -4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.scevgep4, !tbaa !15)
    %46 = ADDiu %39, -2
    BNE %45, %16, %bb.24..lr.ph, implicit-def %at
  
  bb.57 (freq 51):
    successors: %bb.23.._crit_edge(100)
  
    %186 = ADDu %18, %46
    %47 = ADDiu %186, -2
    B %bb.23.._crit_edge, implicit-def %at
  
  bb.29 (%ir-block.116, freq 25):
    successors: %bb.54(37), %bb.30(62)
  
    %176 = ADDiu %zero, -2
    BEQ %41, %zero, %bb.54, implicit-def dead %at
    B %bb.30, implicit-def dead %at
  
  bb.30 (%ir-block.118, freq 15):
    successors: %bb.54(50), %bb.31(50)
  
    %178 = LW %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.121, !tbaa !16)
    %179 = LW %0, 20, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.119, !tbaa !16)
    BEQ killed %179, killed %178, %bb.54, implicit-def dead %at
    B %bb.31, implicit-def dead %at
  
  bb.31 (%ir-block.124, freq 7):
    successors: %bb.54(100)
  
    %181 = SUBu %41, %18
    %182 = SLL killed %181, 2
    %183 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.126, !tbaa !8)
    %184 = ADDu killed %183, killed %182
    SW killed %184, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %180 = ADDiu %zero, 0
    B %bb.54, implicit-def dead %at
  
  bb.32..loopexit (freq 239):
    successors: %bb.54(50), %bb.33(50)
  
    %48 = PHI %28, %bb.17, %41, %bb.25
    %49 = PHI %29, %bb.17, %42, %bb.25
    %193 = LW %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.135, !tbaa !16)
    %194 = LW %0, 20, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.133, !tbaa !16)
    %192 = ADDiu %zero, -2
    BEQ killed %194, killed %193, %bb.54, implicit-def dead %at
    B %bb.33, implicit-def dead %at
  
  bb.33 (%ir-block.138, freq 119):
    successors: %bb.54(100)
  
    %196 = MOVZ_I_I %49, %48, %48
    %197 = SUBu killed %196, %18
    %198 = SLL killed %197, 2
    %199 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.141, !tbaa !8)
    %200 = ADDu killed %199, killed %198
    SW killed %200, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %195 = ADDiu %zero, 0
    B %bb.54, implicit-def dead %at
  
  bb.34 (%ir-block.148, freq 1665):
    successors: %bb.35(50), %bb.36(50)
  
    %121 = ORi %zero, 32769
    %122 = SLTu %3, killed %121
    %50 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr28, !tbaa !8)
    BNE killed %122, %zero, %bb.36, implicit-def dead %at
    B %bb.35, implicit-def dead %at
  
  bb.35 (%ir-block.151, freq 832):
    successors: %bb.37(100)
  
    %124 = PseudoUDIV %14, %3
    TEQ %3, %zero, 7
    %51 = PseudoMFHI killed %124
    B %bb.37, implicit-def dead %at
  
  bb.36 (%ir-block.153, freq 832):
    successors: %bb.37(100)
  
    %123 = ADDiu %1, -2
    %52 = AND %14, killed %123
  
  bb.37 (%ir-block.156, freq 1665):
    successors: %bb.38..outer(100)
  
    %53 = PHI %52, %bb.36, %51, %bb.35
    %127 = SLL %1, 3
    %55 = ADDu %50, killed %127
    %128 = SLL %53, 3
    %129 = ADDu %50, killed %128
    %54 = ADDiu killed %129, 16
    %126 = ADDiu %zero, 0
    %125 = COPY %126
    %130 = ADDiu %zero, 14
  
  bb.38..outer (freq 1690):
    successors: %bb.39..outer8(100)
  
    %56 = PHI %54, %bb.37, %62, %bb.49
    %57 = PHI %125, %bb.37, %66, %bb.49
    %58 = PHI %126, %bb.37, %60, %bb.49
  
  bb.39..outer8 (freq 2472):
    successors: %bb.40..backedge(100)
  
    %59 = PHI %56, %bb.38..outer, %55, %bb.46
    %60 = PHI %58, %bb.38..outer, %139, %bb.46
    %61 = ADDiu %59, -8
  
  bb.40..backedge (freq 53304):
    successors: %bb.41(50), %bb.44(50)
  
    %62 = PHI %61, %bb.39..outer8, %65, %bb.42..backedge.backedge
    %63 = LW %62, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.lsr.iv2123)
    %64 = SRL %63, 24
    BNE %64, %15, %bb.44, implicit-def dead %at
    B %bb.41, implicit-def dead %at
  
  bb.41 (%ir-block.164, freq 26652):
    successors: %bb.43(3), %bb.42..backedge.backedge(96)
  
    %149 = ANDi %63, 65535
    BEQ killed %149, %17, %bb.43, implicit-def dead %at
    B %bb.42..backedge.backedge, implicit-def dead %at
  
  bb.42..backedge.backedge (freq 50831):
    successors: %bb.40..backedge(100)
  
    %65 = ADDiu %62, -8
    B %bb.40..backedge, implicit-def dead %at
  
  bb.43 (%ir-block.167, freq 832):
    successors: %bb.54(100)
  
    %151 = SUBu %62, %50
    %152 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.169, !tbaa !8)
    %153 = ADDu killed %152, killed %151
    SW killed %153, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %150 = ADDiu %zero, 1
    B %bb.54, implicit-def dead %at
  
  bb.44 (%ir-block.176, freq 26652):
    successors: %bb.45(3), %bb.50(96)
  
    BNE %64, %130, %bb.50, implicit-def dead %at
    B %bb.45, implicit-def dead %at
  
  bb.45 (%ir-block.178, freq 832):
    successors: %bb.46(96), %bb.48(3)
  
    BNE %62, %50, %bb.48, implicit-def dead %at
    B %bb.46, implicit-def dead %at
  
  bb.46 (%ir-block.180, freq 806):
    successors: %bb.39..outer8(96), %bb.47(3)
  
    %139 = ADDiu %zero, 1
    BEQ %60, %zero, %bb.39..outer8, implicit-def dead %at
    B %bb.47, implicit-def dead %at
  
  bb.47 (%ir-block.182, freq 25):
    successors: %bb.54(37), %bb.52..loopexit7(62)
  
    %140 = ADDiu %zero, -2
    BEQ %57, %zero, %bb.54, implicit-def dead %at
    B %bb.52..loopexit7, implicit-def dead %at
  
  bb.48 (%ir-block.184, freq 26):
    successors: %bb.52..loopexit7(3), %bb.49(96)
  
    %137 = LBu %62, 1, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.185 + 1)
    %138 = ANDi killed %137, 128
    BEQ killed %138, %zero, %bb.52..loopexit7, implicit-def dead %at
    B %bb.49, implicit-def dead %at
  
  bb.49 (%ir-block.189, freq 25):
    successors: %bb.38..outer(100)
  
    %66 = MOVZ_I_I %62, %57, %57
    B %bb.38..outer, implicit-def dead %at
  
  bb.50 (%ir-block.191, freq 25819):
    successors: %bb.42..backedge.backedge(96), %bb.51(3)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %131 = LW %75, target-flags(<unknown>) @obj_eq, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @obj_eq)
    %a0 = COPY %62
    %a1 = COPY %70
    %gp = COPY %75
    %t9 = COPY %131
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %132 = COPY %v0
    BEQ %132, %zero, %bb.42..backedge.backedge, implicit-def dead %at
    B %bb.51, implicit-def dead %at
  
  bb.51 (%ir-block.194, freq 806):
    successors: %bb.54(100)
  
    %134 = SUBu %62, %50
    %135 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.196, !tbaa !8)
    %136 = ADDu killed %135, killed %134
    SW killed %136, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %133 = ADDiu %zero, 1
    B %bb.54, implicit-def dead %at
  
  bb.52..loopexit7 (freq 16):
    successors: %bb.54(50), %bb.53(50)
  
    %67 = PHI %62, %bb.48, %50, %bb.47
    %142 = LW %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.205, !tbaa !16)
    %143 = LW %0, 20, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.203, !tbaa !16)
    %141 = ADDiu %zero, -2
    BEQ killed %143, killed %142, %bb.54, implicit-def dead %at
    B %bb.53, implicit-def dead %at
  
  bb.53 (%ir-block.208, freq 8):
    successors: %bb.54(100)
  
    %145 = MOVN_I_I %57, %57, %67
    %146 = SUBu killed %145, %50
    %147 = LW %0, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.210, !tbaa !8)
    %148 = ADDu killed %147, killed %146
    SW killed %148, %71, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.ppvalue, !tbaa !8)
    %144 = ADDiu %zero, 0
  
  bb.54 (%ir-block.219, freq 5028):
    liveouts: %v0
  
    %68 = PHI %72, %bb.55, %10, %bb.5..thread, %133, %bb.51, %140, %bb.47, %141, %bb.52..loopexit7, %144, %bb.53, %150, %bb.43, %176, %bb.29, %176, %bb.30, %180, %bb.31, %187, %bb.23.._crit_edge, %192, %bb.32..loopexit, %195, %bb.33, %203, %bb.15.._crit_edge41
    %v0 = COPY %68
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_find_string
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%3' }
  - { reg: '%a1', virtual-reg: '%4' }
  - { reg: '%a2', virtual-reg: '%5' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: kname, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 12):
    successors: %bb.2(37), %bb.1(62)
    liveins: %a0, %a1, %a2, %t9, %v0
  
    %6 = ADDu %v0, %t9
    %5 = COPY %a2
    %4 = COPY %a1
    %3 = COPY %a0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %7 = LW %6, target-flags(<unknown>) @strlen, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @strlen)
    %a0 = COPY %4
    %gp = COPY %6
    %t9 = COPY %7
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %8 = COPY %v0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %9 = ADDiu %zero, -1
    %10 = LEA_ADDiu %stack.0.kname, 0
    %11 = LW %6, target-flags(<unknown>) @name_ref, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @name_ref)
    %a0 = COPY %4
    %a1 = COPY %8
    %a2 = COPY %10
    %a3 = COPY %9
    %gp = COPY %6
    %t9 = COPY %11
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %12 = COPY %v0
    %0 = COPY %12
    BLTZ %12, %bb.2, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.5, freq 8):
    successors: %bb.2(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %13 = LW %6, target-flags(<unknown>) @dict_find, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_find)
    %14 = LEA_ADDiu %stack.0.kname, 0
    %a0 = COPY %3
    %a1 = COPY %14
    %a2 = COPY %5
    %gp = COPY %6
    %t9 = COPY %13
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %15 = COPY %v0
    %1 = COPY %15
  
  bb.2 (%ir-block.7, freq 12):
    liveouts: %v0
  
    %2 = PHI %0, %bb.0, %1, %bb.1
    %v0 = COPY %2
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_is_permanent_on_dstack
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%12' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    1
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 34):
    successors: %bb.1..preheader(37), %bb.5(62)
    liveins: %a0, %t9, %v0
  
    %13 = ADDu %v0, %t9
    %12 = COPY %a0
    %0 = LW %12, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.2, !tbaa !8)
    %14 = LW %13, target-flags(<unknown>) @d_stack, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %15 = LW %14, 20, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4)`, !tbaa !23)
    BNE killed %15, %zero, %bb.5, implicit-def dead %at
    B %bb.1..preheader, implicit-def dead %at
  
  bb.1..preheader (freq 12):
    successors: %bb.8..critedge(37), %bb.2..lr.ph(62)
  
    %31 = LW %13, target-flags(<unknown>) @min_dstack_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %1 = LW killed %31, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @min_dstack_size, !tbaa !1)
    %30 = ADDiu %zero, 0
    BEQ %1, %zero, %bb.8..critedge, implicit-def dead %at
    B %bb.2..lr.ph, implicit-def dead %at
  
  bb.2..lr.ph (freq 8):
    successors: %bb.4(100)
  
    %34 = LW %14, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1)`)
    %2 = ADDiu killed %34, 4
    %32 = ADDiu %zero, 0
    B %bb.4, implicit-def dead %at
  
  bb.3 (%ir-block.9, freq 125):
    successors: %bb.4(96), %bb.8..critedge(3)
  
    %6 = ADDiu %5, 1
    %38 = SLTu %6, %1
    %3 = ADDiu %4, 8
    %37 = ADDiu %zero, 0
    BEQ killed %38, %zero, %bb.8..critedge, implicit-def dead %at
    B %bb.4, implicit-def dead %at
  
  bb.4 (%ir-block.11, freq 130):
    successors: %bb.8..critedge(3), %bb.3(96)
  
    %4 = PHI %2, %bb.2..lr.ph, %3, %bb.3
    %5 = PHI %32, %bb.2..lr.ph, %6, %bb.3
    %36 = LW %4, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.lsr.iv3, !tbaa !8)
    %35 = ADDiu %zero, 1
    BEQ killed %36, %0, %bb.8..critedge, implicit-def dead %at
    B %bb.3, implicit-def dead %at
  
  bb.5 (%ir-block.15, freq 21):
    successors: %bb.9(50), %bb.8..critedge(50)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %18 = LW %13, target-flags(<unknown>) @ref_stack_count, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_count)
    %a0 = COPY %14
    %gp = COPY %13
    %t9 = COPY %18
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %19 = COPY %v0
    %20 = LW %13, target-flags(<unknown>) @min_dstack_size, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %21 = LW killed %20, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from @min_dstack_size, !tbaa !1)
    %16 = ADDiu %zero, 0
    %8 = SUBu %19, killed %21
    %22 = SLTu %8, %19
    BEQ %22, %zero, %bb.8..critedge, implicit-def %at
  
  bb.9 (freq 10):
    successors: %bb.7..lr.ph8(100)
  
    B %bb.7..lr.ph8, implicit-def %at
  
  bb.6 (%ir-block.20, freq 167):
    successors: %bb.7..lr.ph8(96), %bb.8..critedge(3)
  
    %10 = ADDiu %9, 1
    %29 = SLTu %10, %19
    BEQ killed %29, %zero, %bb.8..critedge, implicit-def dead %at
    B %bb.7..lr.ph8, implicit-def dead %at
  
  bb.7..lr.ph8 (freq 173):
    successors: %bb.8..critedge(3), %bb.6(96)
  
    %9 = PHI %8, %bb.9, %10, %bb.6
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %25 = LW %13, target-flags(<unknown>) @ref_stack_index, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_index)
    %a0 = COPY %14
    %a1 = COPY %9
    %gp = COPY %13
    %t9 = COPY %25
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %26 = COPY %v0
    %27 = LW %26, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.24, !tbaa !8)
    %23 = ADDiu %zero, 1
    BNE killed %27, %0, %bb.6, implicit-def dead %at
    B %bb.8..critedge, implicit-def dead %at
  
  bb.8..critedge (freq 34):
    liveouts: %v0
  
    %11 = PHI %16, %bb.5, %23, %bb.7..lr.ph8, %16, %bb.6, %30, %bb.1..preheader, %35, %bb.4, %37, %bb.3
    %v0 = COPY %11
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_find_name_by_index
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: acc64 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
  - { id: 85, class: gpr32 }
  - { id: 86, class: gpr32 }
  - { id: 87, class: gpr32 }
  - { id: 88, class: gpr32 }
  - { id: 89, class: gpr32 }
  - { id: 90, class: gpr32 }
  - { id: 91, class: gpr32 }
  - { id: 92, class: gpr32 }
  - { id: 93, class: acc64 }
  - { id: 94, class: gpr32 }
  - { id: 95, class: gpr32 }
  - { id: 96, class: gpr32 }
  - { id: 97, class: gpr32 }
  - { id: 98, class: gpr32 }
  - { id: 99, class: gpr32 }
  - { id: 100, class: gpr32 }
  - { id: 101, class: gpr32 }
  - { id: 102, class: gpr32 }
  - { id: 103, class: gpr32 }
  - { id: 104, class: gpr32 }
  - { id: 105, class: gpr32 }
  - { id: 106, class: gpr32 }
  - { id: 107, class: gpr32 }
  - { id: 108, class: gpr32 }
  - { id: 109, class: gpr32 }
  - { id: 110, class: gpr32 }
  - { id: 111, class: gpr32 }
  - { id: 112, class: gpr32 }
  - { id: 113, class: gpr32 }
  - { id: 114, class: gpr32 }
  - { id: 115, class: gpr32 }
  - { id: 116, class: gpr32 }
  - { id: 117, class: gpr32 }
  - { id: 118, class: gpr32 }
  - { id: 119, class: gpr32 }
  - { id: 120, class: gpr32 }
  - { id: 121, class: gpr32 }
  - { id: 122, class: gpr32 }
  - { id: 123, class: gpr32 }
  - { id: 124, class: gpr32 }
  - { id: 125, class: gpr32 }
  - { id: 126, class: gpr32 }
  - { id: 127, class: gpr32 }
  - { id: 128, class: gpr32 }
  - { id: 129, class: gpr32 }
  - { id: 130, class: gpr32 }
  - { id: 131, class: gpr32 }
  - { id: 132, class: gpr32 }
  - { id: 133, class: gpr32 }
  - { id: 134, class: gpr32 }
  - { id: 135, class: gpr32 }
  - { id: 136, class: gpr32 }
  - { id: 137, class: gpr32 }
  - { id: 138, class: gpr32 }
  - { id: 139, class: gpr32 }
  - { id: 140, class: gpr32 }
  - { id: 141, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%58' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: key, offset: 0, size: 8, alignment: 8 }
  - { id: 1, name: pvalue, offset: 0, size: 4, alignment: 4 }
body:             |
  bb.0 (%ir-block.0, freq 2104):
    successors: %bb.1(100)
    liveins: %a0, %t9, %v0
  
    %59 = ADDu %v0, %t9
    %58 = COPY %a0
    %60 = ORi %zero, 49152
    %61 = ADDu %58, killed %60
    %62 = ANDi killed %61, 65535
    %63 = SLTiu %58, 4096
    %1 = MOVZ_I_I killed %zero, killed %63, %62
    %65 = LW %59, target-flags(<unknown>) @d_stack, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %2 = LW %65, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1)`)
    %0 = LW %65, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0)`, !tbaa !20)
    %67 = ADDiu %zero, 6
    %90 = ORi %zero, 32769
    %97 = ORi %zero, 49151
    %100 = ADDiu %zero, 24576
    %101 = ADDiu %zero, -2
    %106 = ADDiu %zero, 2
    %74 = ADDiu %zero, 14
    %81 = ADDiu %zero, 13
  
  bb.1 (%ir-block.7, freq 3667):
    successors: %bb.2(50), %bb.18(50)
  
    %3 = PHI %0, %bb.0, %46, %bb.29..thread
    %4 = LW %3, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.9, !tbaa !8)
    %5 = LHu %4, 2, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.11, !tbaa !14)
    %66 = LBu %4, 8, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 1 from %ir.18, align 4, !tbaa !18)
    %8 = ADDiu %5, -1
    BNE killed %66, %67, %bb.18, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.21, freq 1833):
    successors: %bb.3(50), %bb.4(50)
  
    %91 = SLTu %8, %90
    %9 = LW %4, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr32, !tbaa !8)
    BNE killed %91, %zero, %bb.4, implicit-def dead %at
    B %bb.3, implicit-def dead %at
  
  bb.3 (%ir-block.24, freq 916):
    successors: %bb.5(100)
  
    %93 = PseudoUDIV %58, %8
    TEQ %8, %zero, 7
    %10 = PseudoMFHI killed %93
    B %bb.5, implicit-def dead %at
  
  bb.4 (%ir-block.26, freq 916):
    successors: %bb.5(100)
  
    %92 = ADDiu %5, -2
    %11 = AND killed %92, %58
  
  bb.5 (%ir-block.29, freq 1833):
    successors: %bb.7.._crit_edge42(3), %bb.6..lr.ph41.preheader(96)
  
    %12 = PHI %11, %bb.4, %10, %bb.3
    %94 = SLL %12, 1
    %95 = ADDu %9, %94
    %14 = LHu %95, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.32, !tbaa !15)
    %13 = ADDiu %95, 2
    BEQ %14, %1, %bb.7.._crit_edge42, implicit-def dead %at
    B %bb.6..lr.ph41.preheader, implicit-def dead %at
  
  bb.6..lr.ph41.preheader (freq 1776):
    successors: %bb.8..lr.ph41(100)
  
    B %bb.8..lr.ph41, implicit-def dead %at
  
  bb.7.._crit_edge42 (freq 938):
    successors: %bb.36..thread19(100)
  
    %16 = PHI %13, %bb.5, %22, %bb.46
    %137 = SUBu %16, %9
    %138 = SLL killed %137, 2
    %139 = LW %4, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.38, !tbaa !8)
    %17 = ADDu killed %139, killed %138
    B %bb.36..thread19, implicit-def dead %at
  
  bb.8..lr.ph41 (freq 29096):
    successors: %bb.11(50), %bb.9(50)
  
    %18 = PHI %94, %bb.6..lr.ph41.preheader, %21, %bb.11
    %19 = PHI %14, %bb.6..lr.ph41.preheader, %20, %bb.11
    %96 = ANDi %19, 65535
    %98 = SLTu %97, %96
    BNE killed %98, %zero, %bb.11, implicit-def dead %at
    B %bb.9, implicit-def dead %at
  
  bb.9 (%ir-block.47, freq 14548):
    successors: %bb.29..thread(3), %bb.10(96)
  
    BEQ %96, %100, %bb.29..thread, implicit-def dead %at
    B %bb.10, implicit-def dead %at
  
  bb.10 (%ir-block.49, freq 14093):
    successors: %bb.12(3), %bb.11(96)
  
    BEQ %18, %101, %bb.12, implicit-def dead %at
    B %bb.11, implicit-def dead %at
  
  bb.11 (%ir-block.52, freq 28201):
    successors: %bb.46(3), %bb.8..lr.ph41(96)
  
    %135 = ADDu %9, %18
    %20 = LHu killed %135, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.uglygep1718, !tbaa !15)
    %21 = ADDiu %18, -2
    BNE %20, %1, %bb.8..lr.ph41, implicit-def %at
  
  bb.46 (freq 881):
    successors: %bb.7.._crit_edge42(100)
  
    %136 = ADDu %9, %21
    %22 = ADDiu %136, 2
    B %bb.7.._crit_edge42, implicit-def %at
  
  bb.12 (%ir-block.57, freq 440):
    successors: %bb.14.._crit_edge52(3), %bb.13..lr.ph51.preheader(96)
  
    %102 = SLL %8, 1
    %23 = ADDu %9, killed %102
    %24 = LHu %23, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.58, !tbaa !15)
    BEQ %24, %1, %bb.14.._crit_edge52, implicit-def dead %at
    B %bb.13..lr.ph51.preheader, implicit-def dead %at
  
  bb.13..lr.ph51.preheader (freq 426):
    successors: %bb.15..lr.ph51(100)
  
    %25 = SLL %5, 1
    B %bb.15..lr.ph51, implicit-def dead %at
  
  bb.14.._crit_edge52 (freq 296):
    successors: %bb.36..thread19(100)
  
    %26 = PHI %23, %bb.12, %32, %bb.47
    %111 = SUBu %26, %9
    %112 = SLL killed %111, 2
    %113 = LW %4, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.64, !tbaa !8)
    %27 = ADDu killed %113, killed %112
    B %bb.36..thread19, implicit-def dead %at
  
  bb.15..lr.ph51 (freq 9197):
    successors: %bb.17(50), %bb.16(50)
  
    %28 = PHI %25, %bb.13..lr.ph51.preheader, %31, %bb.17
    %29 = PHI %24, %bb.13..lr.ph51.preheader, %30, %bb.17
    %103 = ANDi %29, 65535
    %105 = SLTu %97, %103
    BNE killed %105, %zero, %bb.17, implicit-def dead %at
    B %bb.16, implicit-def dead %at
  
  bb.16 (%ir-block.73, freq 4598):
    successors: %bb.29..thread(1), %bb.44(98)
  
    BEQ %28, %106, %bb.29..thread, implicit-def dead %at
    B %bb.44, implicit-def dead %at
  
  bb.44 (%ir-block.73, freq 4527):
    successors: %bb.29..thread(1), %bb.17(98)
  
    BEQ %103, %100, %bb.29..thread, implicit-def dead %at
    B %bb.17, implicit-def dead %at
  
  bb.17 (%ir-block.77, freq 9054):
    successors: %bb.47(3), %bb.15..lr.ph51(96)
  
    %109 = ADDu %9, %28
    %30 = LHu killed %109, -4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.scevgep26, !tbaa !15)
    %31 = ADDiu %28, -2
    BNE %30, %1, %bb.15..lr.ph51, implicit-def %at
  
  bb.47 (freq 282):
    successors: %bb.14.._crit_edge52(100)
  
    %110 = ADDu %9, %31
    %32 = ADDiu %110, -2
    B %bb.14.._crit_edge52, implicit-def %at
  
  bb.18 (%ir-block.82, freq 1833):
    successors: %bb.19(50), %bb.20(50)
  
    %69 = SLTu %8, %90
    %33 = LW %4, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr35, !tbaa !8)
    BNE killed %69, %zero, %bb.20, implicit-def dead %at
    B %bb.19, implicit-def dead %at
  
  bb.19 (%ir-block.85, freq 916):
    successors: %bb.21..outer(100)
  
    %71 = PseudoUDIV %58, %8
    TEQ %8, %zero, 7
    %34 = PseudoMFHI killed %71
    B %bb.21..outer, implicit-def dead %at
  
  bb.20 (%ir-block.87, freq 916):
    successors: %bb.21..outer(100)
  
    %70 = ADDiu %5, -2
    %35 = AND killed %70, %58
  
  bb.21..outer (freq 1833):
    successors: %bb.22..backedge(100)
  
    %36 = PHI %35, %bb.20, %34, %bb.19
    %72 = SLL %36, 3
    %37 = ADDiu killed %72, 8
  
  bb.22..backedge (freq 59294):
    successors: %bb.24(33), %bb.42..backedge(66)
  
    %38 = PHI %37, %bb.21..outer, %42, %bb.26..backedge.backedge
    %39 = ADDu %33, %38
    %40 = LW %39, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.uglygep5)
    %73 = SRL %40, 24
    BEQ %73, %74, %bb.24, implicit-def dead %at
    B %bb.42..backedge, implicit-def dead %at
  
  bb.42..backedge (freq 39529):
    successors: %bb.23(50), %bb.26..backedge.backedge(49)
  
    BNE %73, %81, %bb.26..backedge.backedge, implicit-def dead %at
    B %bb.23, implicit-def dead %at
  
  bb.23 (%ir-block.98, freq 19764):
    successors: %bb.28(3), %bb.26..backedge.backedge(96)
  
    %87 = ANDi %40, 65535
    %41 = COPY %39
    BEQ killed %87, %58, %bb.28, implicit-def dead %at
    B %bb.26..backedge.backedge, implicit-def dead %at
  
  bb.24 (%ir-block.102, freq 19764):
    successors: %bb.29..thread(3), %bb.25(96)
  
    %77 = LBu %39, 1, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.uglygep34 + 1)
    %78 = ANDi killed %77, 128
    BEQ killed %78, %zero, %bb.29..thread, implicit-def dead %at
    B %bb.25, implicit-def dead %at
  
  bb.25 (%ir-block.107, freq 19147):
    successors: %bb.27..outer.1162(3), %bb.26..backedge.backedge(96)
  
    BEQ %38, %zero, %bb.27..outer.1162, implicit-def dead %at
    B %bb.26..backedge.backedge, implicit-def dead %at
  
  bb.26..backedge.backedge (freq 57460):
    successors: %bb.22..backedge(100)
  
    %42 = ADDiu %38, -8
    B %bb.22..backedge, implicit-def dead %at
  
  bb.27..outer.1162 (freq 598):
    successors: %bb.37..backedge.1(100)
  
    %79 = SLL %5, 3
    %43 = ADDiu killed %79, -8
    B %bb.37..backedge.1, implicit-def dead %at
  
  bb.28 (%ir-block.112, freq 819):
    successors: %bb.36..thread19(100)
  
    %44 = PHI %56, %bb.40, %41, %bb.23
    %88 = SUBu %44, %33
    %89 = LW %4, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.114, !tbaa !8)
    %45 = ADDu killed %89, killed %88
    B %bb.36..thread19, implicit-def dead %at
  
  bb.29..thread (freq 1612):
    successors: %bb.1(96), %bb.30(3)
  
    %114 = SLTu %2, %3
    %46 = ADDiu %3, -8
    BNE killed %114, %zero, %bb.1, implicit-def dead %at
    B %bb.30, implicit-def dead %at
  
  bb.30 (%ir-block.123, freq 50):
    successors: %bb.36..thread19(37), %bb.31(62)
  
    %117 = LW %65, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4)`, !tbaa !23)
    %115 = ADDiu %zero, 0
    BEQ killed %117, %zero, %bb.36..thread19, implicit-def dead %at
    B %bb.31, implicit-def dead %at
  
  bb.31 (%ir-block.126, freq 31):
    successors: %bb.45(50), %bb.35.._crit_edge(50)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %119 = LW %59, target-flags(<unknown>) @ref_stack_count, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_count)
    %a0 = COPY %65
    %gp = COPY %59
    %t9 = COPY %119
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %120 = COPY %v0
    %121 = LEA_ADDiu %stack.0.key, 0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %122 = LW %59, target-flags(<unknown>) @name_index_ref, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @name_index_ref)
    %a0 = COPY %58
    %a1 = COPY %121
    %gp = COPY %59
    %t9 = COPY %122
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %123 = ADDiu %0, 8
    %124 = SUBu killed %123, %2
    %47 = SRA killed %124, 3
    %125 = SLTu %47, %120
    BEQ %125, %zero, %bb.35.._crit_edge, implicit-def %at
  
  bb.45 (freq 15):
    successors: %bb.33..lr.ph(100)
  
    %130 = LEA_ADDiu %stack.0.key, 0
    %131 = LEA_ADDiu %stack.1.pvalue, 0
    B %bb.33..lr.ph, implicit-def %at
  
  bb.32 (%ir-block.136, freq 248):
    successors: %bb.33..lr.ph(96), %bb.35.._crit_edge(3)
  
    %50 = ADDiu %49, 1
    %133 = SLTu %50, %120
    BEQ killed %133, %zero, %bb.35.._crit_edge, implicit-def dead %at
    B %bb.33..lr.ph, implicit-def dead %at
  
  bb.33..lr.ph (freq 256):
    successors: %bb.34(3), %bb.32(96)
  
    %49 = PHI %47, %bb.45, %50, %bb.32
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %127 = LW %59, target-flags(<unknown>) @ref_stack_index, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_index)
    %a0 = COPY %65
    %a1 = COPY %49
    %gp = COPY %59
    %t9 = COPY %127
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %128 = COPY %v0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %129 = LW %59, target-flags(<unknown>) @dict_find, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @dict_find)
    %a0 = COPY %128
    %a1 = COPY %130
    %a2 = COPY %131
    %gp = COPY %59
    %t9 = COPY %129
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %132 = COPY %v0
    BLEZ %132, %bb.32, implicit-def dead %at
    B %bb.34, implicit-def dead %at
  
  bb.34 (%ir-block.142, freq 7):
    successors: %bb.36..thread19(100)
  
    %51 = LW %stack.1.pvalue, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.pvalue, !tbaa !8)
    B %bb.36..thread19, implicit-def dead %at
  
  bb.35.._crit_edge (freq 23):
    successors: %bb.36..thread19(100)
  
  
  bb.36..thread19 (freq 2104):
    liveouts: %v0
  
    %52 = PHI %45, %bb.28, %27, %bb.14.._crit_edge52, %115, %bb.30, %115, %bb.35.._crit_edge, %51, %bb.34, %17, %bb.7.._crit_edge42
    %v0 = COPY %52
    RetRA implicit %v0
  
  bb.37..backedge.1 (freq 19348):
    successors: %bb.40(33), %bb.43..backedge.1(66)
  
    %53 = PHI %43, %bb.27..outer.1162, %57, %bb.41..backedge.backedge.1
    %54 = ADDu %33, %53
    %55 = LW %54, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.uglygep1112)
    %80 = SRL %55, 24
    BEQ %80, %81, %bb.40, implicit-def dead %at
    B %bb.43..backedge.1, implicit-def dead %at
  
  bb.43..backedge.1 (freq 12899):
    successors: %bb.38(50), %bb.41..backedge.backedge.1(49)
  
    BNE %80, %74, %bb.41..backedge.backedge.1, implicit-def dead %at
    B %bb.38, implicit-def dead %at
  
  bb.38 (%ir-block.154, freq 6449):
    successors: %bb.29..thread(3), %bb.39(96)
  
    %84 = LBu %54, 1, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.uglygep910 + 1)
    %85 = ANDi killed %84, 128
    BEQ killed %85, %zero, %bb.29..thread, implicit-def dead %at
    B %bb.39, implicit-def dead %at
  
  bb.39 (%ir-block.159, freq 6248):
    successors: %bb.29..thread(3), %bb.41..backedge.backedge.1(96)
  
    BEQ %53, %zero, %bb.29..thread, implicit-def dead %at
    B %bb.41..backedge.backedge.1, implicit-def dead %at
  
  bb.40 (%ir-block.162, freq 6449):
    successors: %bb.28(3), %bb.41..backedge.backedge.1(96)
  
    %86 = ANDi %55, 65535
    %56 = COPY %54
    BEQ killed %86, %58, %bb.28, implicit-def dead %at
    B %bb.41..backedge.backedge.1, implicit-def dead %at
  
  bb.41..backedge.backedge.1 (freq 18750):
    successors: %bb.37..backedge.1(100)
  
    %57 = ADDiu %53, -8
    B %bb.37..backedge.1, implicit-def dead %at

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_put
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: gpr32 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
  - { id: 85, class: gpr32 }
  - { id: 86, class: gpr32 }
  - { id: 87, class: gpr32 }
  - { id: 88, class: gpr32 }
  - { id: 89, class: gpr32 }
  - { id: 90, class: gpr32 }
  - { id: 91, class: gpr32 }
  - { id: 92, class: gpr32 }
  - { id: 93, class: gpr32 }
  - { id: 94, class: gpr32 }
  - { id: 95, class: gpr32 }
  - { id: 96, class: gpr32 }
  - { id: 97, class: gpr32 }
  - { id: 98, class: gpr32 }
  - { id: 99, class: gpr32 }
  - { id: 100, class: gpr32 }
  - { id: 101, class: gpr32 }
  - { id: 102, class: gpr32 }
  - { id: 103, class: gpr32 }
  - { id: 104, class: gpr32 }
  - { id: 105, class: gpr32 }
  - { id: 106, class: gpr32 }
  - { id: 107, class: gpr32 }
  - { id: 108, class: gpr32 }
  - { id: 109, class: gpr32 }
  - { id: 110, class: gpr32 }
  - { id: 111, class: gpr32 }
  - { id: 112, class: gpr32 }
  - { id: 113, class: gpr32 }
  - { id: 114, class: gpr32 }
  - { id: 115, class: gpr32 }
  - { id: 116, class: gpr32 }
  - { id: 117, class: gpr32 }
  - { id: 118, class: gpr32 }
  - { id: 119, class: gpr32 }
  - { id: 120, class: gpr32 }
  - { id: 121, class: gpr32 }
  - { id: 122, class: gpr32 }
  - { id: 123, class: gpr32 }
  - { id: 124, class: gpr32 }
  - { id: 125, class: gpr32 }
  - { id: 126, class: gpr32 }
  - { id: 127, class: gpr32 }
  - { id: 128, class: gpr32 }
  - { id: 129, class: gpr32 }
  - { id: 130, class: gpr32 }
  - { id: 131, class: gpr32 }
  - { id: 132, class: gpr32 }
  - { id: 133, class: gpr32 }
  - { id: 134, class: gpr32 }
  - { id: 135, class: gpr32 }
  - { id: 136, class: gpr32 }
  - { id: 137, class: gpr32 }
  - { id: 138, class: gpr32 }
  - { id: 139, class: gpr32 }
  - { id: 140, class: gpr32 }
  - { id: 141, class: gpr32 }
  - { id: 142, class: gpr32 }
  - { id: 143, class: gpr32 }
  - { id: 144, class: gpr32 }
  - { id: 145, class: gpr32 }
  - { id: 146, class: gpr32 }
  - { id: 147, class: gpr32 }
  - { id: 148, class: gpr32 }
  - { id: 149, class: gpr32 }
  - { id: 150, class: gpr32 }
  - { id: 151, class: gpr32 }
  - { id: 152, class: gpr32 }
  - { id: 153, class: gpr32 }
  - { id: 154, class: gpr32 }
  - { id: 155, class: gpr32 }
  - { id: 156, class: gpr32 }
  - { id: 157, class: gpr32 }
  - { id: 158, class: gpr32 }
  - { id: 159, class: gpr32 }
  - { id: 160, class: gpr32 }
  - { id: 161, class: gpr32 }
  - { id: 162, class: gpr32 }
  - { id: 163, class: gpr32 }
  - { id: 164, class: gpr32 }
  - { id: 165, class: gpr32 }
  - { id: 166, class: gpr32 }
  - { id: 167, class: gpr32 }
  - { id: 168, class: gpr32 }
  - { id: 169, class: gpr32 }
  - { id: 170, class: gpr32 }
  - { id: 171, class: gpr32 }
  - { id: 172, class: gpr32 }
  - { id: 173, class: gpr32 }
  - { id: 174, class: gpr32 }
  - { id: 175, class: gpr32 }
  - { id: 176, class: gpr32 }
  - { id: 177, class: gpr32 }
  - { id: 178, class: gpr32 }
  - { id: 179, class: gpr32 }
  - { id: 180, class: gpr32 }
  - { id: 181, class: gpr32 }
  - { id: 182, class: gpr32 }
  - { id: 183, class: gpr32 }
  - { id: 184, class: gpr32 }
  - { id: 185, class: gpr32 }
  - { id: 186, class: gpr32 }
  - { id: 187, class: gpr32 }
  - { id: 188, class: gpr32 }
  - { id: 189, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%46' }
  - { reg: '%a1', virtual-reg: '%47' }
  - { reg: '%a2', virtual-reg: '%48' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: pvslot, offset: 0, size: 4, alignment: 4 }
  - { id: 1, name: kname, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 2708):
    successors: %bb.41..loopexit33(50), %bb.1..preheader(50)
    liveins: %a0, %a1, %a2, %t9, %v0
  
    %56 = ADDu %v0, %t9
    %48 = COPY %a2
    %47 = COPY %a1
    %46 = COPY %a0
    %50 = LHu %48, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.2, align 4, !tbaa !9)
    %51 = ANDi killed %50, 12
    %52 = LHu %46, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.6, align 4, !tbaa !9)
    %53 = ANDi killed %52, 12
    %54 = SLTu killed %53, killed %51
    %49 = ADDiu %zero, -7
    BNE killed %54, %zero, %bb.41..loopexit33, implicit-def dead %at
    B %bb.1..preheader, implicit-def dead %at
  
  bb.1..preheader (freq 1354):
    successors: %bb.2(100)
  
    %55 = IMPLICIT_DEF
    %58 = LEA_ADDiu %stack.0.pvslot, 0
    %69 = ADDiu %zero, 18
    %73 = LEA_ADDiu %stack.1.kname, 0
    %77 = ADDiu %zero, 6
    %102 = LUi 65280
    %104 = LUi 3328
    %125 = ADDiu %zero, 2
    %60 = ADDiu %zero, -2
    %62 = LW %56, target-flags(<unknown>) @dict_auto_expand, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
  
  bb.2 (%ir-block.11, freq 8513):
    successors: %bb.3(96), %bb.37..loopexit.loopexit(3)
  
    %0 = PHI %47, %bb.1..preheader, %38, %bb.36
    %1 = PHI %55, %bb.1..preheader, %39, %bb.36
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %57 = LW %56, target-flags(<unknown>) @dict_find, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_find)
    %a0 = COPY %46
    %a1 = COPY %0
    %a2 = COPY %58
    %gp = COPY %56
    %t9 = COPY %57
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %59 = COPY %v0
    BGTZ %59, %bb.37..loopexit.loopexit, implicit-def dead %at
    B %bb.3, implicit-def dead %at
  
  bb.3 (%ir-block.14, freq 8247):
    successors: %bb.6(48), %bb.42(51)
  
    %2 = COPY %59
    BEQ %2, %zero, %bb.6, implicit-def dead %at
    B %bb.42, implicit-def dead %at
  
  bb.42 (%ir-block.14, freq 4252):
    successors: %bb.4(93), %bb.34..thread27(6)
  
    BNE %2, %60, %bb.34..thread27, implicit-def dead %at
    B %bb.4, implicit-def dead %at
  
  bb.4 (%ir-block.17, freq 3994):
    successors: %bb.34..thread27(3), %bb.5(96)
  
    %63 = LW %62, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from @dict_auto_expand, !tbaa !1)
    %61 = ADDiu %zero, -2
    BEQ killed %63, %zero, %bb.34..thread27, implicit-def dead %at
    B %bb.5, implicit-def dead %at
  
  bb.5 (%ir-block.20, freq 3870):
    successors: %bb.36(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %64 = LW %56, target-flags(<unknown>) @dict_grow, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_grow)
    %a0 = COPY %46
    %gp = COPY %56
    %t9 = COPY %64
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %65 = COPY %v0
    %66 = SLTi %65, 0
    %5 = MOVN_I_I %65, killed %66, %1
    %67 = SRA %65, 31
    %4 = ADDiu killed %67, 2
    B %bb.36, implicit-def dead %at
  
  bb.6 (%ir-block.25, freq 3994):
    successors: %bb.7(50), %bb.9(50)
  
    %3 = LW %46, 4, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 4 from %ir.sunkaddr5, !tbaa !8)
    %7 = LW %3, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.28, !tbaa !8)
    %68 = LBu %0, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 1 from %ir.30, align 4, !tbaa !18)
    %6 = LW %stack.0.pvslot, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.26, !tbaa !8)
    BNE killed %68, %69, %bb.9, implicit-def dead %at
    B %bb.7, implicit-def dead %at
  
  bb.7 (%ir-block.33, freq 1997):
    successors: %bb.34..thread27(3), %bb.8(96)
  
    %71 = LBu %0, 1, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.34 + 1)
    %72 = ANDi killed %71, 32
    %70 = ADDiu %zero, -7
    BEQ killed %72, %zero, %bb.34..thread27, implicit-def dead %at
    B %bb.8, implicit-def dead %at
  
  bb.8 (%ir-block.38, freq 1935):
    successors: %bb.34..thread27(3), %bb.9(96)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %74 = LW %56, target-flags(<unknown>) @name_from_string, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @name_from_string)
    %a0 = COPY %0
    %a1 = COPY %73
    %gp = COPY %56
    %t9 = COPY %74
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %75 = COPY %v0
    %8 = COPY %75
    BLTZ %75, %bb.34..thread27, implicit-def dead %at
    B %bb.9, implicit-def dead %at
  
  bb.9 (%ir-block.41, freq 3871):
    successors: %bb.10(96), %bb.15(3)
  
    %9 = PHI %0, %bb.6, %73, %bb.8
    %76 = LBu %3, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.43, align 4, !tbaa !18)
    %10 = ADDiu %3, 8
    BNE killed %76, %77, %bb.15, implicit-def dead %at
    B %bb.10, implicit-def dead %at
  
  bb.10 (%ir-block.46, freq 3750):
    successors: %bb.14(48), %bb.43(51)
  
    %101 = LW %9, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.47)
    %103 = AND %101, %102
    BNE killed %103, %104, %bb.14, implicit-def dead %at
    B %bb.43, implicit-def dead %at
  
  bb.43 (%ir-block.46, freq 1934):
    successors: %bb.14(93), %bb.11(6)
  
    %105 = ANDi %101, 65535
    %106 = SLTiu killed %105, 4096
    BEQ killed %106, %zero, %bb.14, implicit-def dead %at
    B %bb.11, implicit-def dead %at
  
  bb.11 (%ir-block.52, freq 117):
    successors: %bb.12(37), %bb.46(62)
  
    %107 = SUBu %6, %7
    %108 = SRA killed %107, 2
    %109 = LW %3, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.57, !tbaa !8)
    %13 = ADDu killed %109, killed %108
    %110 = LHu %3, 8, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.sunkaddr8, align 4, !tbaa !9)
    %111 = LW %56, target-flags(<unknown>) @gs_imemory, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from got)
    %112 = LW %111, 32, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %113 = AND killed %110, killed %112
    BEQ %113, %zero, %bb.12, implicit-def %at
  
  bb.46 (freq 73):
    successors: %bb.13..thread22(100)
  
    %11 = COPY %101
    %12 = COPY %11
    B %bb.13..thread22, implicit-def %at
  
  bb.12 (%ir-block.65, freq 43):
    successors: %bb.13..thread22(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %114 = LW %56, target-flags(<unknown>) @.str.3, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %115 = ADDiu killed %114, target-flags(<unknown>) @.str.3
    %117 = LW %56, target-flags(<unknown>) @alloc_save_change, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %111
    %a1 = COPY %10
    %a2 = COPY %13
    %a3 = COPY %115
    %gp = COPY %56
    %t9 = COPY %117
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %14 = LHu %9, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.66, !tbaa !14)
  
  bb.13..thread22 (freq 117):
    successors: %bb.19..loopexit32(100)
  
    %15 = PHI %12, %bb.46, %14, %bb.12
    %119 = ORi %zero, 49152
    %120 = ADDu %15, killed %119
    SH killed %120, %13, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.59, !tbaa !15)
    B %bb.19..loopexit32, implicit-def dead %at
  
  bb.14 (%ir-block.72, freq 3633):
    successors: %bb.19..loopexit32(3), %bb.47(96)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %121 = LW %56, target-flags(<unknown>) @dict_unpack, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_unpack)
    %a0 = COPY %46
    %gp = COPY %56
    %t9 = COPY %121
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %122 = COPY %v0
    %124 = SRA %122, 31
    %16 = ADDiu killed %124, 2
    BEQ %16, %zero, %bb.19..loopexit32, implicit-def %at
  
  bb.47 (freq 3520):
    successors: %bb.36(100)
  
    %123 = SLTi %122, 0
    %17 = MOVN_I_I %122, %123, %1
    B %bb.36, implicit-def %at
  
  bb.15 (%ir-block.77, freq 120):
    successors: %bb.34..thread27(50), %bb.16(50)
  
    %80 = LHu %9, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.85, align 4, !tbaa !9)
    %82 = ANDi killed %80, 12
    %83 = LHu %46, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.78, align 4, !tbaa !9)
    %84 = ANDi killed %83, 12
    %85 = SLTu killed %84, killed %82
    %78 = ADDiu %zero, -7
    BNE killed %85, %zero, %bb.34..thread27, implicit-def dead %at
    B %bb.16, implicit-def dead %at
  
  bb.16 (%ir-block.93, freq 60):
    successors: %bb.17(37), %bb.18..thread24(62)
  
    %79 = SUBu %6, %7
    %81 = LW %3, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.82, !tbaa !8)
    %18 = ADDu %81, %79
    %86 = LHu %18, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.94, align 4, !tbaa !9)
    %87 = LW %56, target-flags(<unknown>) @gs_imemory, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from got)
    %88 = LW %87, 32, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %89 = AND killed %86, killed %88
    BNE killed %89, %zero, %bb.18..thread24, implicit-def dead %at
    B %bb.17, implicit-def dead %at
  
  bb.17 (%ir-block.100, freq 22):
    successors: %bb.18..thread24(100)
  
    %90 = LW %56, target-flags(<unknown>) @.str.3, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %91 = ADDiu killed %90, target-flags(<unknown>) @.str.3
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %93 = LW %56, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %87
    %a1 = COPY %10
    %a2 = COPY %18
    %a3 = COPY %91
    %gp = COPY %56
    %t9 = COPY %93
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.18..thread24 (freq 60):
    successors: %bb.19..loopexit32(100)
  
    %95 = LW %9, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.104)
    %96 = LW %9, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.104 + 4)
    SW killed %96, %18, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.105 + 4)
    SW %95, %18, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.105)
    %98 = LW %87, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %99 = SRL %95, 16
    %100 = OR killed %99, killed %98
    SH killed %100, %18, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.103, align 4, !tbaa !9)
  
  bb.19..loopexit32 (freq 291):
    successors: %bb.20(37), %bb.21(62)
  
    %127 = LHu %3, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.110, align 4, !tbaa !9)
    %128 = LW %56, target-flags(<unknown>) @gs_imemory, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %129 = LW %128, 32, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %130 = AND killed %127, killed %129
    BNE killed %130, %zero, %bb.21, implicit-def dead %at
    B %bb.20, implicit-def dead %at
  
  bb.20 (%ir-block.116, freq 109):
    successors: %bb.21(100)
  
    %19 = ADDiu %3, 16
    %131 = LW %56, target-flags(<unknown>) @.str.4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %132 = ADDiu killed %131, target-flags(<unknown>) @.str.4
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %134 = LW %56, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %128
    %a1 = COPY %46
    %a2 = COPY %19
    %a3 = COPY %132
    %gp = COPY %56
    %t9 = COPY %134
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.21 (%ir-block.118, freq 291):
    successors: %bb.22(50), %bb.35..thread29(50)
  
    %136 = LW %3, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.119, !tbaa !16)
    %137 = ADDiu killed %136, 1
    SW killed %137, %3, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.119, !tbaa !16)
    %138 = LBu %9, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.122, align 4, !tbaa !18)
    %139 = ADDiu %zero, 13
    BNE killed %138, killed %139, %bb.35..thread29, implicit-def dead %at
    B %bb.22, implicit-def dead %at
  
  bb.22 (%ir-block.125, freq 145):
    successors: %bb.23(37), %bb.33.dict_is_permanent_on_dstack.exit.thread(62)
  
    %20 = LW %9, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.127, !tbaa !8)
    %141 = LW %20, 8, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.129, !tbaa !24)
    %140 = ADDiu %zero, 1
    BNE killed %141, %zero, %bb.33.dict_is_permanent_on_dstack.exit.thread, implicit-def dead %at
    B %bb.23, implicit-def dead %at
  
  bb.23 (%ir-block.132, freq 54):
    successors: %bb.32.dict_is_permanent_on_dstack.exit(37), %bb.24(62)
  
    %142 = LW %56, target-flags(<unknown>) @ref_systemdict, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %143 = LW killed %142, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `%struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**)`, !tbaa !8)
    BEQ %3, killed %143, %bb.32.dict_is_permanent_on_dstack.exit, implicit-def dead %at
    B %bb.24, implicit-def dead %at
  
  bb.24 (%ir-block.135, freq 34):
    successors: %bb.25..preheader.i(37), %bb.29(62)
  
    %21 = LW %46, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr11, !tbaa !8)
    %144 = LW %56, target-flags(<unknown>) @d_stack, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %145 = LW %144, 20, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4)`, !tbaa !23)
    BNE killed %145, %zero, %bb.29, implicit-def dead %at
    B %bb.25..preheader.i, implicit-def dead %at
  
  bb.25..preheader.i (freq 12):
    successors: %bb.33.dict_is_permanent_on_dstack.exit.thread(37), %bb.26..lr.ph.i(62)
  
    %160 = LW %56, target-flags(<unknown>) @min_dstack_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %22 = LW killed %160, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @min_dstack_size, !tbaa !1)
    BEQ %22, %zero, %bb.33.dict_is_permanent_on_dstack.exit.thread, implicit-def dead %at
    B %bb.26..lr.ph.i, implicit-def dead %at
  
  bb.26..lr.ph.i (freq 8):
    successors: %bb.28(100)
  
    %163 = LW %144, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `%struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1)`)
    %23 = ADDiu killed %163, 4
    %161 = ADDiu %zero, 0
    B %bb.28, implicit-def dead %at
  
  bb.27 (%ir-block.142, freq 125):
    successors: %bb.28(96), %bb.33.dict_is_permanent_on_dstack.exit.thread(3)
  
    %27 = ADDiu %26, 1
    %166 = SLTu %27, %22
    %24 = ADDiu %25, 8
    BEQ killed %166, %zero, %bb.33.dict_is_permanent_on_dstack.exit.thread, implicit-def dead %at
    B %bb.28, implicit-def dead %at
  
  bb.28 (%ir-block.144, freq 130):
    successors: %bb.32.dict_is_permanent_on_dstack.exit(3), %bb.27(96)
  
    %25 = PHI %23, %bb.26..lr.ph.i, %24, %bb.27
    %26 = PHI %161, %bb.26..lr.ph.i, %27, %bb.27
    %164 = LW %25, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.lsr.iv3, !tbaa !8)
    BEQ killed %164, %21, %bb.32.dict_is_permanent_on_dstack.exit, implicit-def dead %at
    B %bb.27, implicit-def dead %at
  
  bb.29 (%ir-block.148, freq 21):
    successors: %bb.45(50), %bb.33.dict_is_permanent_on_dstack.exit.thread(50)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %148 = LW %56, target-flags(<unknown>) @ref_stack_count, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_count)
    %a0 = COPY %144
    %gp = COPY %56
    %t9 = COPY %148
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %149 = COPY %v0
    %150 = LW %56, target-flags(<unknown>) @min_dstack_size, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %151 = LW killed %150, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from @min_dstack_size, !tbaa !1)
    %29 = SUBu %149, killed %151
    %152 = SLTu %29, %149
    BEQ %152, %zero, %bb.33.dict_is_permanent_on_dstack.exit.thread, implicit-def %at
  
  bb.45 (freq 10):
    successors: %bb.31..lr.ph8.i(100)
  
    B %bb.31..lr.ph8.i, implicit-def %at
  
  bb.30 (%ir-block.153, freq 167):
    successors: %bb.31..lr.ph8.i(96), %bb.33.dict_is_permanent_on_dstack.exit.thread(3)
  
    %31 = ADDiu %30, 1
    %158 = SLTu %31, %149
    BEQ killed %158, %zero, %bb.33.dict_is_permanent_on_dstack.exit.thread, implicit-def dead %at
    B %bb.31..lr.ph8.i, implicit-def dead %at
  
  bb.31..lr.ph8.i (freq 173):
    successors: %bb.32.dict_is_permanent_on_dstack.exit(3), %bb.30(96)
  
    %30 = PHI %29, %bb.45, %31, %bb.30
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %154 = LW %56, target-flags(<unknown>) @ref_stack_index, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @ref_stack_index)
    %a0 = COPY %144
    %a1 = COPY %30
    %gp = COPY %56
    %t9 = COPY %154
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %155 = COPY %v0
    %156 = LW %155, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.157, !tbaa !8)
    BNE killed %156, %21, %bb.30, implicit-def dead %at
    B %bb.32.dict_is_permanent_on_dstack.exit, implicit-def dead %at
  
  bb.32.dict_is_permanent_on_dstack.exit (freq 29):
    successors: %bb.33.dict_is_permanent_on_dstack.exit.thread(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %168 = LW %56, target-flags(<unknown>) @alloc_save_level, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @alloc_save_level)
    %a0 = COPY %128
    %gp = COPY %56
    %t9 = COPY %168
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %169 = COPY %v0
    %170 = ADDiu %zero, 1
    %32 = MOVZ_I_I %6, %169, %170
  
  bb.33.dict_is_permanent_on_dstack.exit.thread (freq 145):
    successors: %bb.35..thread29(100)
  
    %33 = PHI %140, %bb.22, %140, %bb.29, %140, %bb.30, %140, %bb.25..preheader.i, %140, %bb.27, %32, %bb.32.dict_is_permanent_on_dstack.exit
    SW %33, %20, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.sunkaddr14, !tbaa !24)
    B %bb.35..thread29, implicit-def dead %at
  
  bb.34..thread27 (freq 565):
    successors: %bb.41..loopexit33(100)
  
    %34 = PHI %2, %bb.42, %61, %bb.4, %70, %bb.7, %8, %bb.8, %78, %bb.15
    B %bb.41..loopexit33, implicit-def dead %at
  
  bb.35..thread29 (freq 291):
    successors: %bb.38..loopexit(100)
  
    %36 = COPY %6
    %171 = ADDiu %zero, 1
    B %bb.38..loopexit, implicit-def dead %at
  
  bb.36 (%ir-block.168, freq 7390):
    successors: %bb.2(96), %bb.44(3)
  
    %37 = PHI %4, %bb.5, %16, %bb.47
    %38 = PHI %0, %bb.5, %9, %bb.47
    %39 = PHI %5, %bb.5, %17, %bb.47
    BEQ %37, %125, %bb.2, implicit-def dead %at
    B %bb.44, implicit-def dead %at
  
  bb.44 (%ir-block.168, freq 230):
    successors: %bb.37..loopexit.loopexit(50), %bb.41..loopexit33(50)
  
    BNE %37, %zero, %bb.41..loopexit33, implicit-def dead %at
    B %bb.37..loopexit.loopexit, implicit-def dead %at
  
  bb.37..loopexit.loopexit (freq 381):
    successors: %bb.38..loopexit(100)
  
    %126 = ADDiu %zero, 0
    %41 = LW %stack.0.pvslot, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.pvslot, !tbaa !8)
    %40 = COPY %41
  
  bb.38..loopexit (freq 672):
    successors: %bb.39(37), %bb.40(62)
  
    %42 = PHI %41, %bb.37..loopexit.loopexit, %36, %bb.35..thread29
    %43 = PHI %40, %bb.37..loopexit.loopexit, %36, %bb.35..thread29
    %44 = PHI %126, %bb.37..loopexit.loopexit, %171, %bb.35..thread29
    %172 = LHu %43, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.173, align 4, !tbaa !9)
    %173 = LW %56, target-flags(<unknown>) @gs_imemory, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %174 = LW %173, 32, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %175 = AND killed %172, killed %174
    BNE killed %175, %zero, %bb.40, implicit-def dead %at
    B %bb.39, implicit-def dead %at
  
  bb.39 (%ir-block.179, freq 252):
    successors: %bb.40(100)
  
    %176 = LW %46, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr17, !tbaa !8)
    %177 = LW %56, target-flags(<unknown>) @.str.5, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %178 = ADDiu killed %177, target-flags(<unknown>) @.str.5
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %180 = LW %56, target-flags(<unknown>) @alloc_save_change, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %173
    %a1 = COPY %176
    %a2 = COPY %43
    %a3 = COPY %178
    %gp = COPY %56
    %t9 = COPY %180
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.40 (%ir-block.184, freq 672):
    successors: %bb.41..loopexit33(100)
  
    %182 = LW %48, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.185)
    %183 = LW %48, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.185 + 4)
    SW killed %183, %42, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.171 + 4)
    SW %182, %42, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.171)
    %185 = LW %173, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %186 = SRL %182, 16
    %187 = OR killed %186, killed %185
    SH killed %187, %42, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.188, align 4, !tbaa !9)
  
  bb.41..loopexit33 (freq 2708):
    liveouts: %v0
  
    %45 = PHI %49, %bb.0, %39, %bb.44, %44, %bb.40, %34, %bb.34..thread27
    %v0 = COPY %45
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_grow
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%13' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    1
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
body:             |
  bb.0 (%ir-block.0, freq 227):
    successors: %bb.1(50), %bb.6(50)
    liveins: %a0, %t9, %v0
  
    %21 = ADDu %v0, %t9
    %13 = COPY %a0
    %0 = LW %13, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.2, !tbaa !8)
    %14 = LW %0, 28, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.4, !tbaa !16)
    %15 = SLL %14, 1
    %16 = ADDu killed %15, %14
    %17 = SRL killed %16, 1
    %1 = ADDiu killed %17, 2
    %18 = LHu %0, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.9, !tbaa !14)
    %19 = ADDiu killed %18, -1
    %20 = SLTu killed %19, %1
    BEQ killed %20, %zero, %bb.6, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.14, freq 113):
    successors: %bb.9..thread(62), %bb.2(37)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %22 = LW %21, target-flags(<unknown>) @dict_resize, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_resize)
    %a0 = COPY %13
    %a1 = COPY %1
    %gp = COPY %21
    %t9 = COPY %22
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %23 = COPY %v0
    %2 = COPY %23
    BGEZ %23, %bb.9..thread, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.17, freq 42):
    successors: %bb.3(50), %bb.5(50)
  
    %24 = LW %21, target-flags(<unknown>) @dict_max_size, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %4 = LW killed %24, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from @dict_max_size, !tbaa !1)
    %3 = LHu %0, 2, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 2 from %ir.sunkaddr2, !tbaa !14)
    %25 = ADDiu %3, -1
    %26 = SLTu killed %25, %4
    BEQ killed %26, %zero, %bb.5, implicit-def dead %at
    B %bb.3, implicit-def dead %at
  
  bb.3 (%ir-block.23, freq 21):
    successors: %bb.9..thread(62), %bb.4.._crit_edge(37)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %27 = LW %21, target-flags(<unknown>) @dict_resize, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_resize)
    %a0 = COPY %13
    %a1 = COPY %4
    %t9 = COPY %27
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %28 = COPY %v0
    %5 = COPY %28
    BGEZ %28, %bb.9..thread, implicit-def dead %at
    B %bb.4.._crit_edge, implicit-def dead %at
  
  bb.4.._crit_edge (freq 8):
    successors: %bb.5(100)
  
    %6 = LHu %0, 2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.sunkaddr5, !tbaa !14)
  
  bb.5 (%ir-block.26, freq 29):
    successors: %bb.9..thread(50), %bb.6(50)
  
    %7 = PHI %3, %bb.2, %6, %bb.4.._crit_edge
    %8 = PHI %2, %bb.2, %5, %bb.4.._crit_edge
    %29 = LW %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.sunkaddr8, !tbaa !16)
    %30 = ANDi %7, 65535
    %9 = ADDiu killed %30, -1
    BEQ %9, killed %29, %bb.9..thread, implicit-def dead %at
    B %bb.6, implicit-def dead %at
  
  bb.6 (%ir-block.32, freq 128):
    successors: %bb.7(37), %bb.8(62)
  
    %10 = PHI %1, %bb.0, %9, %bb.5
    %31 = LHu %0, 24, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.33, align 4, !tbaa !9)
    %32 = LW %21, target-flags(<unknown>) @gs_imemory, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %33 = LW %32, 32, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %34 = AND killed %31, killed %33
    BNE killed %34, %zero, %bb.8, implicit-def dead %at
    B %bb.7, implicit-def dead %at
  
  bb.7 (%ir-block.39, freq 48):
    successors: %bb.8(100)
  
    %11 = ADDiu %0, 24
    %35 = LW %21, target-flags(<unknown>) @.str.14, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %36 = ADDiu killed %35, target-flags(<unknown>) @.str.14
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %38 = LW %21, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %32
    %a1 = COPY %13
    %a2 = COPY %11
    %a3 = COPY %36
    %gp = COPY %21
    %t9 = COPY %38
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.8 (%ir-block.41, freq 128):
    successors: %bb.9..thread(100)
  
    SW %10, %0, 28, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.sunkaddr11, !tbaa !16)
    %40 = ADDiu %zero, 0
  
  bb.9..thread (freq 227):
    liveouts: %v0
  
    %12 = PHI %2, %bb.1, %5, %bb.3, %8, %bb.5, %40, %bb.8
    %v0 = COPY %12
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_put_string
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%3' }
  - { reg: '%a1', virtual-reg: '%4' }
  - { reg: '%a2', virtual-reg: '%5' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    8
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: kname, offset: 0, size: 8, alignment: 8 }
body:             |
  bb.0 (%ir-block.0, freq 12):
    successors: %bb.2(37), %bb.1(62)
    liveins: %a0, %a1, %a2, %t9, %v0
  
    %6 = ADDu %v0, %t9
    %5 = COPY %a2
    %4 = COPY %a1
    %3 = COPY %a0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %7 = LW %6, target-flags(<unknown>) @strlen, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @strlen)
    %a0 = COPY %4
    %gp = COPY %6
    %t9 = COPY %7
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %8 = COPY %v0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %9 = ADDiu %zero, 0
    %10 = LEA_ADDiu %stack.0.kname, 0
    %11 = LW %6, target-flags(<unknown>) @name_ref, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @name_ref)
    %a0 = COPY %4
    %a1 = COPY %8
    %a2 = COPY %10
    %a3 = COPY %9
    %gp = COPY %6
    %t9 = COPY %11
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %12 = COPY %v0
    %0 = COPY %12
    BLTZ %12, %bb.2, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.5, freq 8):
    successors: %bb.2(100)
  
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %13 = LW %6, target-flags(<unknown>) @dict_put, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_put)
    %14 = LEA_ADDiu %stack.0.kname, 0
    %a0 = COPY %3
    %a1 = COPY %14
    %a2 = COPY %5
    %gp = COPY %6
    %t9 = COPY %13
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %15 = COPY %v0
    %1 = COPY %15
  
  bb.2 (%ir-block.7, freq 12):
    liveouts: %v0
  
    %2 = PHI %0, %bb.0, %1, %bb.1
    %v0 = COPY %2
    RetRA implicit %v0

...
--- |
  ; ModuleID = '/home/romi/didaktoriko/unison/unison-experiments/experiments/test-input/c/mediabench/mips_zip/build-mips/ghostscript/ghostscript.idict.ll'
  target datalayout = "E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64"
  target triple = "mips--linux-gnu"
  
  %struct.gs_dual_memory_s = type { %struct.gs_ref_memory_s*, %union.vm_spaces_s, i32, i32, i32 (%struct.gs_dual_memory_s*, i32)*, i32, i32 }
  %struct.gs_ref_memory_s = type opaque
  %union.vm_spaces_s = type { [4 x %struct.gs_ref_memory_s*] }
  %struct.ref_stack_s = type { %struct.ref_s*, %struct.ref_s*, %struct.ref_s*, %struct.ref_s, i32, i32, %struct.ref_s, i32, i32, i32, i32, i32, %struct.ref_s, i32, i32, i32, %struct.gs_ref_memory_s* }
  %struct.ref_s = type { %struct.tas_s, %union.v }
  %struct.tas_s = type { i16, i16 }
  %union.v = type { i32 }
  %struct.dict_s = type { %struct.ref_s, %struct.ref_s, %struct.ref_s, %struct.ref_s }
  %struct.name_s = type { i16, i16, i8*, %struct.ref_s* }
  
  @dict_max_size = global i32 65534, align 4
  @dict_auto_expand = global i32 0, align 4
  @dict_default_pack = global i32 1, align 4
  @gs_imemory = external global %struct.gs_dual_memory_s, align 4
  @.str = private unnamed_addr constant [12 x i8] c"dict_create\00", align 1
  @.str.1 = private unnamed_addr constant [18 x i8] c"dict_unpack(keys)\00", align 1
  @.str.2 = private unnamed_addr constant [22 x i8] c"dict_unpack(old keys)\00", align 1
  @d_stack = external global %struct.ref_stack_s, align 4
  @min_dstack_size = external global i32, align 4
  @.str.3 = private unnamed_addr constant [14 x i8] c"dict_put(key)\00", align 1
  @.str.4 = private unnamed_addr constant [16 x i8] c"dict_put(count)\00", align 1
  @ref_systemdict = external global %struct.ref_s, align 4
  @.str.5 = private unnamed_addr constant [16 x i8] c"dict_put(value)\00", align 1
  @.str.6 = private unnamed_addr constant [16 x i8] c"dict_undef(key)\00", align 1
  @.str.7 = private unnamed_addr constant [18 x i8] c"dict_undef(count)\00", align 1
  @.str.8 = private unnamed_addr constant [18 x i8] c"dict_undef(value)\00", align 1
  @dtop_keys = common global i16* null, align 4
  @dtop_npairs = common global i32 0, align 4
  @dtop_values = common global %struct.ref_s* null, align 4
  @no_packed_keys = internal global [2 x i16] [i16 24577, i16 24576], align 2
  @dsspace = common global i32 0, align 4
  @.str.9 = private unnamed_addr constant [20 x i8] c"dict_resize(values)\00", align 1
  @.str.10 = private unnamed_addr constant [24 x i8] c"dict_resize(old values)\00", align 1
  @.str.11 = private unnamed_addr constant [18 x i8] c"dict_resize(keys)\00", align 1
  @.str.12 = private unnamed_addr constant [22 x i8] c"dict_resize(old keys)\00", align 1
  @.str.13 = private unnamed_addr constant [23 x i8] c"dict_resize(maxlength)\00", align 1
  @.str.14 = private unnamed_addr constant [20 x i8] c"dict_put(maxlength)\00", align 1
  @.str.15 = private unnamed_addr constant [20 x i8] c"dict_create(values)\00", align 1
  @.str.16 = private unnamed_addr constant [25 x i8] c"dict_create(packed keys)\00", align 1
  @.str.17 = private unnamed_addr constant [26 x i8] c"dict create unpacked keys\00", align 1
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_small(i32 signext %rsize) #0 {
    %1 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %2 = icmp ult i32 %1, %rsize
    %3 = select i1 %2, i32 0, i32 %rsize
    ret i32 %3
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_round_size_large(i32 signext %rsize) #0 {
    %1 = icmp ugt i32 %rsize, 32768
    br i1 %1, label %5, label %.preheader
  
  .preheader:                                       ; preds = %0
    %2 = add i32 %rsize, -1
    %3 = and i32 %2, %rsize
    %4 = icmp eq i32 %3, 0
    br i1 %4, label %._crit_edge, label %.lr.ph
  
  ; <label>:5                                       ; preds = %0
    %6 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %7 = icmp ult i32 %6, %rsize
    %8 = select i1 %7, i32 0, i32 %rsize
    br label %17
  
  .lr.ph:                                           ; preds = %.preheader, %.lr.ph
    %9 = phi i32 [ %10, %.lr.ph ], [ %2, %.preheader ]
    %.02 = phi i32 [ %11, %.lr.ph ], [ %rsize, %.preheader ]
    %10 = or i32 %9, %.02
    %11 = add i32 %10, 1
    %12 = and i32 %10, %11
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %._crit_edge, label %.lr.ph
  
  ._crit_edge:                                      ; preds = %.lr.ph, %.preheader
    %.0.lcssa = phi i32 [ %rsize, %.preheader ], [ %11, %.lr.ph ]
    %14 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %15 = icmp ule i32 %.0.lcssa, %14
    %16 = select i1 %15, i32 %.0.lcssa, i32 32768
    br label %17
  
  ; <label>:17                                      ; preds = %._crit_edge, %5
    %.01 = phi i32 [ %8, %5 ], [ %16, %._crit_edge ]
    ret i32 %.01
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_create(i32 signext %size, %struct.ref_s* nocapture %pdref) #1 {
    %arr = alloca %struct.ref_s, align 4
    %dref = alloca i64, align 8
    %1 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %3 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %2, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext 4, i8* getelementptr inbounds ([12 x i8], [12 x i8]* @.str, i32 0, i32 0)) #6
    %4 = bitcast i64* %dref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %4) #6
    %5 = icmp slt i32 %3, 0
    br i1 %5, label %27, label %6
  
  ; <label>:6                                       ; preds = %0
    %7 = bitcast i64* %dref to %struct.ref_s*
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1, i32 0
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %7, i32 0, i32 1, i32 0
    store i32 %9, i32* %10, align 4, !tbaa !8
    %11 = bitcast %struct.ref_s* %arr to i16*
    %12 = load i16, i16* %11, align 4, !tbaa !9
    %13 = zext i16 %12 to i32
    %14 = and i32 %13, 12
    %15 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %16 = or i32 %15, %14
    %17 = or i32 %16, 112
    %18 = add i32 %17, 512
    %19 = trunc i32 %18 to i16
    %20 = bitcast i64* %dref to i16*
    store i16 %19, i16* %20, align 8, !tbaa !9
    %21 = load i32, i32* @dict_default_pack, align 4, !tbaa !1
    %22 = call fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nonnull %7, i32 signext %21)
    %23 = icmp slt i32 %22, 0
    br i1 %23, label %27, label %24
  
  ; <label>:24                                      ; preds = %6
    %25 = bitcast %struct.ref_s* %pdref to i64*
    %26 = load i64, i64* %dref, align 8
    store i64 %26, i64* %25, align 4
    br label %27
  
  ; <label>:27                                      ; preds = %24, %6, %0
    %.0 = phi i32 [ 0, %24 ], [ %3, %0 ], [ %22, %6 ]
    %28 = bitcast i64* %dref to i8*
    %29 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    call void @llvm.lifetime.end(i64 8, i8* %29) #6
    ret i32 %.0
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.start(i64, i8* nocapture) #2
  
  declare i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i32 signext, i32 signext, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_contents(i32 signext %size, %struct.ref_s* nocapture readonly %pdref, i32 signext %pack) unnamed_addr #1 {
    %arr = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = icmp eq i32 %size, 0
    %5 = select i1 %4, i32 1, i32 %size
    %6 = icmp ugt i32 %5, 32768
    br i1 %6, label %10, label %.preheader.i
  
  .preheader.i:                                     ; preds = %0
    %7 = add i32 %5, -1
    %8 = and i32 %7, %5
    %9 = icmp eq i32 %8, 0
    br i1 %9, label %._crit_edge.i, label %.lr.ph.i
  
  ; <label>:10                                      ; preds = %0
    %11 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %12 = icmp ult i32 %11, %5
    %13 = select i1 %12, i32 0, i32 %5
    br label %dict_round_size_large.exit
  
  .lr.ph.i:                                         ; preds = %.preheader.i, %.lr.ph.i
    %14 = phi i32 [ %15, %.lr.ph.i ], [ %7, %.preheader.i ]
    %.02.i = phi i32 [ %16, %.lr.ph.i ], [ %5, %.preheader.i ]
    %15 = or i32 %.02.i, %14
    %16 = add i32 %15, 1
    %17 = and i32 %16, %15
    %18 = icmp eq i32 %17, 0
    br i1 %18, label %._crit_edge.i, label %.lr.ph.i
  
  ._crit_edge.i:                                    ; preds = %.lr.ph.i, %.preheader.i
    %.0.lcssa.i = phi i32 [ %5, %.preheader.i ], [ %16, %.lr.ph.i ]
    %19 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %20 = icmp ule i32 %.0.lcssa.i, %19
    %21 = select i1 %20, i32 %.0.lcssa.i, i32 32768
    br label %dict_round_size_large.exit
  
  dict_round_size_large.exit:                       ; preds = %._crit_edge.i, %10
    %.01.i = phi i32 [ %13, %10 ], [ %21, %._crit_edge.i ]
    %22 = add i32 %.01.i, -1
    %23 = icmp ugt i32 %22, 65533
    br i1 %23, label %84, label %24
  
  ; <label>:24                                      ; preds = %dict_round_size_large.exit
    %25 = add i32 %.01.i, 1
    %26 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %27 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %28 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %26, %struct.ref_s* %27, i32 signext 112, i32 signext %25, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.15, i32 0, i32 0)) #6
    %29 = icmp slt i32 %28, 0
    br i1 %29, label %84, label %30
  
  ; <label>:30                                      ; preds = %24
    %31 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %32 = bitcast %struct.dict_s* %3 to i16*
    %33 = load i16, i16* %32, align 4, !tbaa !9
    %34 = zext i16 %33 to i32
    %35 = or i32 %34, %31
    %36 = trunc i32 %35 to i16
    store i16 %36, i16* %32, align 4, !tbaa !9
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    tail call void @refset_null(%struct.ref_s* %39, i32 signext %25) #6
    %40 = icmp eq i32 %pack, 0
    br i1 %40, label %74, label %41
  
  ; <label>:41                                      ; preds = %30
    %42 = add i32 %.01.i, 4
    %43 = lshr i32 %42, 2
    %44 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.start(i64 8, i8* %44) #6
    %45 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %46 = call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %45, %struct.ref_s* nonnull %arr, i32 signext 112, i32 signext %43, i8* nonnull getelementptr inbounds ([25 x i8], [25 x i8]* @.str.16, i32 0, i32 0)) #6
    %47 = icmp slt i32 %46, 0
    br i1 %47, label %72, label %48
  
  ; <label>:48                                      ; preds = %41
    %49 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %arr, i32 0, i32 1
    %50 = bitcast %union.v* %49 to i16**
    %51 = load i16*, i16** %50, align 4, !tbaa !8
    %52 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %53 = bitcast %union.v* %52 to i16**
    store i16* %51, i16** %53, align 4, !tbaa !8
    %54 = bitcast %struct.ref_s* %arr to i16*
    %55 = load i16, i16* %54, align 4, !tbaa !9
    %56 = zext i16 %55 to i32
    %57 = and i32 %56, 12
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %59 = or i32 %58, %57
    %60 = or i32 %59, 112
    %61 = add i32 %60, 1536
    %62 = trunc i32 %61 to i16
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 0
    store i16 %62, i16* %63, align 4, !tbaa !9
    %64 = trunc i32 %25 to i16
    %65 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 0, i32 1
    store i16 %64, i16* %65, align 2, !tbaa !14
    %66 = icmp eq i32 %25, 0
    br i1 %66, label %.critedge8, label %.critedge
  
  .critedge:                                        ; preds = %48, %.critedge
    %lsr.iv = phi i32 [ %lsr.iv.next, %.critedge ], [ 1, %48 ]
    %pzp.010 = phi i16* [ %67, %.critedge ], [ %51, %48 ]
    store i16 24576, i16* %pzp.010, align 2, !tbaa !15
    %67 = getelementptr inbounds i16, i16* %pzp.010, i32 1
    %68 = icmp uge i32 %lsr.iv, %25
    %69 = and i32 %lsr.iv, 3
    %70 = icmp eq i32 %69, 0
    %or.cond = and i1 %68, %70
    %lsr.iv.next = add i32 %lsr.iv, 1
    br i1 %or.cond, label %.critedge8, label %.critedge
  
  .critedge8:                                       ; preds = %.critedge, %48
    %71 = bitcast %struct.ref_s* %arr to i8*
    store i16 24577, i16* %51, align 2, !tbaa !15
    call void @llvm.lifetime.end(i64 8, i8* %71) #6
    br label %76
  
  ; <label>:72                                      ; preds = %41
    %73 = bitcast %struct.ref_s* %arr to i8*
    call void @llvm.lifetime.end(i64 8, i8* %73) #6
    br label %84
  
  ; <label>:74                                      ; preds = %30
    %75 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %25, %struct.ref_s* %pdref)
    %not. = icmp sgt i32 %75, -1
    br i1 %not., label %._crit_edge, label %84
  
  ._crit_edge:                                      ; preds = %74
    %.pre = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    br label %76
  
  ; <label>:76                                      ; preds = %._crit_edge, %.critedge8
    %77 = phi i32 [ %.pre, %._crit_edge ], [ %58, %.critedge8 ]
    %78 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    store i32 0, i32* %78, align 4, !tbaa !16
    %79 = add i32 %77, 2816
    %80 = trunc i32 %79 to i16
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 0, i32 0
    store i16 %80, i16* %81, align 4, !tbaa !9
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %size, i32* %82, align 4, !tbaa !16
    %83 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    store i16 %80, i16* %83, align 4, !tbaa !9
    br label %84
  
  ; <label>:84                                      ; preds = %76, %74, %72, %24, %dict_round_size_large.exit
    %.2 = phi i32 [ 0, %76 ], [ %46, %72 ], [ %75, %74 ], [ -13, %dict_round_size_large.exit ], [ %28, %24 ]
    ret i32 %.2
  }
  
  ; Function Attrs: argmemonly nounwind
  declare void @llvm.lifetime.end(i64, i8* nocapture) #2
  
  ; Function Attrs: nounwind
  define i32 @dict_unpack(%struct.ref_s* %pdref) #1 {
    %old_keys = alloca i64, align 8
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = bitcast %struct.ref_s* %4 to i8*
    %6 = load i8, i8* %5, align 4, !tbaa !18
    %7 = icmp eq i8 %6, 6
    br i1 %7, label %8, label %99
  
  ; <label>:8                                       ; preds = %0
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = zext i16 %10 to i32
    %13 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %14 = bitcast %union.v* %13 to i16**
    %15 = load i16*, i16** %14, align 4, !tbaa !8
    %16 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.start(i64 8, i8* %16) #6
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr2 = add i32 %sunkaddr, 8
    %sunkaddr3 = inttoptr i32 %sunkaddr2 to i64*
    %17 = load i64, i64* %sunkaddr3, align 4
    store i64 %17, i64* %old_keys, align 8
    %tmp = lshr i64 %17, 48
    %trunc = trunc i64 %tmp to i16
    %18 = trunc i64 %tmp to i32
    %19 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %20 = and i32 %18, %19
    %21 = icmp eq i32 %20, 0
    br i1 %21, label %22, label %25
  
  ; <label>:22                                      ; preds = %8
    %23 = bitcast %struct.ref_s* %4 to i16*
    %24 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %23, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.1, i32 0, i32 0)) #6
    br label %25
  
  ; <label>:25                                      ; preds = %22, %8
    %26 = tail call fastcc i32 @dict_create_unpacked_keys(i32 signext %12, %struct.ref_s* nonnull %pdref)
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %95, label %28
  
  ; <label>:28                                      ; preds = %25
    %29 = icmp eq i16 %10, 0
    br i1 %29, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %28
    %sunkaddr4 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr5 = add i32 %sunkaddr4, 12
    %sunkaddr6 = inttoptr i32 %sunkaddr5 to %struct.ref_s**
    %30 = load %struct.ref_s*, %struct.ref_s** %sunkaddr6, align 4, !tbaa !8
    %31 = sub i32 0, %11
    br label %.lr.ph
  
  .lr.ph:                                           ; preds = %49, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %49 ], [ %31, %.lr.ph.preheader ]
    %nkp.03 = phi %struct.ref_s* [ %51, %49 ], [ %30, %.lr.ph.preheader ]
    %okp.02 = phi i16* [ %50, %49 ], [ %15, %.lr.ph.preheader ]
    %32 = load i16, i16* %okp.02, align 2, !tbaa !15
    %33 = icmp ugt i16 %32, -16385
    br i1 %33, label %34, label %41
  
  ; <label>:34                                      ; preds = %.lr.ph
    %35 = bitcast %struct.ref_s* %nkp.03 to i16*
    tail call void @packed_get(i16* nonnull %okp.02, %struct.ref_s* %nkp.03) #6
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %37 = load i16, i16* %35, align 4, !tbaa !9
    %38 = zext i16 %37 to i32
    %39 = or i32 %38, %36
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %35, align 4, !tbaa !9
    br label %49
  
  ; <label>:41                                      ; preds = %.lr.ph
    %42 = icmp eq i16 %32, 24577
    br i1 %42, label %43, label %49
  
  ; <label>:43                                      ; preds = %41
    %44 = bitcast %struct.ref_s* %nkp.03 to i16*
    %45 = load i16, i16* %44, align 4, !tbaa !9
    %46 = zext i16 %45 to i32
    %47 = or i32 %46, 128
    %48 = trunc i32 %47 to i16
    store i16 %48, i16* %44, align 4, !tbaa !9
    br label %49
  
  ; <label>:49                                      ; preds = %43, %41, %34
    %50 = getelementptr inbounds i16, i16* %okp.02, i32 1
    %51 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nkp.03, i32 1
    %lsr.iv.next = add i32 %lsr.iv, 1
    %52 = icmp eq i32 %lsr.iv.next, 0
    br i1 %52, label %._crit_edge.loopexit, label %.lr.ph
  
  ._crit_edge.loopexit:                             ; preds = %49
    %53 = bitcast i64* %old_keys to i16*
    %.pre = load i16, i16* %53, align 8, !tbaa !9
    br label %._crit_edge
  
  ._crit_edge:                                      ; preds = %._crit_edge.loopexit, %28
    %54 = phi i16 [ %.pre, %._crit_edge.loopexit ], [ %trunc, %28 ]
    %55 = zext i16 %54 to i32
    %56 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %57 = and i32 %55, %56
    %58 = icmp eq i32 %57, 0
    br i1 %58, label %62, label %59
  
  ; <label>:59                                      ; preds = %._crit_edge
    %60 = bitcast i64* %old_keys to %struct.ref_s*
    %61 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %61, %struct.ref_s* nonnull %60, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.2, i32 0, i32 0)) #6
    br label %62
  
  ; <label>:62                                      ; preds = %59, %._crit_edge
    %63 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %64 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %63, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.dict_s**
    %66 = load %struct.dict_s*, %struct.dict_s** %65, align 4, !tbaa !8
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i8*
    %69 = load i8, i8* %68, align 4, !tbaa !18
    %70 = icmp eq i8 %69, 6
    br i1 %70, label %71, label %83
  
  ; <label>:71                                      ; preds = %62
    %72 = bitcast %struct.dict_s* %66 to i32*
    %73 = load i32, i32* %72, align 4
    %74 = and i32 %73, 2097152
    %75 = icmp eq i32 %74, 0
    br i1 %75, label %83, label %76
  
  ; <label>:76                                      ; preds = %71
    %77 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 1, i32 1, i32 0
    %78 = load i32, i32* %77, align 4, !tbaa !8
    store i32 %78, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %79 = and i32 %73, 65535
    %80 = add nsw i32 %79, -1
    store i32 %80, i32* @dtop_npairs, align 4, !tbaa !1
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %66, i32 0, i32 0, i32 1, i32 0
    %82 = load i32, i32* %81, align 4, !tbaa !8
    store i32 %82, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %84
  
  ; <label>:83                                      ; preds = %71, %62
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %84
  
  ; <label>:84                                      ; preds = %83, %76
    %sunkaddr7 = ptrtoint %struct.ref_s* %63 to i32
    %sunkaddr8 = add i32 %sunkaddr7, 4
    %sunkaddr9 = inttoptr i32 %sunkaddr8 to %struct.dict_s**
    %85 = load %struct.dict_s*, %struct.dict_s** %sunkaddr9, align 4, !tbaa !8
    %86 = bitcast %struct.dict_s* %85 to i16*
    %87 = load i16, i16* %86, align 4, !tbaa !9
    %88 = and i16 %87, 16
    %89 = icmp eq i16 %88, 0
    br i1 %89, label %97, label %90
  
  ; <label>:90                                      ; preds = %84
    %91 = bitcast %struct.ref_s* %63 to i16*
    %92 = load i16, i16* %91, align 4, !tbaa !9
    %93 = zext i16 %92 to i32
    %94 = and i32 %93, 12
    br label %97
  
  ; <label>:95                                      ; preds = %25
    %96 = bitcast i64* %old_keys to i8*
    call void @llvm.lifetime.end(i64 8, i8* %96) #6
    br label %99
  
  ; <label>:97                                      ; preds = %90, %84
    %storemerge.i = phi i32 [ %94, %90 ], [ -1, %84 ]
    %98 = bitcast i64* %old_keys to i8*
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    call void @llvm.lifetime.end(i64 8, i8* nonnull %98) #6
    br label %99
  
  ; <label>:99                                      ; preds = %97, %95, %0
    %100 = phi i32 [ 0, %97 ], [ %26, %95 ], [ 0, %0 ]
    ret i32 %100
  }
  
  declare i32 @alloc_save_change(%struct.gs_dual_memory_s*, %struct.ref_s*, i16*, i8*) #3
  
  ; Function Attrs: nounwind
  define internal fastcc i32 @dict_create_unpacked_keys(i32 signext %asize, %struct.ref_s* nocapture readonly %pdref) unnamed_addr #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %5 = bitcast %struct.ref_s* %pdref to i16*
    %6 = load i16, i16* %5, align 4, !tbaa !9
    %7 = zext i16 %6 to i32
    %8 = and i32 %7, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %8) #6
    %9 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %11 = tail call i32 @gs_alloc_ref_array(%struct.gs_ref_memory_s* %9, %struct.ref_s* %10, i32 signext 112, i32 signext %asize, i8* getelementptr inbounds ([26 x i8], [26 x i8]* @.str.17, i32 0, i32 0)) #6
    %12 = icmp sgt i32 %11, -1
    br i1 %12, label %13, label %27
  
  ; <label>:13                                      ; preds = %0
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %19 = zext i16 %18 to i32
    %20 = or i32 %19, %17
    %21 = trunc i32 %20 to i16
    store i16 %21, i16* %sunkaddr2, align 4, !tbaa !9
    tail call void @refset_null(%struct.ref_s* %16, i32 signext %asize) #6
    %22 = bitcast %struct.ref_s* %16 to i16*
    %23 = load i16, i16* %22, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = or i32 %24, 128
    %26 = trunc i32 %25 to i16
    store i16 %26, i16* %22, align 4, !tbaa !9
    br label %27
  
  ; <label>:27                                      ; preds = %13, %0
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %4) #6
    ret i32 %11
  }
  
  declare void @packed_get(i16*, %struct.ref_s*) #3
  
  declare void @gs_free_ref_array(%struct.gs_ref_memory_s*, %struct.ref_s*, i8*) #3
  
  ; Function Attrs: norecurse nounwind
  define void @dict_set_top() #4 {
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 0, i32 1
    %3 = bitcast %union.v* %2 to %struct.dict_s**
    %4 = load %struct.dict_s*, %struct.dict_s** %3, align 4, !tbaa !8
    %5 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1
    %6 = bitcast %struct.ref_s* %5 to i8*
    %7 = load i8, i8* %6, align 4, !tbaa !18
    %8 = icmp eq i8 %7, 6
    br i1 %8, label %9, label %21
  
  ; <label>:9                                       ; preds = %0
    %10 = bitcast %struct.dict_s* %4 to i32*
    %11 = load i32, i32* %10, align 4
    %12 = and i32 %11, 2097152
    %13 = icmp eq i32 %12, 0
    br i1 %13, label %21, label %14
  
  ; <label>:14                                      ; preds = %9
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 1, i32 1, i32 0
    %16 = load i32, i32* %15, align 4, !tbaa !8
    store i32 %16, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %17 = and i32 %11, 65535
    %18 = add nsw i32 %17, -1
    store i32 %18, i32* @dtop_npairs, align 4, !tbaa !1
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %4, i32 0, i32 0, i32 1, i32 0
    %20 = load i32, i32* %19, align 4, !tbaa !8
    store i32 %20, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %22
  
  ; <label>:21                                      ; preds = %9, %0
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %22
  
  ; <label>:22                                      ; preds = %21, %14
    %sunkaddr = ptrtoint %struct.ref_s* %1 to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.dict_s**
    %23 = load %struct.dict_s*, %struct.dict_s** %sunkaddr2, align 4, !tbaa !8
    %24 = bitcast %struct.dict_s* %23 to i16*
    %25 = load i16, i16* %24, align 4, !tbaa !9
    %26 = and i16 %25, 16
    %27 = icmp eq i16 %26, 0
    br i1 %27, label %33, label %28
  
  ; <label>:28                                      ; preds = %22
    %29 = bitcast %struct.ref_s* %1 to i16*
    %30 = load i16, i16* %29, align 4, !tbaa !9
    %31 = zext i16 %30 to i32
    %32 = and i32 %31, 12
    br label %33
  
  ; <label>:33                                      ; preds = %28, %22
    %storemerge = phi i32 [ %32, %28 ], [ -1, %22 ]
    store i32 %storemerge, i32* @dsspace, align 4, !tbaa !1
    ret void
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_find(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pkey, %struct.ref_s** nocapture %ppvalue) #1 {
    %nref = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = zext i16 %5 to i32
    %8 = add nsw i32 %7, -1
    %9 = bitcast %struct.ref_s* %pkey to i32*
    %10 = load i32, i32* %9, align 4
    %11 = lshr i32 %10, 24
    switch i32 %11, label %38 [
      i32 13, label %12
      i32 18, label %17
      i32 11, label %34
      i32 14, label %219
    ]
  
  ; <label>:12                                      ; preds = %0
    %13 = and i32 %10, 65535
    br label %14
  
  ; <label>:14                                      ; preds = %29, %12
    %nidx.0 = phi i32 [ %33, %29 ], [ %13, %12 ]
    %15 = icmp ult i32 %nidx.0, 4096
    %16 = add nuw nsw i32 %nidx.0, 49152
    %.op = and i32 %16, 65535
    %phitmp = select i1 %15, i32 %.op, i32 0
    br label %43
  
  ; <label>:17                                      ; preds = %0
    %18 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.start(i64 8, i8* %18) #6
    %19 = and i32 %10, 2097152
    %20 = icmp eq i32 %19, 0
    br i1 %20, label %.thread, label %21
  
  ; <label>:21                                      ; preds = %17
    %22 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %23 = bitcast %union.v* %22 to i8**
    %24 = load i8*, i8** %23, align 4, !tbaa !8
    %25 = and i32 %10, 65535
    %26 = call i32 @name_ref(i8* %24, i32 signext %25, %struct.ref_s* nonnull %nref, i32 signext 1) #6
    %27 = icmp slt i32 %26, 0
    br i1 %27, label %.thread, label %29
  
  .thread:                                          ; preds = %21, %17
    %.0.ph = phi i32 [ %26, %21 ], [ -7, %17 ]
    %28 = bitcast %struct.ref_s* %nref to i8*
    call void @llvm.lifetime.end(i64 8, i8* %28) #6
    br label %219
  
  ; <label>:29                                      ; preds = %21
    %30 = bitcast %struct.ref_s* %nref to i8*
    %31 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %nref, i32 0, i32 0, i32 1
    %32 = load i16, i16* %31, align 2, !tbaa !14
    %33 = zext i16 %32 to i32
    call void @llvm.lifetime.end(i64 8, i8* %30) #6
    br label %14
  
  ; <label>:34                                      ; preds = %0
    %35 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1, i32 0
    %36 = load i32, i32* %35, align 4, !tbaa !16
    %37 = mul i32 %36, 30503
    br label %43
  
  ; <label>:38                                      ; preds = %0
    %39 = bitcast %struct.ref_s* %pkey to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = icmp ugt i16 %40, 5375
    %.op5 = mul nuw nsw i32 %11, 99
    %42 = select i1 %41, i32 1485, i32 %.op5
    br label %43
  
  ; <label>:43                                      ; preds = %38, %34, %14
    %hash.0 = phi i32 [ %42, %38 ], [ %37, %34 ], [ %nidx.0, %14 ]
    %ktype.0 = phi i32 [ -1, %38 ], [ -1, %34 ], [ 13, %14 ]
    %kpack.0 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %phitmp, %14 ]
    %nidx.2 = phi i32 [ 0, %38 ], [ 0, %34 ], [ %nidx.0, %14 ]
    %44 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %45 = bitcast %struct.ref_s* %44 to i8*
    %46 = load i8, i8* %45, align 4, !tbaa !18
    %47 = icmp eq i8 %46, 6
    br i1 %47, label %48, label %148
  
  ; <label>:48                                      ; preds = %43
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr24 = add i32 %sunkaddr, 12
    %sunkaddr25 = inttoptr i32 %sunkaddr24 to i16**
    %49 = load i16*, i16** %sunkaddr25, align 4, !tbaa !8
    %50 = icmp ugt i32 %8, 32768
    br i1 %50, label %51, label %53
  
  ; <label>:51                                      ; preds = %48
    %52 = urem i32 %hash.0, %8
    br label %56
  
  ; <label>:53                                      ; preds = %48
    %54 = add nsw i32 %7, -2
    %55 = and i32 %hash.0, %54
    br label %56
  
  ; <label>:56                                      ; preds = %53, %51
    %57 = phi i32 [ %52, %51 ], [ %55, %53 ]
    %58 = getelementptr inbounds i16, i16* %49, i32 %57
    %59 = getelementptr inbounds i16, i16* %58, i32 1
    %60 = load i16, i16* %59, align 2, !tbaa !15
    %61 = zext i16 %60 to i32
    %62 = icmp eq i32 %61, %kpack.0
    br i1 %62, label %._crit_edge41, label %.lr.ph40.preheader
  
  .lr.ph40.preheader:                               ; preds = %56
    %63 = shl i32 %57, 1
    br label %.lr.ph40
  
  ._crit_edge41:                                    ; preds = %82, %56
    %kp.0.lcssa = phi i16* [ %59, %56 ], [ %scevgep18, %82 ]
    %64 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %65 = bitcast %union.v* %64 to %struct.ref_s**
    %66 = load %struct.ref_s*, %struct.ref_s** %65, align 4, !tbaa !8
    %67 = ptrtoint i16* %kp.0.lcssa to i32
    %68 = ptrtoint i16* %49 to i32
    %69 = sub i32 %67, %68
    %70 = ashr exact i32 %69, 1
    %71 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %66, i32 %70
    store %struct.ref_s* %71, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph40:                                         ; preds = %82, %.lr.ph40.preheader
    %lsr.iv9 = phi i32 [ %lsr.iv.next10, %82 ], [ %63, %.lr.ph40.preheader ]
    %72 = phi i16 [ %84, %82 ], [ %60, %.lr.ph40.preheader ]
    %pslot.037 = phi i16* [ %pslot.1, %82 ], [ null, %.lr.ph40.preheader ]
    %73 = bitcast i16* %49 to i8*
    %uglygep11 = getelementptr i8, i8* %73, i32 %lsr.iv9
    %uglygep1112 = bitcast i8* %uglygep11 to i16*
    %scevgep13 = getelementptr i16, i16* %uglygep1112, i32 1
    %74 = icmp ugt i16 %72, -16385
    br i1 %74, label %82, label %75
  
  ; <label>:75                                      ; preds = %.lr.ph40
    %76 = icmp eq i16 %72, 24576
    br i1 %76, label %.loopexit, label %77
  
  ; <label>:77                                      ; preds = %75
    %78 = inttoptr i32 %lsr.iv9 to i16*
    %79 = icmp eq i16* %78, inttoptr (i32 -2 to i16*)
    br i1 %79, label %87, label %80
  
  ; <label>:80                                      ; preds = %77
    %81 = icmp eq i16* %pslot.037, null
    %kp.0.pslot.0 = select i1 %81, i16* %scevgep13, i16* %pslot.037
    br label %82
  
  ; <label>:82                                      ; preds = %80, %.lr.ph40
    %pslot.1 = phi i16* [ %pslot.037, %.lr.ph40 ], [ %kp.0.pslot.0, %80 ]
    %83 = bitcast i16* %49 to i8*
    %uglygep14 = getelementptr i8, i8* %83, i32 %lsr.iv9
    %uglygep1415 = bitcast i8* %uglygep14 to i16*
    %84 = load i16, i16* %uglygep1415, align 2, !tbaa !15
    %85 = zext i16 %84 to i32
    %86 = icmp eq i32 %85, %kpack.0
    %lsr.iv.next10 = add i32 %lsr.iv9, -2
    %uglygep16 = getelementptr i8, i8* %83, i32 %lsr.iv.next10
    %uglygep1617 = bitcast i8* %uglygep16 to i16*
    %scevgep18 = getelementptr i16, i16* %uglygep1617, i32 1
    br i1 %86, label %._crit_edge41, label %.lr.ph40
  
  ; <label>:87                                      ; preds = %77
    %88 = getelementptr inbounds i16, i16* %49, i32 %8
    %89 = load i16, i16* %88, align 2, !tbaa !15
    %90 = zext i16 %89 to i32
    %91 = icmp eq i32 %90, %kpack.0
    br i1 %91, label %._crit_edge, label %.lr.ph.preheader
  
  .lr.ph.preheader:                                 ; preds = %87
    %92 = shl i32 %6, 1
    br label %.lr.ph
  
  ._crit_edge:                                      ; preds = %111, %87
    %kp.1.lcssa = phi i16* [ %88, %87 ], [ %scevgep7, %111 ]
    %93 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %94 = bitcast %union.v* %93 to %struct.ref_s**
    %95 = load %struct.ref_s*, %struct.ref_s** %94, align 4, !tbaa !8
    %96 = ptrtoint i16* %kp.1.lcssa to i32
    %97 = ptrtoint i16* %49 to i32
    %98 = sub i32 %96, %97
    %99 = ashr exact i32 %98, 1
    %100 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %95, i32 %99
    store %struct.ref_s* %100, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .lr.ph:                                           ; preds = %111, %.lr.ph.preheader
    %lsr.iv = phi i32 [ %lsr.iv.next, %111 ], [ %92, %.lr.ph.preheader ]
    %101 = phi i16 [ %113, %111 ], [ %89, %.lr.ph.preheader ]
    %pslot.235 = phi i16* [ %pslot.3, %111 ], [ %pslot.037, %.lr.ph.preheader ]
    %102 = bitcast i16* %49 to i8*
    %uglygep = getelementptr i8, i8* %102, i32 %lsr.iv
    %uglygep1 = bitcast i8* %uglygep to i16*
    %scevgep = getelementptr i16, i16* %uglygep1, i32 -1
    %103 = icmp ugt i16 %101, -16385
    br i1 %103, label %111, label %104
  
  ; <label>:104                                     ; preds = %.lr.ph
    %105 = icmp eq i16 %101, 24576
    br i1 %105, label %.loopexit, label %106
  
  ; <label>:106                                     ; preds = %104
    %107 = inttoptr i32 %lsr.iv to i16*
    %108 = icmp eq i16* %107, inttoptr (i32 2 to i16*)
    br i1 %108, label %116, label %109
  
  ; <label>:109                                     ; preds = %106
    %110 = icmp eq i16* %pslot.235, null
    %kp.1.pslot.2 = select i1 %110, i16* %scevgep, i16* %pslot.235
    br label %111
  
  ; <label>:111                                     ; preds = %109, %.lr.ph
    %pslot.3 = phi i16* [ %pslot.235, %.lr.ph ], [ %kp.1.pslot.2, %109 ]
    %112 = bitcast i16* %49 to i8*
    %uglygep2 = getelementptr i8, i8* %112, i32 %lsr.iv
    %uglygep23 = bitcast i8* %uglygep2 to i16*
    %scevgep4 = getelementptr i16, i16* %uglygep23, i32 -2
    %113 = load i16, i16* %scevgep4, align 2, !tbaa !15
    %114 = zext i16 %113 to i32
    %115 = icmp eq i32 %114, %kpack.0
    %lsr.iv.next = add i32 %lsr.iv, -2
    %uglygep5 = getelementptr i8, i8* %112, i32 %lsr.iv.next
    %uglygep56 = bitcast i8* %uglygep5 to i16*
    %scevgep7 = getelementptr i16, i16* %uglygep56, i32 -1
    br i1 %115, label %._crit_edge, label %.lr.ph
  
  ; <label>:116                                     ; preds = %106
    %117 = icmp eq i16* %pslot.235, null
    br i1 %117, label %219, label %118
  
  ; <label>:118                                     ; preds = %116
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %122 = load i32, i32* %121, align 4, !tbaa !16
    %123 = icmp eq i32 %120, %122
    br i1 %123, label %219, label %124
  
  ; <label>:124                                     ; preds = %118
    %125 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %126 = bitcast %union.v* %125 to %struct.ref_s**
    %127 = load %struct.ref_s*, %struct.ref_s** %126, align 4, !tbaa !8
    %128 = ptrtoint i16* %pslot.235 to i32
    %129 = ptrtoint i16* %49 to i32
    %130 = sub i32 %128, %129
    %131 = ashr exact i32 %130, 1
    %132 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %127, i32 %131
    store %struct.ref_s* %132, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit:                                        ; preds = %75, %104
    %pslot.4 = phi i16* [ %pslot.235, %104 ], [ %pslot.037, %75 ]
    %kp.2 = phi i16* [ %scevgep, %104 ], [ %scevgep13, %75 ]
    %133 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %134 = load i32, i32* %133, align 4, !tbaa !16
    %135 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %136 = load i32, i32* %135, align 4, !tbaa !16
    %137 = icmp eq i32 %134, %136
    br i1 %137, label %219, label %138
  
  ; <label>:138                                     ; preds = %.loopexit
    %139 = icmp eq i16* %pslot.4, null
    %kp.2.pslot.4 = select i1 %139, i16* %kp.2, i16* %pslot.4
    %140 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %141 = bitcast %union.v* %140 to %struct.ref_s**
    %142 = load %struct.ref_s*, %struct.ref_s** %141, align 4, !tbaa !8
    %143 = ptrtoint i16* %kp.2.pslot.4 to i32
    %144 = ptrtoint i16* %49 to i32
    %145 = sub i32 %143, %144
    %146 = ashr exact i32 %145, 1
    %147 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %142, i32 %146
    store %struct.ref_s* %147, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:148                                     ; preds = %43
    %sunkaddr26 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr27 = add i32 %sunkaddr26, 12
    %sunkaddr28 = inttoptr i32 %sunkaddr27 to %struct.ref_s**
    %149 = load %struct.ref_s*, %struct.ref_s** %sunkaddr28, align 4, !tbaa !8
    %150 = icmp ugt i32 %8, 32768
    br i1 %150, label %151, label %153
  
  ; <label>:151                                     ; preds = %148
    %152 = urem i32 %hash.0, %8
    br label %156
  
  ; <label>:153                                     ; preds = %148
    %154 = add nsw i32 %7, -2
    %155 = and i32 %hash.0, %154
    br label %156
  
  ; <label>:156                                     ; preds = %153, %151
    %157 = phi i32 [ %152, %151 ], [ %155, %153 ]
    %158 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %157
    %159 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %158, i32 2
    %160 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %149, i32 %7
    br label %.outer
  
  .outer:                                           ; preds = %189, %156
    %kp2.0.ph = phi %struct.ref_s* [ %lsr.iv21, %189 ], [ %159, %156 ]
    %pslot3.0.ph = phi %struct.ref_s* [ %.pslot3.0, %189 ], [ null, %156 ]
    %wrap.0.ph = phi i32 [ %wrap.0.ph10, %189 ], [ 0, %156 ]
    br label %.outer8
  
  .outer8:                                          ; preds = %180, %.outer
    %kp2.0.ph9 = phi %struct.ref_s* [ %kp2.0.ph, %.outer ], [ %160, %180 ]
    %wrap.0.ph10 = phi i32 [ %wrap.0.ph, %.outer ], [ 1, %180 ]
    %scevgep20 = getelementptr %struct.ref_s, %struct.ref_s* %kp2.0.ph9, i32 -1
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer8
    %lsr.iv21 = phi %struct.ref_s* [ %scevgep22, %.backedge.backedge ], [ %scevgep20, %.outer8 ]
    %lsr.iv2123 = bitcast %struct.ref_s* %lsr.iv21 to i32*
    %161 = load i32, i32* %lsr.iv2123, align 4
    %162 = lshr i32 %161, 24
    %163 = icmp eq i32 %162, %ktype.0
    br i1 %163, label %164, label %176
  
  ; <label>:164                                     ; preds = %.backedge
    %165 = and i32 %161, 65535
    %166 = icmp eq i32 %165, %nidx.2
    br i1 %166, label %167, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %191, %164
    %scevgep22 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv21, i32 -1
    br label %.backedge
  
  ; <label>:167                                     ; preds = %164
    %168 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %169 = bitcast %union.v* %168 to %struct.ref_s**
    %170 = load %struct.ref_s*, %struct.ref_s** %169, align 4, !tbaa !8
    %171 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %172 = ptrtoint %struct.ref_s* %149 to i32
    %173 = sub i32 %171, %172
    %174 = ashr exact i32 %173, 3
    %175 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %170, i32 %174
    store %struct.ref_s* %175, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:176                                     ; preds = %.backedge
    %177 = icmp eq i32 %162, 14
    br i1 %177, label %178, label %191
  
  ; <label>:178                                     ; preds = %176
    %179 = icmp eq %struct.ref_s* %lsr.iv21, %149
    br i1 %179, label %180, label %184
  
  ; <label>:180                                     ; preds = %178
    %181 = icmp eq i32 %wrap.0.ph10, 0
    br i1 %181, label %.outer8, label %182
  
  ; <label>:182                                     ; preds = %180
    %183 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    br i1 %183, label %219, label %.loopexit7
  
  ; <label>:184                                     ; preds = %178
    %185 = bitcast %struct.ref_s* %lsr.iv21 to i16*
    %186 = load i16, i16* %185, align 4, !tbaa !9
    %187 = and i16 %186, 128
    %188 = icmp eq i16 %187, 0
    br i1 %188, label %.loopexit7, label %189
  
  ; <label>:189                                     ; preds = %184
    %190 = icmp eq %struct.ref_s* %pslot3.0.ph, null
    %.pslot3.0 = select i1 %190, %struct.ref_s* %lsr.iv21, %struct.ref_s* %pslot3.0.ph
    br label %.outer
  
  ; <label>:191                                     ; preds = %176
    %192 = call i32 @obj_eq(%struct.ref_s* %lsr.iv21, %struct.ref_s* %pkey) #6
    %193 = icmp eq i32 %192, 0
    br i1 %193, label %.backedge.backedge, label %194
  
  ; <label>:194                                     ; preds = %191
    %195 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %196 = bitcast %union.v* %195 to %struct.ref_s**
    %197 = load %struct.ref_s*, %struct.ref_s** %196, align 4, !tbaa !8
    %198 = ptrtoint %struct.ref_s* %lsr.iv21 to i32
    %199 = ptrtoint %struct.ref_s* %149 to i32
    %200 = sub i32 %198, %199
    %201 = ashr exact i32 %200, 3
    %202 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %197, i32 %201
    store %struct.ref_s* %202, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  .loopexit7:                                       ; preds = %184, %182
    %.lcssa5559 = phi %struct.ref_s* [ %149, %182 ], [ %lsr.iv21, %184 ]
    %203 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %204 = load i32, i32* %203, align 4, !tbaa !16
    %205 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %206 = load i32, i32* %205, align 4, !tbaa !16
    %207 = icmp eq i32 %204, %206
    br i1 %207, label %219, label %208
  
  ; <label>:208                                     ; preds = %.loopexit7
    %209 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %210 = bitcast %union.v* %209 to %struct.ref_s**
    %211 = load %struct.ref_s*, %struct.ref_s** %210, align 4, !tbaa !8
    %212 = icmp ne %struct.ref_s* %pslot3.0.ph, null
    %213 = select i1 %212, %struct.ref_s* %pslot3.0.ph, %struct.ref_s* %.lcssa5559
    %214 = ptrtoint %struct.ref_s* %213 to i32
    %215 = ptrtoint %struct.ref_s* %149 to i32
    %216 = sub i32 %214, %215
    %217 = ashr exact i32 %216, 3
    %218 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %211, i32 %217
    store %struct.ref_s* %218, %struct.ref_s** %ppvalue, align 4, !tbaa !8
    br label %219
  
  ; <label>:219                                     ; preds = %208, %.loopexit7, %194, %182, %167, %138, %.loopexit, %124, %118, %116, %._crit_edge, %._crit_edge41, %.thread, %0
    %.3 = phi i32 [ -20, %0 ], [ 1, %._crit_edge41 ], [ 0, %138 ], [ 1, %._crit_edge ], [ 0, %124 ], [ -2, %118 ], [ -2, %116 ], [ -2, %.loopexit ], [ 1, %167 ], [ 0, %208 ], [ 1, %194 ], [ -2, %182 ], [ -2, %.loopexit7 ], [ %.0.ph, %.thread ]
    ret i32 %.3
  }
  
  declare i32 @name_ref(i8*, i32 signext, %struct.ref_s*, i32 signext) #3
  
  declare i32 @obj_eq(%struct.ref_s*, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_find_string(%struct.ref_s* nocapture readonly %pdref, i8* %kstr, %struct.ref_s** nocapture %ppvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext -1) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s** %ppvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind readonly
  declare i32 @strlen(i8* nocapture) #5
  
  ; Function Attrs: nounwind
  define i32 @dict_is_permanent_on_dstack(%struct.ref_s* nocapture readonly %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %5 = icmp eq i32 %4, 0
    br i1 %5, label %.preheader, label %15
  
  .preheader:                                       ; preds = %0
    %6 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %7 = icmp eq i32 %6, 0
    br i1 %7, label %.critedge, label %.lr.ph
  
  .lr.ph:                                           ; preds = %.preheader
    %8 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %8, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %11
  
  ; <label>:9                                       ; preds = %11
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %10 = icmp ult i32 %14, %6
    br i1 %10, label %11, label %.critedge
  
  ; <label>:11                                      ; preds = %9, %.lr.ph
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %9 ], [ %scevgep1, %.lr.ph ]
    %i.04 = phi i32 [ 0, %.lr.ph ], [ %14, %9 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %12 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %13 = icmp eq %struct.dict_s* %12, %3
    %14 = add nuw nsw i32 %i.04, 1
    br i1 %13, label %.critedge, label %9
  
  ; <label>:15                                      ; preds = %0
    %16 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %17 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %18 = sub i32 %16, %17
    %19 = icmp ult i32 %18, %16
    br i1 %19, label %.lr.ph8, label %.critedge
  
  ; <label>:20                                      ; preds = %.lr.ph8
    %21 = icmp ult i32 %27, %16
    br i1 %21, label %.lr.ph8, label %.critedge
  
  .lr.ph8:                                          ; preds = %15, %20
    %i.17 = phi i32 [ %27, %20 ], [ %18, %15 ]
    %22 = tail call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17) #6
    %23 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %22, i32 0, i32 1
    %24 = bitcast %union.v* %23 to %struct.dict_s**
    %25 = load %struct.dict_s*, %struct.dict_s** %24, align 4, !tbaa !8
    %26 = icmp eq %struct.dict_s* %25, %3
    %27 = add nuw nsw i32 %i.17, 1
    br i1 %26, label %.critedge, label %20
  
  .critedge:                                        ; preds = %20, %.lr.ph8, %9, %11, %15, %.preheader
    %.1 = phi i32 [ 0, %.preheader ], [ 0, %15 ], [ 1, %11 ], [ 0, %9 ], [ 0, %20 ], [ 1, %.lr.ph8 ]
    ret i32 %.1
  }
  
  declare i32 @ref_stack_count(%struct.ref_stack_s*) #3
  
  declare %struct.ref_s* @ref_stack_index(%struct.ref_stack_s*, i32 signext) #3
  
  ; Function Attrs: nounwind
  define %struct.ref_s* @dict_find_name_by_index(i32 signext %nidx) #1 {
    %key = alloca %struct.ref_s, align 4
    %pvalue = alloca %struct.ref_s*, align 4
    %1 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %2 = icmp ult i32 %nidx, 4096
    %3 = add i32 %nidx, 49152
    %4 = and i32 %3, 65535
    %5 = select i1 %2, i32 %4, i32 0
    %6 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    br label %7
  
  ; <label>:7                                       ; preds = %.thread, %0
    %pdref.0 = phi %struct.ref_s* [ %1, %0 ], [ %121, %.thread ]
    %8 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 0, i32 1
    %9 = bitcast %union.v* %8 to %struct.dict_s**
    %10 = load %struct.dict_s*, %struct.dict_s** %9, align 4, !tbaa !8
    %11 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 0, i32 1
    %12 = load i16, i16* %11, align 2, !tbaa !14
    %13 = zext i16 %12 to i32
    %14 = zext i16 %12 to i32
    %15 = zext i16 %12 to i32
    %16 = add nsw i32 %15, -1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 1
    %18 = bitcast %struct.ref_s* %17 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    br i1 %20, label %21, label %82
  
  ; <label>:21                                      ; preds = %7
    %sunkaddr = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr31 = add i32 %sunkaddr, 12
    %sunkaddr32 = inttoptr i32 %sunkaddr31 to i16**
    %22 = load i16*, i16** %sunkaddr32, align 4, !tbaa !8
    %23 = icmp ugt i32 %16, 32768
    br i1 %23, label %24, label %26
  
  ; <label>:24                                      ; preds = %21
    %25 = urem i32 %nidx, %16
    br label %29
  
  ; <label>:26                                      ; preds = %21
    %27 = add nsw i32 %15, -2
    %28 = and i32 %27, %nidx
    br label %29
  
  ; <label>:29                                      ; preds = %26, %24
    %30 = phi i32 [ %25, %24 ], [ %28, %26 ]
    %31 = getelementptr inbounds i16, i16* %22, i32 %30
    %32 = getelementptr inbounds i16, i16* %31, i32 1
    %33 = load i16, i16* %32, align 2, !tbaa !15
    %34 = zext i16 %33 to i32
    %35 = icmp eq i32 %34, %5
    br i1 %35, label %._crit_edge42, label %.lr.ph41.preheader
  
  .lr.ph41.preheader:                               ; preds = %29
    %36 = shl i32 %30, 1
    br label %.lr.ph41
  
  ._crit_edge42:                                    ; preds = %29, %52
    %kp.0.lcssa = phi i16* [ %scevgep, %52 ], [ %32, %29 ]
    %37 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %38 = bitcast %union.v* %37 to %struct.ref_s**
    %39 = load %struct.ref_s*, %struct.ref_s** %38, align 4, !tbaa !8
    %40 = ptrtoint i16* %kp.0.lcssa to i32
    %41 = ptrtoint i16* %22 to i32
    %42 = sub i32 %40, %41
    %43 = ashr exact i32 %42, 1
    %44 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %39, i32 %43
    br label %.thread19
  
  .lr.ph41:                                         ; preds = %52, %.lr.ph41.preheader
    %lsr.iv15 = phi i32 [ %lsr.iv.next16, %52 ], [ %36, %.lr.ph41.preheader ]
    %45 = phi i16 [ %54, %52 ], [ %33, %.lr.ph41.preheader ]
    %46 = icmp ugt i16 %45, -16385
    br i1 %46, label %52, label %47
  
  ; <label>:47                                      ; preds = %.lr.ph41
    %48 = icmp eq i16 %45, 24576
    br i1 %48, label %.thread, label %49
  
  ; <label>:49                                      ; preds = %47
    %50 = inttoptr i32 %lsr.iv15 to i16*
    %51 = icmp eq i16* %50, inttoptr (i32 -2 to i16*)
    br i1 %51, label %57, label %52
  
  ; <label>:52                                      ; preds = %49, %.lr.ph41
    %53 = bitcast i16* %22 to i8*
    %uglygep17 = getelementptr i8, i8* %53, i32 %lsr.iv15
    %uglygep1718 = bitcast i8* %uglygep17 to i16*
    %54 = load i16, i16* %uglygep1718, align 2, !tbaa !15
    %55 = zext i16 %54 to i32
    %56 = icmp eq i32 %55, %5
    %lsr.iv.next16 = add i32 %lsr.iv15, -2
    %uglygep19 = getelementptr i8, i8* %53, i32 %lsr.iv.next16
    %uglygep1920 = bitcast i8* %uglygep19 to i16*
    %scevgep = getelementptr i16, i16* %uglygep1920, i32 1
    br i1 %56, label %._crit_edge42, label %.lr.ph41
  
  ; <label>:57                                      ; preds = %49
    %58 = getelementptr inbounds i16, i16* %22, i32 %16
    %59 = load i16, i16* %58, align 2, !tbaa !15
    %60 = zext i16 %59 to i32
    %61 = icmp eq i32 %60, %5
    br i1 %61, label %._crit_edge52, label %.lr.ph51.preheader
  
  .lr.ph51.preheader:                               ; preds = %57
    %62 = shl i32 %14, 1
    br label %.lr.ph51
  
  ._crit_edge52:                                    ; preds = %57, %77
    %kp.1.lcssa = phi i16* [ %scevgep29, %77 ], [ %58, %57 ]
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %64 = bitcast %union.v* %63 to %struct.ref_s**
    %65 = load %struct.ref_s*, %struct.ref_s** %64, align 4, !tbaa !8
    %66 = ptrtoint i16* %kp.1.lcssa to i32
    %67 = ptrtoint i16* %22 to i32
    %68 = sub i32 %66, %67
    %69 = ashr exact i32 %68, 1
    %70 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %65, i32 %69
    br label %.thread19
  
  .lr.ph51:                                         ; preds = %77, %.lr.ph51.preheader
    %lsr.iv22 = phi i32 [ %lsr.iv.next23, %77 ], [ %62, %.lr.ph51.preheader ]
    %71 = phi i16 [ %79, %77 ], [ %59, %.lr.ph51.preheader ]
    %72 = icmp ugt i16 %71, -16385
    br i1 %72, label %77, label %73
  
  ; <label>:73                                      ; preds = %.lr.ph51
    %74 = inttoptr i32 %lsr.iv22 to i16*
    %75 = icmp eq i16 %71, 24576
    %76 = icmp eq i16* %74, inttoptr (i32 2 to i16*)
    %or.cond = or i1 %76, %75
    br i1 %or.cond, label %.thread, label %77
  
  ; <label>:77                                      ; preds = %73, %.lr.ph51
    %78 = bitcast i16* %22 to i8*
    %uglygep24 = getelementptr i8, i8* %78, i32 %lsr.iv22
    %uglygep2425 = bitcast i8* %uglygep24 to i16*
    %scevgep26 = getelementptr i16, i16* %uglygep2425, i32 -2
    %79 = load i16, i16* %scevgep26, align 2, !tbaa !15
    %80 = zext i16 %79 to i32
    %81 = icmp eq i32 %80, %5
    %lsr.iv.next23 = add i32 %lsr.iv22, -2
    %uglygep27 = getelementptr i8, i8* %78, i32 %lsr.iv.next23
    %uglygep2728 = bitcast i8* %uglygep27 to i16*
    %scevgep29 = getelementptr i16, i16* %uglygep2728, i32 -1
    br i1 %81, label %._crit_edge52, label %.lr.ph51
  
  ; <label>:82                                      ; preds = %7
    %sunkaddr33 = ptrtoint %struct.dict_s* %10 to i32
    %sunkaddr34 = add i32 %sunkaddr33, 12
    %sunkaddr35 = inttoptr i32 %sunkaddr34 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %sunkaddr35, align 4, !tbaa !8
    %84 = icmp ugt i32 %16, 32768
    br i1 %84, label %85, label %87
  
  ; <label>:85                                      ; preds = %82
    %86 = urem i32 %nidx, %16
    br label %.outer
  
  ; <label>:87                                      ; preds = %82
    %88 = add nsw i32 %15, -2
    %89 = and i32 %88, %nidx
    br label %.outer
  
  .outer:                                           ; preds = %85, %87
    %90 = phi i32 [ %86, %85 ], [ %89, %87 ]
    %91 = shl i32 %90, 3
    %92 = add i32 %91, 8
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %.outer
    %lsr.iv = phi i32 [ %lsr.iv.next, %.backedge.backedge ], [ %92, %.outer ]
    %93 = bitcast %struct.ref_s* %83 to i8*
    %uglygep = getelementptr i8, i8* %93, i32 %lsr.iv
    %uglygep5 = bitcast i8* %uglygep to i32*
    %94 = load i32, i32* %uglygep5, align 4
    %95 = lshr i32 %94, 24
    %96 = trunc i32 %95 to i8
    %97 = zext i8 %96 to i32
    switch i32 %97, label %.backedge.backedge [
      i32 13, label %98
      i32 14, label %102
    ]
  
  ; <label>:98                                      ; preds = %.backedge
    %99 = bitcast i8* %uglygep to %struct.ref_s*
    %100 = and i32 %94, 65535
    %101 = icmp eq i32 %100, %nidx
    br i1 %101, label %112, label %.backedge.backedge
  
  ; <label>:102                                     ; preds = %.backedge
    %103 = bitcast %struct.ref_s* %83 to i8*
    %uglygep3 = getelementptr i8, i8* %103, i32 %lsr.iv
    %uglygep34 = bitcast i8* %uglygep3 to i16*
    %104 = load i16, i16* %uglygep34, align 4, !tbaa !9
    %105 = and i16 %104, 128
    %106 = icmp eq i16 %105, 0
    br i1 %106, label %.thread, label %107
  
  ; <label>:107                                     ; preds = %102
    %108 = inttoptr i32 %lsr.iv to %struct.ref_s*
    %109 = icmp eq %struct.ref_s* %108, null
    br i1 %109, label %.outer.1162, label %.backedge.backedge
  
  .backedge.backedge:                               ; preds = %107, %98, %.backedge
    %lsr.iv.next = add i32 %lsr.iv, -8
    br label %.backedge
  
  .outer.1162:                                      ; preds = %107
    %110 = shl i32 %13, 3
    %111 = add i32 %110, -8
    br label %.backedge.1
  
  ; <label>:112                                     ; preds = %162, %98
    %.lcssa143 = phi %struct.ref_s* [ %99, %98 ], [ %163, %162 ]
    %113 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %10, i32 0, i32 0, i32 1
    %114 = bitcast %union.v* %113 to %struct.ref_s**
    %115 = load %struct.ref_s*, %struct.ref_s** %114, align 4, !tbaa !8
    %116 = ptrtoint %struct.ref_s* %.lcssa143 to i32
    %117 = ptrtoint %struct.ref_s* %83 to i32
    %118 = sub i32 %116, %117
    %119 = ashr exact i32 %118, 3
    %120 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %115, i32 %119
    br label %.thread19
  
  .thread:                                          ; preds = %159, %47, %73, %102, %154
    %121 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref.0, i32 -1
    %122 = icmp ugt %struct.ref_s* %pdref.0, %6
    br i1 %122, label %7, label %123
  
  ; <label>:123                                     ; preds = %.thread
    %124 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %125 = icmp eq i32 %124, 0
    br i1 %125, label %.thread19, label %126
  
  ; <label>:126                                     ; preds = %123
    %127 = ptrtoint %struct.ref_s* %6 to i32
    %128 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %128) #6
    %129 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %1, i32 1
    %130 = ptrtoint %struct.ref_s* %129 to i32
    %131 = sub i32 %130, %127
    %132 = ashr exact i32 %131, 3
    %133 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %134 = bitcast %struct.ref_s** %pvalue to i8*
    call void @llvm.lifetime.start(i64 4, i8* %134) #6
    call void @name_index_ref(i32 signext %nidx, %struct.ref_s* nonnull %key) #6
    %135 = icmp ult i32 %132, %133
    br i1 %135, label %.lr.ph, label %._crit_edge
  
  ; <label>:136                                     ; preds = %.lr.ph
    %137 = icmp ult i32 %141, %133
    br i1 %137, label %.lr.ph, label %._crit_edge
  
  .lr.ph:                                           ; preds = %126, %136
    %i.038 = phi i32 [ %141, %136 ], [ %132, %126 ]
    %138 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.038) #6
    %139 = call i32 @dict_find(%struct.ref_s* %138, %struct.ref_s* nonnull %key, %struct.ref_s** nonnull %pvalue)
    %140 = icmp sgt i32 %139, 0
    %141 = add nuw i32 %i.038, 1
    br i1 %140, label %142, label %136
  
  ; <label>:142                                     ; preds = %.lr.ph
    %143 = bitcast %struct.ref_s** %pvalue to i8*
    %144 = bitcast %struct.ref_s* %key to i8*
    %145 = load %struct.ref_s*, %struct.ref_s** %pvalue, align 4, !tbaa !8
    call void @llvm.lifetime.end(i64 4, i8* %143) #6
    call void @llvm.lifetime.end(i64 8, i8* %144) #6
    br label %.thread19
  
  ._crit_edge:                                      ; preds = %136, %126
    %146 = bitcast %struct.ref_s** %pvalue to i8*
    %147 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 4, i8* %146) #6
    call void @llvm.lifetime.end(i64 8, i8* %147) #6
    br label %.thread19
  
  .thread19:                                        ; preds = %._crit_edge, %142, %123, %112, %._crit_edge52, %._crit_edge42
    %148 = phi %struct.ref_s* [ null, %._crit_edge ], [ %145, %142 ], [ null, %123 ], [ %70, %._crit_edge52 ], [ %44, %._crit_edge42 ], [ %120, %112 ]
    ret %struct.ref_s* %148
  
  .backedge.1:                                      ; preds = %.backedge.backedge.1, %.outer.1162
    %lsr.iv6 = phi i32 [ %lsr.iv.next7, %.backedge.backedge.1 ], [ %111, %.outer.1162 ]
    %149 = bitcast %struct.ref_s* %83 to i8*
    %uglygep13 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep11 = getelementptr i8, i8* %149, i32 %lsr.iv6
    %uglygep1112 = bitcast i8* %uglygep11 to i32*
    %150 = load i32, i32* %uglygep1112, align 4
    %151 = lshr i32 %150, 24
    %152 = trunc i32 %151 to i8
    %153 = zext i8 %152 to i32
    switch i32 %153, label %.backedge.backedge.1 [
      i32 13, label %162
      i32 14, label %154
    ]
  
  ; <label>:154                                     ; preds = %.backedge.1
    %155 = bitcast %struct.ref_s* %83 to i8*
    %uglygep9 = getelementptr i8, i8* %155, i32 %lsr.iv6
    %uglygep910 = bitcast i8* %uglygep9 to i16*
    %156 = load i16, i16* %uglygep910, align 4, !tbaa !9
    %157 = and i16 %156, 128
    %158 = icmp eq i16 %157, 0
    br i1 %158, label %.thread, label %159
  
  ; <label>:159                                     ; preds = %154
    %160 = inttoptr i32 %lsr.iv6 to %struct.ref_s*
    %161 = icmp eq %struct.ref_s* %160, null
    br i1 %161, label %.thread, label %.backedge.backedge.1
  
  ; <label>:162                                     ; preds = %.backedge.1
    %163 = bitcast i8* %uglygep13 to %struct.ref_s*
    %164 = and i32 %150, 65535
    %165 = icmp eq i32 %164, %nidx
    br i1 %165, label %112, label %.backedge.backedge.1
  
  .backedge.backedge.1:                             ; preds = %162, %159, %.backedge.1
    %lsr.iv.next7 = add i32 %lsr.iv6, -8
    br label %.backedge.1
  }
  
  declare void @name_index_ref(i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = bitcast %struct.ref_s* %pvalue to i16*
    %3 = load i16, i16* %2, align 4, !tbaa !9
    %4 = zext i16 %3 to i32
    %5 = and i32 %4, 12
    %6 = bitcast %struct.ref_s* %pdref to i16*
    %7 = load i16, i16* %6, align 4, !tbaa !9
    %8 = zext i16 %7 to i32
    %9 = and i32 %8, 12
    %10 = icmp ugt i32 %5, %9
    br i1 %10, label %.loopexit33, label %.preheader
  
  .preheader:                                       ; preds = %0
    br label %11
  
  ; <label>:11                                      ; preds = %168, %.preheader
    %.09 = phi %struct.ref_s* [ %.312, %168 ], [ %pkey, %.preheader ]
    %.0 = phi i32 [ %.7, %168 ], [ undef, %.preheader ]
    %12 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %.09, %struct.ref_s** nonnull %pvslot)
    %13 = icmp slt i32 %12, 1
    br i1 %13, label %14, label %.loopexit.loopexit
  
  ; <label>:14                                      ; preds = %11
    %15 = bitcast %struct.ref_s* %kname to i8*
    %sunkaddr = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr4 = add i32 %sunkaddr, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %16 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    call void @llvm.lifetime.start(i64 8, i8* %15) #6
    switch i32 %12, label %.thread27 [
      i32 0, label %25
      i32 -2, label %17
    ]
  
  ; <label>:17                                      ; preds = %14
    %18 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %19 = icmp eq i32 %18, 0
    br i1 %19, label %.thread27, label %20
  
  ; <label>:20                                      ; preds = %17
    %21 = call i32 @dict_grow(%struct.ref_s* nonnull %pdref)
    %22 = icmp slt i32 %21, 0
    %23 = ashr i32 %21, 31
    %24 = add nsw i32 %23, 2
    %..0 = select i1 %22, i32 %21, i32 %.0
    br label %168
  
  ; <label>:25                                      ; preds = %14
    %26 = bitcast %struct.ref_s** %pvslot to i32*
    %27 = load i32, i32* %26, align 4, !tbaa !8
    %28 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 0, i32 1, i32 0
    %29 = load i32, i32* %28, align 4, !tbaa !8
    %30 = bitcast %struct.ref_s* %.09 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 18
    br i1 %32, label %33, label %41
  
  ; <label>:33                                      ; preds = %25
    %34 = bitcast %struct.ref_s* %.09 to i16*
    %35 = load i16, i16* %34, align 4, !tbaa !9
    %36 = and i16 %35, 32
    %37 = icmp eq i16 %36, 0
    br i1 %37, label %.thread27, label %38
  
  ; <label>:38                                      ; preds = %33
    %39 = call i32 @name_from_string(%struct.ref_s* nonnull %.09, %struct.ref_s* nonnull %kname) #6
    %40 = icmp slt i32 %39, 0
    br i1 %40, label %.thread27, label %41
  
  ; <label>:41                                      ; preds = %38, %25
    %.211 = phi %struct.ref_s* [ %.09, %25 ], [ %kname, %38 ]
    %42 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1
    %43 = bitcast %struct.ref_s* %42 to i8*
    %44 = load i8, i8* %43, align 4, !tbaa !18
    %45 = icmp eq i8 %44, 6
    br i1 %45, label %46, label %77
  
  ; <label>:46                                      ; preds = %41
    %47 = bitcast %struct.ref_s* %.211 to i32*
    %48 = load i32, i32* %47, align 4
    %.mask = and i32 %48, -16777216
    %49 = icmp ne i32 %.mask, 218103808
    %50 = trunc i32 %48 to i16
    %51 = icmp ugt i16 %50, 4095
    %or.cond = or i1 %49, %51
    br i1 %or.cond, label %72, label %52
  
  ; <label>:52                                      ; preds = %46
    %53 = trunc i32 %48 to i16
    %54 = sub i32 %27, %29
    %55 = ashr exact i32 %54, 3
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %57 = bitcast %union.v* %56 to i16**
    %58 = load i16*, i16** %57, align 4, !tbaa !8
    %59 = getelementptr inbounds i16, i16* %58, i32 %55
    %sunkaddr6 = ptrtoint %struct.dict_s* %16 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i16*
    %60 = load i16, i16* %sunkaddr8, align 4, !tbaa !9
    %61 = zext i16 %60 to i32
    %62 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %63 = and i32 %61, %62
    %64 = icmp eq i32 %63, 0
    br i1 %64, label %65, label %.thread22
  
  ; <label>:65                                      ; preds = %52
    %66 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 0, i32 1
    %67 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %59, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    %.pre = load i16, i16* %66, align 2, !tbaa !14
    br label %.thread22
  
  .thread22:                                        ; preds = %65, %52
    %68 = phi i16 [ %53, %52 ], [ %.pre, %65 ]
    %69 = zext i16 %68 to i32
    %70 = add nuw nsw i32 %69, 49152
    %71 = trunc i32 %70 to i16
    store i16 %71, i16* %59, align 2, !tbaa !15
    br label %.loopexit32
  
  ; <label>:72                                      ; preds = %46
    %73 = call i32 @dict_unpack(%struct.ref_s* %pdref)
    %74 = icmp slt i32 %73, 0
    %75 = ashr i32 %73, 31
    %76 = add nsw i32 %75, 2
    %..2 = select i1 %74, i32 %73, i32 %.0
    %cond7 = icmp eq i32 %76, 0
    br i1 %cond7, label %.loopexit32, label %168
  
  ; <label>:77                                      ; preds = %41
    %78 = bitcast %struct.ref_s* %pdref to i16*
    %79 = sub i32 %27, %29
    %80 = ashr exact i32 %79, 3
    %81 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 1, i32 1
    %82 = bitcast %union.v* %81 to %struct.ref_s**
    %83 = load %struct.ref_s*, %struct.ref_s** %82, align 4, !tbaa !8
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 %80
    %85 = bitcast %struct.ref_s* %.211 to i16*
    %86 = load i16, i16* %85, align 4, !tbaa !9
    %87 = zext i16 %86 to i32
    %88 = and i32 %87, 12
    %89 = load i16, i16* %78, align 4, !tbaa !9
    %90 = zext i16 %89 to i32
    %91 = and i32 %90, 12
    %92 = icmp ugt i32 %88, %91
    br i1 %92, label %.thread27, label %93
  
  ; <label>:93                                      ; preds = %77
    %94 = bitcast %struct.ref_s* %84 to i16*
    %95 = load i16, i16* %94, align 4, !tbaa !9
    %96 = zext i16 %95 to i32
    %97 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %98 = and i32 %96, %97
    %99 = icmp eq i32 %98, 0
    br i1 %99, label %100, label %.thread24
  
  ; <label>:100                                     ; preds = %93
    %101 = bitcast %struct.ref_s* %84 to i16*
    %102 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %42, i16* %101, i8* nonnull getelementptr inbounds ([14 x i8], [14 x i8]* @.str.3, i32 0, i32 0)) #6
    br label %.thread24
  
  .thread24:                                        ; preds = %100, %93
    %103 = bitcast %struct.ref_s* %84 to i16*
    %104 = bitcast %struct.ref_s* %.211 to i64*
    %105 = bitcast %struct.ref_s* %84 to i64*
    %106 = load i64, i64* %104, align 4
    store i64 %106, i64* %105, align 4
    %107 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %tmp = lshr i64 %106, 48
    %trunc = trunc i64 %tmp to i32
    %108 = or i32 %trunc, %107
    %109 = trunc i32 %108 to i16
    store i16 %109, i16* %103, align 4, !tbaa !9
    br label %.loopexit32
  
  .loopexit32:                                      ; preds = %72, %.thread24, %.thread22
    %110 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 0, i32 0
    %111 = load i16, i16* %110, align 4, !tbaa !9
    %112 = zext i16 %111 to i32
    %113 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %114 = and i32 %112, %113
    %115 = icmp eq i32 %114, 0
    br i1 %115, label %116, label %118
  
  ; <label>:116                                     ; preds = %.loopexit32
    %117 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %110, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.4, i32 0, i32 0)) #6
    br label %118
  
  ; <label>:118                                     ; preds = %116, %.loopexit32
    %119 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %16, i32 0, i32 2, i32 1, i32 0
    %120 = load i32, i32* %119, align 4, !tbaa !16
    %121 = add nsw i32 %120, 1
    store i32 %121, i32* %119, align 4, !tbaa !16
    %122 = bitcast %struct.ref_s* %.211 to i8*
    %123 = load i8, i8* %122, align 4, !tbaa !18
    %124 = icmp eq i8 %123, 13
    br i1 %124, label %125, label %.thread29
  
  ; <label>:125                                     ; preds = %118
    %126 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %.211, i32 0, i32 1
    %127 = bitcast %union.v* %126 to %struct.name_s**
    %128 = load %struct.name_s*, %struct.name_s** %127, align 4, !tbaa !8
    %129 = getelementptr inbounds %struct.name_s, %struct.name_s* %128, i32 0, i32 3
    %130 = load %struct.ref_s*, %struct.ref_s** %129, align 4, !tbaa !24
    %131 = icmp eq %struct.ref_s* %130, null
    br i1 %131, label %132, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:132                                     ; preds = %125
    %133 = load %struct.dict_s*, %struct.dict_s** bitcast (%union.v* getelementptr inbounds (%struct.ref_s, %struct.ref_s* @ref_systemdict, i32 0, i32 1) to %struct.dict_s**), align 4, !tbaa !8
    %134 = icmp eq %struct.dict_s* %16, %133
    br i1 %134, label %dict_is_permanent_on_dstack.exit, label %135
  
  ; <label>:135                                     ; preds = %132
    %sunkaddr9 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr10 = add i32 %sunkaddr9, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %136 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %137 = load i32, i32* getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 4), align 4, !tbaa !23
    %138 = icmp eq i32 %137, 0
    br i1 %138, label %.preheader.i, label %148
  
  .preheader.i:                                     ; preds = %135
    %139 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %140 = icmp eq i32 %139, 0
    br i1 %140, label %dict_is_permanent_on_dstack.exit.thread, label %.lr.ph.i
  
  .lr.ph.i:                                         ; preds = %.preheader.i
    %141 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 1), align 4
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %141, i32 0, i32 1, i32 0
    %scevgep1 = bitcast i32* %scevgep to %struct.ref_s*
    br label %144
  
  ; <label>:142                                     ; preds = %144
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 1
    %143 = icmp ult i32 %147, %139
    br i1 %143, label %144, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:144                                     ; preds = %142, %.lr.ph.i
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %142 ], [ %scevgep1, %.lr.ph.i ]
    %i.04.i = phi i32 [ 0, %.lr.ph.i ], [ %147, %142 ]
    %lsr.iv3 = bitcast %struct.ref_s* %lsr.iv to %struct.dict_s**
    %145 = load %struct.dict_s*, %struct.dict_s** %lsr.iv3, align 4, !tbaa !8
    %146 = icmp eq %struct.dict_s* %145, %136
    %147 = add nuw nsw i32 %i.04.i, 1
    br i1 %146, label %dict_is_permanent_on_dstack.exit, label %142
  
  ; <label>:148                                     ; preds = %135
    %149 = call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %150 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %151 = sub i32 %149, %150
    %152 = icmp ult i32 %151, %149
    br i1 %152, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  ; <label>:153                                     ; preds = %.lr.ph8.i
    %154 = icmp ult i32 %160, %149
    br i1 %154, label %.lr.ph8.i, label %dict_is_permanent_on_dstack.exit.thread
  
  .lr.ph8.i:                                        ; preds = %148, %153
    %i.17.i = phi i32 [ %160, %153 ], [ %151, %148 ]
    %155 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %i.17.i) #6
    %156 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %155, i32 0, i32 1
    %157 = bitcast %union.v* %156 to %struct.dict_s**
    %158 = load %struct.dict_s*, %struct.dict_s** %157, align 4, !tbaa !8
    %159 = icmp eq %struct.dict_s* %158, %136
    %160 = add nuw nsw i32 %i.17.i, 1
    br i1 %159, label %dict_is_permanent_on_dstack.exit, label %153
  
  dict_is_permanent_on_dstack.exit:                 ; preds = %.lr.ph8.i, %144, %132
    %161 = inttoptr i32 %27 to %struct.ref_s*
    %162 = call i32 @alloc_save_level(%struct.gs_dual_memory_s* nonnull @gs_imemory) #6
    %163 = icmp eq i32 %162, 0
    %. = select i1 %163, %struct.ref_s* %161, %struct.ref_s* inttoptr (i32 1 to %struct.ref_s*)
    br label %dict_is_permanent_on_dstack.exit.thread
  
  dict_is_permanent_on_dstack.exit.thread:          ; preds = %153, %142, %dict_is_permanent_on_dstack.exit, %148, %.preheader.i, %125
    %storemerge = phi %struct.ref_s* [ inttoptr (i32 1 to %struct.ref_s*), %125 ], [ inttoptr (i32 1 to %struct.ref_s*), %.preheader.i ], [ inttoptr (i32 1 to %struct.ref_s*), %148 ], [ %., %dict_is_permanent_on_dstack.exit ], [ inttoptr (i32 1 to %struct.ref_s*), %142 ], [ inttoptr (i32 1 to %struct.ref_s*), %153 ]
    %sunkaddr12 = ptrtoint %struct.name_s* %128 to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to %struct.ref_s**
    store %struct.ref_s* %storemerge, %struct.ref_s** %sunkaddr14, align 4, !tbaa !24
    br label %.thread29
  
  .thread27:                                        ; preds = %14, %17, %33, %38, %77
    %.7.ph = phi i32 [ -7, %77 ], [ %39, %38 ], [ -7, %33 ], [ -2, %17 ], [ %12, %14 ]
    %164 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %164) #6
    br label %.loopexit33
  
  .thread29:                                        ; preds = %dict_is_permanent_on_dstack.exit.thread, %118
    %165 = inttoptr i32 %27 to i64*
    %166 = inttoptr i32 %27 to %struct.ref_s*
    %167 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %167) #6
    br label %.loopexit
  
  ; <label>:168                                     ; preds = %72, %20
    %.417 = phi i32 [ %76, %72 ], [ %24, %20 ]
    %.312 = phi %struct.ref_s* [ %.211, %72 ], [ %.09, %20 ]
    %.7 = phi i32 [ %..2, %72 ], [ %..0, %20 ]
    %169 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %169) #6
    switch i32 %.417, label %.loopexit33 [
      i32 0, label %.loopexit.loopexit
      i32 2, label %11
    ]
  
  .loopexit.loopexit:                               ; preds = %168, %11
    %.pre84 = load %struct.ref_s*, %struct.ref_s** %pvslot, align 4, !tbaa !8
    %170 = bitcast %struct.ref_s* %.pre84 to i64*
    br label %.loopexit
  
  .loopexit:                                        ; preds = %.loopexit.loopexit, %.thread29
    %171 = phi i64* [ %165, %.thread29 ], [ %170, %.loopexit.loopexit ]
    %172 = phi %struct.ref_s* [ %166, %.thread29 ], [ %.pre84, %.loopexit.loopexit ]
    %rcode.2 = phi i32 [ 1, %.thread29 ], [ 0, %.loopexit.loopexit ]
    %173 = bitcast %struct.ref_s* %172 to i16*
    %174 = load i16, i16* %173, align 4, !tbaa !9
    %175 = zext i16 %174 to i32
    %176 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %177 = and i32 %175, %176
    %178 = icmp eq i32 %177, 0
    br i1 %178, label %179, label %184
  
  ; <label>:179                                     ; preds = %.loopexit
    %180 = bitcast %struct.ref_s* %172 to i16*
    %sunkaddr15 = ptrtoint %struct.ref_s* %pdref to i32
    %sunkaddr16 = add i32 %sunkaddr15, 4
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to %struct.dict_s**
    %181 = load %struct.dict_s*, %struct.dict_s** %sunkaddr17, align 4, !tbaa !8
    %182 = bitcast %struct.dict_s* %181 to %struct.ref_s*
    %183 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %182, i16* %180, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.5, i32 0, i32 0)) #6
    br label %184
  
  ; <label>:184                                     ; preds = %179, %.loopexit
    %185 = bitcast %struct.ref_s* %pvalue to i64*
    %186 = load i64, i64* %185, align 4
    store i64 %186, i64* %171, align 4
    %187 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %188 = bitcast i64* %171 to i16*
    %tmp85 = lshr i64 %186, 48
    %trunc86 = trunc i64 %tmp85 to i32
    %189 = or i32 %trunc86, %187
    %190 = trunc i32 %189 to i16
    store i16 %190, i16* %188, align 4, !tbaa !9
    br label %.loopexit33
  
  .loopexit33:                                      ; preds = %168, %184, %.thread27, %0
    %.8 = phi i32 [ %rcode.2, %184 ], [ -7, %0 ], [ %.7.ph, %.thread27 ], [ %.7, %168 ]
    %191 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %191) #6
    ret i32 %.8
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_grow(%struct.ref_s* %pdref) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    %6 = mul i32 %5, 3
    %7 = lshr i32 %6, 1
    %8 = add nuw i32 %7, 2
    %9 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %10 = load i16, i16* %9, align 2, !tbaa !14
    %11 = zext i16 %10 to i32
    %12 = add nsw i32 %11, -1
    %13 = icmp ugt i32 %8, %12
    br i1 %13, label %14, label %32
  
  ; <label>:14                                      ; preds = %0
    %15 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %8)
    %16 = icmp sgt i32 %15, -1
    br i1 %16, label %.thread, label %17
  
  ; <label>:17                                      ; preds = %14
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 2
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %18 = load i16, i16* %sunkaddr2, align 2, !tbaa !14
    %19 = zext i16 %18 to i32
    %20 = add nsw i32 %19, -1
    %21 = load i32, i32* @dict_max_size, align 4, !tbaa !1
    %22 = icmp ult i32 %20, %21
    br i1 %22, label %23, label %26
  
  ; <label>:23                                      ; preds = %17
    %24 = tail call i32 @dict_resize(%struct.ref_s* nonnull %pdref, i32 signext %21)
    %25 = icmp sgt i32 %24, -1
    br i1 %25, label %.thread, label %._crit_edge
  
  ._crit_edge:                                      ; preds = %23
    %sunkaddr3 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 2
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %.pre = load i16, i16* %sunkaddr5, align 2, !tbaa !14
    br label %26
  
  ; <label>:26                                      ; preds = %._crit_edge, %17
    %27 = phi i16 [ %.pre, %._crit_edge ], [ %18, %17 ]
    %code.0 = phi i32 [ %24, %._crit_edge ], [ %15, %17 ]
    %28 = zext i16 %27 to i32
    %29 = add nsw i32 %28, -1
    %sunkaddr6 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 28
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to i32*
    %30 = load i32, i32* %sunkaddr8, align 4, !tbaa !16
    %31 = icmp eq i32 %29, %30
    br i1 %31, label %.thread, label %32
  
  ; <label>:32                                      ; preds = %26, %0
    %new_size.1 = phi i32 [ %29, %26 ], [ %8, %0 ]
    %33 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %34 = load i16, i16* %33, align 4, !tbaa !9
    %35 = zext i16 %34 to i32
    %36 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %37 = and i32 %35, %36
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %39, label %41
  
  ; <label>:39                                      ; preds = %32
    %40 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %33, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.14, i32 0, i32 0)) #6
    br label %41
  
  ; <label>:41                                      ; preds = %39, %32
    %sunkaddr9 = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr10 = add i32 %sunkaddr9, 28
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to i32*
    store i32 %new_size.1, i32* %sunkaddr11, align 4, !tbaa !16
    br label %.thread
  
  .thread:                                          ; preds = %41, %26, %23, %14
    %.1 = phi i32 [ 0, %41 ], [ %code.0, %26 ], [ %24, %23 ], [ %15, %14 ]
    ret i32 %.1
  }
  
  declare i32 @name_from_string(%struct.ref_s*, %struct.ref_s*) #3
  
  declare i32 @alloc_save_level(%struct.gs_dual_memory_s*) #3
  
  ; Function Attrs: nounwind
  define i32 @dict_put_string(%struct.ref_s* %pdref, i8* %kstr, %struct.ref_s* nocapture readonly %pvalue) #1 {
    %kname = alloca %struct.ref_s, align 4
    %1 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.start(i64 8, i8* %1) #6
    %2 = tail call i32 @strlen(i8* %kstr) #7
    %3 = call i32 @name_ref(i8* %kstr, i32 signext %2, %struct.ref_s* nonnull %kname, i32 signext 0) #6
    %4 = icmp slt i32 %3, 0
    br i1 %4, label %7, label %5
  
  ; <label>:5                                       ; preds = %0
    %6 = call i32 @dict_put(%struct.ref_s* %pdref, %struct.ref_s* nonnull %kname, %struct.ref_s* %pvalue)
    br label %7
  
  ; <label>:7                                       ; preds = %5, %0
    %.0 = phi i32 [ %6, %5 ], [ %3, %0 ]
    %8 = bitcast %struct.ref_s* %kname to i8*
    call void @llvm.lifetime.end(i64 8, i8* %8) #6
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_undef(%struct.ref_s* %pdref, %struct.ref_s* %pkey) #1 {
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %1) #6
    %2 = call i32 @dict_find(%struct.ref_s* %pdref, %struct.ref_s* %pkey, %struct.ref_s** nonnull %pvslot)
    %3 = icmp slt i32 %2, 1
    br i1 %3, label %109, label %4
  
  ; <label>:4                                       ; preds = %0
    %5 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %6 = bitcast %union.v* %5 to %struct.dict_s**
    %7 = load %struct.dict_s*, %struct.dict_s** %6, align 4, !tbaa !8
    %8 = bitcast %struct.ref_s** %pvslot to i32*
    %9 = load i32, i32* %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 0, i32 1, i32 0
    %11 = load i32, i32* %10, align 4, !tbaa !8
    %12 = sub i32 %9, %11
    %13 = ashr exact i32 %12, 3
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1
    %15 = bitcast %struct.ref_s* %14 to i8*
    %16 = load i8, i8* %15, align 4, !tbaa !18
    %17 = icmp eq i8 %16, 6
    br i1 %17, label %18, label %34
  
  ; <label>:18                                      ; preds = %4
    %19 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %20 = bitcast %union.v* %19 to i16**
    %21 = load i16*, i16** %20, align 4, !tbaa !8
    %22 = getelementptr inbounds i16, i16* %21, i32 %13
    %sunkaddr = ptrtoint %struct.dict_s* %7 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i16*
    %23 = load i16, i16* %sunkaddr2, align 4, !tbaa !9
    %24 = zext i16 %23 to i32
    %25 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %26 = and i32 %24, %25
    %27 = icmp eq i32 %26, 0
    br i1 %27, label %28, label %30
  
  ; <label>:28                                      ; preds = %18
    %29 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %22, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %30
  
  ; <label>:30                                      ; preds = %28, %18
    %31 = getelementptr inbounds i16, i16* %22, i32 -1
    %32 = load i16, i16* %31, align 2, !tbaa !15
    %33 = icmp eq i16 %32, 24576
    %. = select i1 %33, i16 24576, i16 24577
    store i16 %., i16* %22, align 2, !tbaa !15
    br label %65
  
  ; <label>:34                                      ; preds = %4
    %35 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 1, i32 1
    %36 = bitcast %union.v* %35 to %struct.ref_s**
    %37 = load %struct.ref_s*, %struct.ref_s** %36, align 4, !tbaa !8
    %38 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %37, i32 %13
    %39 = bitcast %struct.ref_s* %38 to i16*
    %40 = load i16, i16* %39, align 4, !tbaa !9
    %41 = zext i16 %40 to i32
    %42 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %43 = and i32 %41, %42
    %44 = icmp eq i32 %43, 0
    br i1 %44, label %45, label %48
  
  ; <label>:45                                      ; preds = %34
    %46 = bitcast %struct.ref_s* %38 to i16*
    %47 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %14, i16* %46, i8* nonnull getelementptr inbounds ([16 x i8], [16 x i8]* @.str.6, i32 0, i32 0)) #6
    br label %48
  
  ; <label>:48                                      ; preds = %45, %34
    %49 = bitcast %struct.ref_s* %38 to i16*
    %50 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %51 = add i32 %50, 3584
    %52 = trunc i32 %51 to i16
    store i16 %52, i16* %49, align 4, !tbaa !9
    %53 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %38, i32 -1
    %54 = bitcast %struct.ref_s* %53 to i8*
    %55 = load i8, i8* %54, align 4, !tbaa !18
    %56 = icmp eq i8 %55, 14
    br i1 %56, label %57, label %61
  
  ; <label>:57                                      ; preds = %48
    %sunkaddr3 = ptrtoint %struct.ref_s* %38 to i32
    %sunkaddr4 = add i32 %sunkaddr3, -8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to i16*
    %58 = load i16, i16* %sunkaddr5, align 4, !tbaa !9
    %59 = and i16 %58, 128
    %60 = icmp eq i16 %59, 0
    br i1 %60, label %65, label %61
  
  ; <label>:61                                      ; preds = %57, %48
    %62 = bitcast %struct.ref_s* %38 to i16*
    %63 = or i32 %51, 128
    %64 = trunc i32 %63 to i16
    store i16 %64, i16* %62, align 4, !tbaa !9
    br label %65
  
  ; <label>:65                                      ; preds = %61, %57, %30
    %66 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 0, i32 0
    %67 = load i16, i16* %66, align 4, !tbaa !9
    %68 = zext i16 %67 to i32
    %69 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %70 = and i32 %68, %69
    %71 = icmp eq i32 %70, 0
    br i1 %71, label %72, label %74
  
  ; <label>:72                                      ; preds = %65
    %73 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %pdref, i16* %66, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.7, i32 0, i32 0)) #6
    br label %74
  
  ; <label>:74                                      ; preds = %72, %65
    %75 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %7, i32 0, i32 2, i32 1, i32 0
    %76 = load i32, i32* %75, align 4, !tbaa !16
    %77 = add nsw i32 %76, -1
    store i32 %77, i32* %75, align 4, !tbaa !16
    %78 = bitcast %struct.ref_s* %pkey to i8*
    %79 = load i8, i8* %78, align 4, !tbaa !18
    %80 = icmp eq i8 %79, 13
    br i1 %80, label %81, label %90
  
  ; <label>:81                                      ; preds = %74
    %82 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pkey, i32 0, i32 1
    %83 = bitcast %union.v* %82 to %struct.name_s**
    %84 = load %struct.name_s*, %struct.name_s** %83, align 4, !tbaa !8
    %85 = getelementptr inbounds %struct.name_s, %struct.name_s* %84, i32 0, i32 3
    %86 = bitcast %struct.ref_s** %85 to i32*
    %87 = load i32, i32* %86, align 4, !tbaa !24
    %88 = icmp ugt i32 %87, 1
    br i1 %88, label %89, label %90
  
  ; <label>:89                                      ; preds = %81
    %sunkaddr6 = ptrtoint %struct.name_s* %84 to i32
    %sunkaddr7 = add i32 %sunkaddr6, 8
    %sunkaddr8 = inttoptr i32 %sunkaddr7 to %struct.ref_s**
    store %struct.ref_s* null, %struct.ref_s** %sunkaddr8, align 4, !tbaa !24
    br label %90
  
  ; <label>:90                                      ; preds = %89, %81, %74
    %91 = inttoptr i32 %9 to %struct.ref_s*
    %92 = bitcast %struct.ref_s* %91 to i16*
    %93 = load i16, i16* %92, align 4, !tbaa !9
    %94 = zext i16 %93 to i32
    %95 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %96 = and i32 %94, %95
    %97 = icmp eq i32 %96, 0
    br i1 %97, label %98, label %103
  
  ; <label>:98                                      ; preds = %90
    %99 = inttoptr i32 %9 to %struct.ref_s*
    %100 = bitcast %struct.ref_s* %99 to i16*
    %101 = bitcast %struct.dict_s* %7 to %struct.ref_s*
    %102 = tail call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* %101, i16* %100, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.8, i32 0, i32 0)) #6
    br label %103
  
  ; <label>:103                                     ; preds = %98, %90
    %104 = inttoptr i32 %9 to %struct.ref_s*
    %105 = bitcast %struct.ref_s* %104 to i16*
    %106 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %107 = add i32 %106, 3584
    %108 = trunc i32 %107 to i16
    store i16 %108, i16* %105, align 4, !tbaa !9
    br label %109
  
  ; <label>:109                                     ; preds = %103, %0
    %.0 = phi i32 [ 0, %103 ], [ -21, %0 ]
    %110 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.end(i64 4, i8* %110) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_length(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_maxlength(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !16
    ret i32 %5
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_max_index(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    %7 = add nsw i32 %6, -2
    ret i32 %7
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_copy_entries(%struct.ref_s* nocapture readonly %pdrfrom, %struct.ref_s* %pdrto, i32 signext %new_only) #1 {
    %elt = alloca [2 x %struct.ref_s], align 4
    %pvslot = alloca %struct.ref_s*, align 4
    %1 = bitcast %struct.ref_s* %pdrto to i16*
    %2 = load i16, i16* %1, align 4, !tbaa !9
    %3 = zext i16 %2 to i32
    %4 = and i32 %3, 12
    %5 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.start(i64 16, i8* %5) #6
    %6 = bitcast %struct.ref_s** %pvslot to i8*
    call void @llvm.lifetime.start(i64 4, i8* %6) #6
    %7 = icmp eq i32 %4, 12
    br i1 %7, label %.dict_next.exit.thread_crit_edge, label %8
  
  .dict_next.exit.thread_crit_edge:                 ; preds = %0
    %.pre299 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %.pre31 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %dict_next.exit.thread
  
  ; <label>:8                                       ; preds = %0
    %sunkaddr = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr10 = add i32 %sunkaddr, 4
    %sunkaddr11 = inttoptr i32 %sunkaddr10 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %sunkaddr11, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = getelementptr inbounds [2 x %struct.ref_s], [2 x %struct.ref_s]* %elt, i32 0, i32 1
    br label %.backedge9
  
  .backedge9:                                       ; preds = %.backedge9.backedge, %8
    %14 = phi %struct.dict_s* [ %9, %8 ], [ %.pre, %.backedge9.backedge ]
    %index.0 = phi i32 [ %12, %8 ], [ %.lcssa64, %.backedge9.backedge ]
    %15 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 0, i32 1
    %16 = bitcast %union.v* %15 to %struct.ref_s**
    %17 = load %struct.ref_s*, %struct.ref_s** %16, align 4, !tbaa !8
    %18 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %14, i32 0, i32 1
    %scevgep5 = getelementptr %struct.ref_s, %struct.ref_s* %17, i32 -1
    %scevgep6 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep5, i32 %index.0
    br label %19
  
  ; <label>:19                                      ; preds = %29, %.backedge9
    %lsr.iv7 = phi %struct.ref_s* [ %scevgep8, %29 ], [ %scevgep6, %.backedge9 ]
    %.01.i = phi i32 [ %index.0, %.backedge9 ], [ %21, %29 ]
    %20 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %21 = add nsw i32 %.01.i, -1
    %22 = icmp sgt i32 %.01.i, 0
    br i1 %22, label %23, label %dict_next.exit.thread
  
  ; <label>:23                                      ; preds = %19
    %24 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %25 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %26 = call i32 @array_get(%struct.ref_s* %18, i32 signext %21, %struct.ref_s* %24) #6
    %27 = load i8, i8* %25, align 4, !tbaa !18
    %28 = icmp eq i8 %27, 13
    br i1 %28, label %split4, label %29
  
  ; <label>:29                                      ; preds = %23
    %30 = bitcast %struct.ref_s* %18 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = icmp eq i8 %27, 14
    %or.cond.i = or i1 %33, %32
    %scevgep8 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv7, i32 -1
    br i1 %or.cond.i, label %19, label %._crit_edge3
  
  split4:                                           ; preds = %23
    %34 = add i32 %.01.i, -1
    br label %36
  
  ._crit_edge3:                                     ; preds = %29
    %35 = add i32 %.01.i, -1
    br label %36
  
  ; <label>:36                                      ; preds = %split4, %._crit_edge3
    %.lcssa64 = phi i32 [ %35, %._crit_edge3 ], [ %34, %split4 ]
    %37 = icmp eq i32 %new_only, 0
    %38 = bitcast %struct.ref_s* %lsr.iv7 to i64*
    %39 = load i64, i64* %38, align 4
    %sunkaddr12 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr13 = add i32 %sunkaddr12, 8
    %sunkaddr14 = inttoptr i32 %sunkaddr13 to i64*
    store i64 %39, i64* %sunkaddr14, align 4
    br i1 %37, label %44, label %40
  
  ; <label>:40                                      ; preds = %36
    %41 = bitcast [2 x %struct.ref_s]* %elt to %struct.ref_s*
    %42 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %41, %struct.ref_s** nonnull %pvslot)
    %43 = icmp slt i32 %42, 1
    br i1 %43, label %44, label %.backedge9.backedge
  
  ; <label>:44                                      ; preds = %40, %36
    %45 = bitcast [2 x %struct.ref_s]* %elt to i16*
    %46 = load i16, i16* %45, align 4, !tbaa !9
    %47 = zext i16 %46 to i32
    %48 = and i32 %47, 12
    %49 = icmp ugt i32 %48, %4
    br i1 %49, label %dict_next.exit5.thread, label %50
  
  ; <label>:50                                      ; preds = %44
    %sunkaddr15 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr16 = add i32 %sunkaddr15, 8
    %sunkaddr17 = inttoptr i32 %sunkaddr16 to i16*
    %51 = load i16, i16* %sunkaddr17, align 4, !tbaa !9
    %52 = zext i16 %51 to i32
    %53 = and i32 %52, 12
    %54 = icmp ugt i32 %53, %4
    br i1 %54, label %dict_next.exit5.thread, label %.backedge9.backedge
  
  .backedge9.backedge:                              ; preds = %50, %40
    %sunkaddr18 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr19 = add i32 %sunkaddr18, 4
    %sunkaddr20 = inttoptr i32 %sunkaddr19 to %struct.dict_s**
    %.pre = load %struct.dict_s*, %struct.dict_s** %sunkaddr20, align 4, !tbaa !8
    br label %.backedge9
  
  dict_next.exit.thread:                            ; preds = %19, %.dict_next.exit.thread_crit_edge
    %.pre-phi32 = phi %struct.ref_s* [ %.pre31, %.dict_next.exit.thread_crit_edge ], [ %13, %19 ]
    %.pre-phi30 = phi %struct.ref_s* [ %.pre299, %.dict_next.exit.thread_crit_edge ], [ %20, %19 ]
    %sunkaddr21 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr22 = add i32 %sunkaddr21, 4
    %sunkaddr23 = inttoptr i32 %sunkaddr22 to %struct.dict_s**
    %55 = load %struct.dict_s*, %struct.dict_s** %sunkaddr23, align 4, !tbaa !8
    %56 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %55, i32 0, i32 0, i32 0, i32 1
    %57 = load i16, i16* %56, align 2, !tbaa !14
    %58 = zext i16 %57 to i32
    br label %.backedge
  
  .backedge:                                        ; preds = %.backedge.backedge, %dict_next.exit.thread
    %59 = phi %struct.dict_s* [ %55, %dict_next.exit.thread ], [ %.pre25, %.backedge.backedge ]
    %index.1 = phi i32 [ %58, %dict_next.exit.thread ], [ %.lcssa60, %.backedge.backedge ]
    %60 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 0, i32 1
    %61 = bitcast %union.v* %60 to %struct.ref_s**
    %62 = load %struct.ref_s*, %struct.ref_s** %61, align 4, !tbaa !8
    %63 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %59, i32 0, i32 1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %62, i32 -1
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %scevgep, i32 %index.1
    br label %64
  
  ; <label>:64                                      ; preds = %72, %.backedge
    %lsr.iv = phi %struct.ref_s* [ %scevgep2, %72 ], [ %scevgep1, %.backedge ]
    %.01.i1 = phi i32 [ %index.1, %.backedge ], [ %65, %72 ]
    %65 = add nsw i32 %.01.i1, -1
    %66 = icmp sgt i32 %.01.i1, 0
    br i1 %66, label %67, label %dict_next.exit5.thread
  
  ; <label>:67                                      ; preds = %64
    %68 = bitcast [2 x %struct.ref_s]* %elt to i8*
    %69 = call i32 @array_get(%struct.ref_s* %63, i32 signext %65, %struct.ref_s* %.pre-phi30) #6
    %70 = load i8, i8* %68, align 4, !tbaa !18
    %71 = icmp eq i8 %70, 13
    br i1 %71, label %split, label %72
  
  ; <label>:72                                      ; preds = %67
    %73 = bitcast %struct.ref_s* %63 to i8*
    %74 = load i8, i8* %73, align 4, !tbaa !18
    %75 = icmp eq i8 %74, 6
    %76 = icmp eq i8 %70, 14
    %or.cond.i3 = or i1 %76, %75
    %scevgep2 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond.i3, label %64, label %._crit_edge
  
  split:                                            ; preds = %67
    %77 = add i32 %.01.i1, -1
    br label %79
  
  ._crit_edge:                                      ; preds = %72
    %78 = add i32 %.01.i1, -1
    br label %79
  
  ; <label>:79                                      ; preds = %split, %._crit_edge
    %.lcssa60 = phi i32 [ %78, %._crit_edge ], [ %77, %split ]
    %80 = icmp eq i32 %new_only, 0
    %81 = bitcast %struct.ref_s* %lsr.iv to i64*
    %82 = load i64, i64* %81, align 4
    %sunkaddr24 = ptrtoint [2 x %struct.ref_s]* %elt to i32
    %sunkaddr25 = add i32 %sunkaddr24, 8
    %sunkaddr26 = inttoptr i32 %sunkaddr25 to i64*
    store i64 %82, i64* %sunkaddr26, align 4
    br i1 %80, label %86, label %83
  
  ; <label>:83                                      ; preds = %79
    %84 = call i32 @dict_find(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s** nonnull %pvslot)
    %85 = icmp sgt i32 %84, 0
    br i1 %85, label %.backedge.backedge, label %86
  
  .backedge.backedge:                               ; preds = %86, %83
    %sunkaddr27 = ptrtoint %struct.ref_s* %pdrfrom to i32
    %sunkaddr28 = add i32 %sunkaddr27, 4
    %sunkaddr29 = inttoptr i32 %sunkaddr28 to %struct.dict_s**
    %.pre25 = load %struct.dict_s*, %struct.dict_s** %sunkaddr29, align 4, !tbaa !8
    br label %.backedge
  
  ; <label>:86                                      ; preds = %83, %79
    %87 = call i32 @dict_put(%struct.ref_s* %pdrto, %struct.ref_s* nonnull %.pre-phi30, %struct.ref_s* %.pre-phi32)
    %88 = icmp slt i32 %87, 0
    br i1 %88, label %dict_next.exit5.thread, label %.backedge.backedge
  
  dict_next.exit5.thread:                           ; preds = %44, %50, %86, %64
    %.0 = phi i32 [ 0, %64 ], [ %87, %86 ], [ -7, %50 ], [ -7, %44 ]
    %89 = bitcast %struct.ref_s** %pvslot to i8*
    %90 = bitcast [2 x %struct.ref_s]* %elt to i8*
    call void @llvm.lifetime.end(i64 4, i8* %89) #6
    call void @llvm.lifetime.end(i64 16, i8* %90) #6
    ret i32 %.0
  }
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_first(%struct.ref_s* nocapture readonly %pdref) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 0, i32 1
    %5 = load i16, i16* %4, align 2, !tbaa !14
    %6 = zext i16 %5 to i32
    ret i32 %6
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_next(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %5 = bitcast %union.v* %4 to %struct.ref_s**
    %6 = load %struct.ref_s*, %struct.ref_s** %5, align 4, !tbaa !8
    %7 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %8 = add i32 %index, -1
    %scevgep = getelementptr %struct.ref_s, %struct.ref_s* %6, i32 %8
    br label %9
  
  ; <label>:9                                       ; preds = %17, %0
    %lsr.iv = phi %struct.ref_s* [ %scevgep1, %17 ], [ %scevgep, %0 ]
    %.01 = phi i32 [ %index, %0 ], [ %10, %17 ]
    %10 = add nsw i32 %.01, -1
    %11 = icmp sgt i32 %.01, 0
    br i1 %11, label %12, label %.loopexit
  
  ; <label>:12                                      ; preds = %9
    %13 = bitcast %struct.ref_s* %eltp to i8*
    %14 = tail call i32 @array_get(%struct.ref_s* %7, i32 signext %10, %struct.ref_s* %eltp) #6
    %15 = load i8, i8* %13, align 4, !tbaa !18
    %16 = icmp eq i8 %15, 13
    br i1 %16, label %split, label %17
  
  ; <label>:17                                      ; preds = %12
    %18 = bitcast %struct.ref_s* %7 to i8*
    %19 = load i8, i8* %18, align 4, !tbaa !18
    %20 = icmp eq i8 %19, 6
    %21 = icmp eq i8 %15, 14
    %or.cond = or i1 %21, %20
    %scevgep1 = getelementptr %struct.ref_s, %struct.ref_s* %lsr.iv, i32 -1
    br i1 %or.cond, label %9, label %._crit_edge
  
  split:                                            ; preds = %12
    %22 = add i32 %.01, -1
    br label %24
  
  ._crit_edge:                                      ; preds = %17
    %23 = add i32 %.01, -1
    br label %24
  
  ; <label>:24                                      ; preds = %split, %._crit_edge
    %.lcssa13 = phi i32 [ %23, %._crit_edge ], [ %22, %split ]
    %25 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %26 = bitcast %struct.ref_s* %lsr.iv to i64*
    %27 = bitcast %struct.ref_s* %25 to i64*
    %28 = load i64, i64* %26, align 4
    store i64 %28, i64* %27, align 4
    br label %.loopexit
  
  .loopexit:                                        ; preds = %9, %24
    %.0 = phi i32 [ %.lcssa13, %24 ], [ -1, %9 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_resize(%struct.ref_s* %pdref, i32 signext %new_size) #1 {
    %dnew = alloca %struct.dict_s, align 8
    %drto = alloca %struct.ref_s, align 4
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.start(i64 32, i8* %4) #6
    %5 = bitcast %struct.ref_s* %drto to i8*
    call void @llvm.lifetime.start(i64 8, i8* %5) #6
    %6 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 2, i32 1, i32 0
    %7 = load i32, i32* %6, align 4, !tbaa !16
    %8 = icmp ugt i32 %7, %new_size
    br i1 %8, label %9, label %12
  
  ; <label>:9                                       ; preds = %0
    %10 = load i32, i32* @dict_auto_expand, align 4, !tbaa !1
    %11 = icmp eq i32 %10, 0
    br i1 %11, label %115, label %12
  
  ; <label>:12                                      ; preds = %9, %0
    %.01 = phi i32 [ %new_size, %0 ], [ %7, %9 ]
    %13 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 2), align 4, !tbaa !22
    %14 = bitcast %struct.ref_s* %pdref to i16*
    %15 = load i16, i16* %14, align 4, !tbaa !9
    %16 = zext i16 %15 to i32
    %17 = and i32 %16, 12
    tail call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %17) #6
    %18 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %drto, i32 0, i32 1
    %19 = bitcast %union.v* %18 to %struct.dict_s**
    store %struct.dict_s* %dnew, %struct.dict_s** %19, align 4, !tbaa !8
    %20 = load i16, i16* %14, align 4, !tbaa !9
    %21 = zext i16 %20 to i32
    %22 = and i32 %21, 12
    %23 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6), align 4, !tbaa !13
    %24 = or i32 %23, %22
    %25 = or i32 %24, 112
    %26 = add i32 %25, 512
    %27 = trunc i32 %26 to i16
    %28 = bitcast %struct.ref_s* %drto to i16*
    store i16 %27, i16* %28, align 4, !tbaa !9
    %29 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %30 = bitcast %struct.ref_s* %29 to i8*
    %31 = load i8, i8* %30, align 4, !tbaa !18
    %32 = icmp eq i8 %31, 6
    %33 = zext i1 %32 to i32
    %34 = call fastcc i32 @dict_create_contents(i32 signext %.01, %struct.ref_s* nonnull %drto, i32 signext %33)
    %35 = icmp slt i32 %34, 0
    br i1 %35, label %36, label %37
  
  ; <label>:36                                      ; preds = %12
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    br label %115
  
  ; <label>:37                                      ; preds = %12
    %38 = bitcast %struct.ref_s* %drto to i16*
    %39 = or i32 %26, 12
    %40 = trunc i32 %39 to i16
    store i16 %40, i16* %38, align 4, !tbaa !9
    %41 = call i32 @dict_copy_entries(%struct.ref_s* nonnull %pdref, %struct.ref_s* nonnull %drto, i32 signext 0)
    %42 = bitcast %struct.dict_s* %3 to i16*
    %43 = load i16, i16* %42, align 4, !tbaa !9
    %44 = zext i16 %43 to i32
    %45 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %46 = and i32 %44, %45
    %47 = icmp eq i32 %46, 0
    br i1 %47, label %48, label %51
  
  ; <label>:48                                      ; preds = %37
    %49 = bitcast %struct.dict_s* %3 to i16*
    %50 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %49, i8* nonnull getelementptr inbounds ([20 x i8], [20 x i8]* @.str.9, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:51                                      ; preds = %37
    %52 = bitcast %struct.dict_s* %3 to %struct.ref_s*
    %53 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %53, %struct.ref_s* %52, i8* nonnull getelementptr inbounds ([24 x i8], [24 x i8]* @.str.10, i32 0, i32 0)) #6
    br label %54
  
  ; <label>:54                                      ; preds = %51, %48
    %55 = bitcast %struct.ref_s* %29 to i16*
    %56 = load i16, i16* %55, align 4, !tbaa !9
    %57 = zext i16 %56 to i32
    %58 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %59 = and i32 %57, %58
    %60 = icmp eq i32 %59, 0
    br i1 %60, label %61, label %64
  
  ; <label>:61                                      ; preds = %54
    %62 = bitcast %struct.ref_s* %29 to i16*
    %63 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* nonnull %62, i8* nonnull getelementptr inbounds ([18 x i8], [18 x i8]* @.str.11, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:64                                      ; preds = %54
    %65 = load %struct.gs_ref_memory_s*, %struct.gs_ref_memory_s** getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 0), align 4, !tbaa !5
    call void @gs_free_ref_array(%struct.gs_ref_memory_s* %65, %struct.ref_s* nonnull %29, i8* nonnull getelementptr inbounds ([22 x i8], [22 x i8]* @.str.12, i32 0, i32 0)) #6
    br label %66
  
  ; <label>:66                                      ; preds = %64, %61
    %67 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %dnew, i32 0, i32 1
    %68 = bitcast %struct.ref_s* %67 to i64*
    %69 = load i64, i64* %68, align 8
    %sunkaddr = ptrtoint %struct.dict_s* %3 to i32
    %sunkaddr1 = add i32 %sunkaddr, 8
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to i64*
    store i64 %69, i64* %sunkaddr2, align 4
    %70 = bitcast %struct.dict_s* %dnew to i64*
    %71 = bitcast %struct.dict_s* %3 to i64*
    %72 = load i64, i64* %70, align 8
    store i64 %72, i64* %71, align 4
    %73 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 0, i32 0
    %74 = load i16, i16* %73, align 4, !tbaa !9
    %75 = zext i16 %74 to i32
    %76 = load i32, i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5), align 4, !tbaa !19
    %77 = and i32 %75, %76
    %78 = icmp eq i32 %77, 0
    br i1 %78, label %79, label %81
  
  ; <label>:79                                      ; preds = %66
    %80 = call i32 @alloc_save_change(%struct.gs_dual_memory_s* nonnull @gs_imemory, %struct.ref_s* nonnull %pdref, i16* %73, i8* nonnull getelementptr inbounds ([23 x i8], [23 x i8]* @.str.13, i32 0, i32 0)) #6
    br label %81
  
  ; <label>:81                                      ; preds = %79, %66
    %82 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 3, i32 1, i32 0
    store i32 %.01, i32* %82, align 4, !tbaa !16
    call void @ialloc_set_space(%struct.gs_dual_memory_s* nonnull @gs_imemory, i32 signext %13) #6
    %83 = load %struct.ref_s*, %struct.ref_s** getelementptr inbounds (%struct.ref_stack_s, %struct.ref_stack_s* @d_stack, i32 0, i32 0), align 4, !tbaa !20
    %84 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %83, i32 0, i32 1
    %85 = bitcast %union.v* %84 to %struct.dict_s**
    %86 = load %struct.dict_s*, %struct.dict_s** %85, align 4, !tbaa !8
    %87 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1
    %88 = bitcast %struct.ref_s* %87 to i8*
    %89 = load i8, i8* %88, align 4, !tbaa !18
    %90 = icmp eq i8 %89, 6
    br i1 %90, label %91, label %103
  
  ; <label>:91                                      ; preds = %81
    %92 = bitcast %struct.dict_s* %86 to i32*
    %93 = load i32, i32* %92, align 4
    %94 = and i32 %93, 2097152
    %95 = icmp eq i32 %94, 0
    br i1 %95, label %103, label %96
  
  ; <label>:96                                      ; preds = %91
    %97 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 1, i32 1, i32 0
    %98 = load i32, i32* %97, align 4, !tbaa !8
    store i32 %98, i32* bitcast (i16** @dtop_keys to i32*), align 4, !tbaa !8
    %99 = and i32 %93, 65535
    %100 = add nsw i32 %99, -1
    store i32 %100, i32* @dtop_npairs, align 4, !tbaa !1
    %101 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %86, i32 0, i32 0, i32 1, i32 0
    %102 = load i32, i32* %101, align 4, !tbaa !8
    store i32 %102, i32* bitcast (%struct.ref_s** @dtop_values to i32*), align 4, !tbaa !8
    br label %104
  
  ; <label>:103                                     ; preds = %91, %81
    store i16* getelementptr inbounds ([2 x i16], [2 x i16]* @no_packed_keys, i32 0, i32 0), i16** @dtop_keys, align 4, !tbaa !8
    store i32 1, i32* @dtop_npairs, align 4, !tbaa !1
    br label %104
  
  ; <label>:104                                     ; preds = %103, %96
    %sunkaddr3 = ptrtoint %struct.ref_s* %83 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 4
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.dict_s**
    %105 = load %struct.dict_s*, %struct.dict_s** %sunkaddr5, align 4, !tbaa !8
    %106 = bitcast %struct.dict_s* %105 to i16*
    %107 = load i16, i16* %106, align 4, !tbaa !9
    %108 = and i16 %107, 16
    %109 = icmp eq i16 %108, 0
    br i1 %109, label %dict_set_top.exit, label %110
  
  ; <label>:110                                     ; preds = %104
    %111 = bitcast %struct.ref_s* %83 to i16*
    %112 = load i16, i16* %111, align 4, !tbaa !9
    %113 = zext i16 %112 to i32
    %114 = and i32 %113, 12
    br label %dict_set_top.exit
  
  dict_set_top.exit:                                ; preds = %110, %104
    %storemerge.i = phi i32 [ %114, %110 ], [ -1, %104 ]
    store i32 %storemerge.i, i32* @dsspace, align 4, !tbaa !1
    br label %115
  
  ; <label>:115                                     ; preds = %dict_set_top.exit, %36, %9
    %.0 = phi i32 [ %34, %36 ], [ 0, %dict_set_top.exit ], [ -2, %9 ]
    %116 = bitcast %struct.ref_s* %drto to i8*
    %117 = bitcast %struct.dict_s* %dnew to i8*
    call void @llvm.lifetime.end(i64 8, i8* %116) #6
    call void @llvm.lifetime.end(i64 32, i8* %117) #6
    ret i32 %.0
  }
  
  declare void @ialloc_set_space(%struct.gs_dual_memory_s*, i32 signext) #3
  
  declare i32 @array_get(%struct.ref_s*, i32 signext, %struct.ref_s*) #3
  
  ; Function Attrs: norecurse nounwind readonly
  define i32 @dict_value_index(%struct.ref_s* nocapture readonly %pdref, %struct.ref_s* %pvalue) #0 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1, i32 0
    %5 = load i32, i32* %4, align 4, !tbaa !8
    %6 = ptrtoint %struct.ref_s* %pvalue to i32
    %7 = sub i32 %6, %5
    %8 = ashr exact i32 %7, 3
    %9 = add nsw i32 %8, -1
    ret i32 %9
  }
  
  ; Function Attrs: nounwind
  define i32 @dict_index_entry(%struct.ref_s* nocapture readonly %pdref, i32 signext %index, %struct.ref_s* %eltp) #1 {
    %1 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pdref, i32 0, i32 1
    %2 = bitcast %union.v* %1 to %struct.dict_s**
    %3 = load %struct.dict_s*, %struct.dict_s** %2, align 4, !tbaa !8
    %4 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 1
    %5 = add nsw i32 %index, 1
    %6 = tail call i32 @array_get(%struct.ref_s* %4, i32 signext %5, %struct.ref_s* %eltp) #6
    %7 = bitcast %struct.ref_s* %eltp to i8*
    %8 = load i8, i8* %7, align 4, !tbaa !18
    %9 = icmp eq i8 %8, 13
    br i1 %9, label %15, label %10
  
  ; <label>:10                                      ; preds = %0
    %11 = bitcast %struct.ref_s* %4 to i8*
    %12 = load i8, i8* %11, align 4, !tbaa !18
    %13 = icmp eq i8 %12, 6
    %14 = icmp eq i8 %8, 14
    %or.cond = or i1 %14, %13
    br i1 %or.cond, label %24, label %15
  
  ; <label>:15                                      ; preds = %10, %0
    %16 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %eltp, i32 1
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %3, i32 0, i32 0, i32 1
    %18 = bitcast %union.v* %17 to %struct.ref_s**
    %19 = load %struct.ref_s*, %struct.ref_s** %18, align 4, !tbaa !8
    %20 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %19, i32 %5
    %21 = bitcast %struct.ref_s* %20 to i64*
    %22 = bitcast %struct.ref_s* %16 to i64*
    %23 = load i64, i64* %21, align 4
    store i64 %23, i64* %22, align 4
    br label %24
  
  ; <label>:24                                      ; preds = %15, %10
    %.0 = phi i32 [ 0, %15 ], [ -21, %10 ]
    ret i32 %.0
  }
  
  ; Function Attrs: nounwind
  define void @dstack_gc_cleanup() #1 {
    %key = alloca %struct.ref_s, align 4
    %1 = tail call i32 @ref_stack_count(%struct.ref_stack_s* nonnull @d_stack) #6
    %2 = load i32, i32* @min_dstack_size, align 4, !tbaa !1
    %3 = icmp eq i32 %2, 0
    br i1 %3, label %._crit_edge, label %.lr.ph4
  
  .lr.ph4:                                          ; preds = %0
    br label %4
  
  ; <label>:4                                       ; preds = %.loopexit, %.lr.ph4
    %dsi.03 = phi i32 [ %2, %.lr.ph4 ], [ %37, %.loopexit ]
    %5 = sub i32 %1, %dsi.03
    %6 = call %struct.ref_s* @ref_stack_index(%struct.ref_stack_s* nonnull @d_stack, i32 signext %5) #6
    %7 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %6, i32 0, i32 1
    %8 = bitcast %union.v* %7 to %struct.dict_s**
    %9 = load %struct.dict_s*, %struct.dict_s** %8, align 4, !tbaa !8
    %10 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 0, i32 1
    %11 = load i16, i16* %10, align 2, !tbaa !14
    %12 = zext i16 %11 to i32
    %13 = icmp eq i16 %11, 0
    br i1 %13, label %.loopexit, label %.lr.ph
  
  .lr.ph:                                           ; preds = %4
    %14 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 0, i32 1
    %15 = bitcast %union.v* %14 to %struct.ref_s**
    %16 = load %struct.ref_s*, %struct.ref_s** %15, align 4, !tbaa !8
    %17 = getelementptr inbounds %struct.dict_s, %struct.dict_s* %9, i32 0, i32 1
    br label %18
  
  ; <label>:18                                      ; preds = %31, %.lr.ph
    %i.02 = phi i32 [ 0, %.lr.ph ], [ %33, %31 ]
    %pvalue.01 = phi %struct.ref_s* [ %16, %.lr.ph ], [ %34, %31 ]
    %19 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.start(i64 8, i8* %19) #6
    %20 = call i32 @array_get(%struct.ref_s* %17, i32 signext %i.02, %struct.ref_s* nonnull %key) #6
    %21 = load i8, i8* %19, align 4, !tbaa !18
    %22 = icmp eq i8 %21, 13
    br i1 %22, label %23, label %31
  
  ; <label>:23                                      ; preds = %18
    %sunkaddr = ptrtoint %struct.ref_s* %key to i32
    %sunkaddr1 = add i32 %sunkaddr, 4
    %sunkaddr2 = inttoptr i32 %sunkaddr1 to %struct.name_s**
    %24 = load %struct.name_s*, %struct.name_s** %sunkaddr2, align 4, !tbaa !8
    %25 = getelementptr inbounds %struct.name_s, %struct.name_s* %24, i32 0, i32 3
    %26 = load %struct.ref_s*, %struct.ref_s** %25, align 4, !tbaa !24
    %27 = icmp ugt %struct.ref_s* %26, inttoptr (i32 1 to %struct.ref_s*)
    br i1 %27, label %28, label %31
  
  ; <label>:28                                      ; preds = %23
    %29 = icmp eq %struct.ref_s* %pvalue.01, %26
    br i1 %29, label %.critedge, label %30
  
  ; <label>:30                                      ; preds = %28
    %sunkaddr3 = ptrtoint %struct.name_s* %24 to i32
    %sunkaddr4 = add i32 %sunkaddr3, 8
    %sunkaddr5 = inttoptr i32 %sunkaddr4 to %struct.ref_s**
    store %struct.ref_s* %pvalue.01, %struct.ref_s** %sunkaddr5, align 4, !tbaa !24
    br label %31
  
  ; <label>:31                                      ; preds = %30, %23, %18
    %32 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %32) #6
    %33 = add nuw nsw i32 %i.02, 1
    %34 = getelementptr inbounds %struct.ref_s, %struct.ref_s* %pvalue.01, i32 1
    %35 = icmp ult i32 %33, %12
    br i1 %35, label %18, label %.loopexit
  
  .critedge:                                        ; preds = %28
    %36 = bitcast %struct.ref_s* %key to i8*
    call void @llvm.lifetime.end(i64 8, i8* nonnull %36) #6
    br label %.loopexit
  
  .loopexit:                                        ; preds = %31, %.critedge, %4
    %37 = add i32 %dsi.03, -1
    %38 = icmp eq i32 %37, 0
    br i1 %38, label %._crit_edge, label %4
  
  ._crit_edge:                                      ; preds = %.loopexit, %0
    ret void
  }
  
  declare void @refset_null(%struct.ref_s*, i32 signext) #3
  
  attributes #0 = { norecurse nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #1 = { nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #2 = { argmemonly nounwind "target-cpu"="mips32" }
  attributes #3 = { "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #4 = { norecurse nounwind "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #5 = { nounwind readonly "disable-tail-calls"="false" "less-precise-fpmad"="false" "no-frame-pointer-elim"="false" "no-infs-fp-math"="false" "no-nans-fp-math"="false" "stack-protector-buffer-size"="8" "target-cpu"="mips32" "target-features"="+mips32r2" "unsafe-fp-math"="false" "use-soft-float"="false" }
  attributes #6 = { nounwind }
  attributes #7 = { nounwind readonly }
  
  !llvm.ident = !{!0}
  
  !0 = !{!"clang version 3.8.0 (http://llvm.org/git/clang.git 2d49f0a0ae8366964a93e3b7b26e29679bee7160) (http://llvm.org/git/llvm.git 60bc66b44837125843b58ed3e0fd2e6bb948d839)"}
  !1 = !{!2, !2, i64 0}
  !2 = !{!"int", !3, i64 0}
  !3 = !{!"omnipotent char", !4, i64 0}
  !4 = !{!"Simple C/C++ TBAA"}
  !5 = !{!6, !7, i64 0}
  !6 = !{!"gs_dual_memory_s", !7, i64 0, !3, i64 4, !2, i64 20, !2, i64 24, !7, i64 28, !2, i64 32, !2, i64 36}
  !7 = !{!"any pointer", !3, i64 0}
  !8 = !{!7, !7, i64 0}
  !9 = !{!10, !12, i64 0}
  !10 = !{!"ref_s", !11, i64 0, !3, i64 4}
  !11 = !{!"tas_s", !12, i64 0, !12, i64 2}
  !12 = !{!"short", !3, i64 0}
  !13 = !{!6, !2, i64 36}
  !14 = !{!10, !12, i64 2}
  !15 = !{!12, !12, i64 0}
  !16 = !{!17, !17, i64 0}
  !17 = !{!"long", !3, i64 0}
  !18 = !{!3, !3, i64 0}
  !19 = !{!6, !2, i64 32}
  !20 = !{!21, !7, i64 0}
  !21 = !{!"ref_stack_s", !7, i64 0, !7, i64 4, !7, i64 8, !10, i64 12, !2, i64 20, !2, i64 24, !10, i64 28, !2, i64 36, !2, i64 40, !2, i64 44, !2, i64 48, !2, i64 52, !10, i64 56, !2, i64 64, !2, i64 68, !2, i64 72, !7, i64 76}
  !22 = !{!6, !2, i64 20}
  !23 = !{!21, !2, i64 20}
  !24 = !{!25, !7, i64 8}
  !25 = !{!"name_s", !12, i64 0, !2, i64 2, !2, i64 2, !2, i64 2, !7, i64 4, !7, i64 8}

...
---
name:            dict_undef
alignment:       2
exposesReturnsTwice: false
hasInlineAsm:    false
isSSA:           true
tracksRegLiveness: true
tracksSubRegLiveness: false
registers:       
  - { id: 0, class: gpr32 }
  - { id: 1, class: gpr32 }
  - { id: 2, class: gpr32 }
  - { id: 3, class: gpr32 }
  - { id: 4, class: gpr32 }
  - { id: 5, class: gpr32 }
  - { id: 6, class: gpr32 }
  - { id: 7, class: gpr32 }
  - { id: 8, class: gpr32 }
  - { id: 9, class: gpr32 }
  - { id: 10, class: gpr32 }
  - { id: 11, class: gpr32 }
  - { id: 12, class: gpr32 }
  - { id: 13, class: gpr32 }
  - { id: 14, class: gpr32 }
  - { id: 15, class: gpr32 }
  - { id: 16, class: gpr32 }
  - { id: 17, class: gpr32 }
  - { id: 18, class: gpr32 }
  - { id: 19, class: gpr32 }
  - { id: 20, class: gpr32 }
  - { id: 21, class: gpr32 }
  - { id: 22, class: gpr32 }
  - { id: 23, class: gpr32 }
  - { id: 24, class: gpr32 }
  - { id: 25, class: gpr32 }
  - { id: 26, class: gpr32 }
  - { id: 27, class: gpr32 }
  - { id: 28, class: gpr32 }
  - { id: 29, class: gpr32 }
  - { id: 30, class: gpr32 }
  - { id: 31, class: gpr32 }
  - { id: 32, class: gpr32 }
  - { id: 33, class: gpr32 }
  - { id: 34, class: gpr32 }
  - { id: 35, class: gpr32 }
  - { id: 36, class: gpr32 }
  - { id: 37, class: gpr32 }
  - { id: 38, class: gpr32 }
  - { id: 39, class: gpr32 }
  - { id: 40, class: gpr32 }
  - { id: 41, class: gpr32 }
  - { id: 42, class: gpr32 }
  - { id: 43, class: gpr32 }
  - { id: 44, class: gpr32 }
  - { id: 45, class: gpr32 }
  - { id: 46, class: gpr32 }
  - { id: 47, class: gpr32 }
  - { id: 48, class: gpr32 }
  - { id: 49, class: gpr32 }
  - { id: 50, class: gpr32 }
  - { id: 51, class: gpr32 }
  - { id: 52, class: gpr32 }
  - { id: 53, class: gpr32 }
  - { id: 54, class: gpr32 }
  - { id: 55, class: gpr32 }
  - { id: 56, class: gpr32 }
  - { id: 57, class: gpr32 }
  - { id: 58, class: gpr32 }
  - { id: 59, class: gpr32 }
  - { id: 60, class: gpr32 }
  - { id: 61, class: gpr32 }
  - { id: 62, class: gpr32 }
  - { id: 63, class: gpr32 }
  - { id: 64, class: gpr32 }
  - { id: 65, class: gpr32 }
  - { id: 66, class: gpr32 }
  - { id: 67, class: gpr32 }
  - { id: 68, class: gpr32 }
  - { id: 69, class: gpr32 }
  - { id: 70, class: gpr32 }
  - { id: 71, class: gpr32 }
  - { id: 72, class: gpr32 }
  - { id: 73, class: gpr32 }
  - { id: 74, class: gpr32 }
  - { id: 75, class: gpr32 }
  - { id: 76, class: gpr32 }
  - { id: 77, class: gpr32 }
  - { id: 78, class: gpr32 }
  - { id: 79, class: gpr32 }
  - { id: 80, class: gpr32 }
  - { id: 81, class: gpr32 }
  - { id: 82, class: gpr32 }
  - { id: 83, class: gpr32 }
  - { id: 84, class: gpr32 }
liveins:         
  - { reg: '%a0', virtual-reg: '%10' }
  - { reg: '%a1', virtual-reg: '%11' }
  - { reg: '%t9' }
  - { reg: '%v0' }
frameInfo:       
  isFrameAddressTaken: false
  isReturnAddressTaken: false
  hasStackMap:     false
  hasPatchPoint:   false
  stackSize:       0
  offsetAdjustment: 0
  maxAlignment:    4
  adjustsStack:    false
  hasCalls:        true
  maxCallFrameSize: 0
  hasOpaqueSPAdjustment: false
  hasVAStart:      false
  hasMustTailInVarArgFunc: false
stack:           
  - { id: 0, name: pvslot, offset: 0, size: 4, alignment: 4 }
body:             |
  bb.0 (%ir-block.0, freq 68):
    successors: %bb.18(37), %bb.1(62)
    liveins: %a0, %a1, %t9, %v0
  
    %12 = ADDu %v0, %t9
    %11 = COPY %a1
    %10 = COPY %a0
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %14 = LW %12, target-flags(<unknown>) @dict_find, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @dict_find)
    %15 = LEA_ADDiu %stack.0.pvslot, 0
    %a0 = COPY %10
    %a1 = COPY %11
    %a2 = COPY %15
    %gp = COPY %12
    %t9 = COPY %14
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
    %16 = COPY %v0
    %13 = ADDiu %zero, -21
    BLEZ %16, %bb.18, implicit-def dead %at
    B %bb.1, implicit-def dead %at
  
  bb.1 (%ir-block.4, freq 42):
    successors: %bb.2(50), %bb.5(50)
  
    %0 = LW %10, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.6, !tbaa !8)
    %17 = LW %0, 4, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.10, !tbaa !8)
    %1 = LW %stack.0.pvslot, 0, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from %ir.8, !tbaa !8)
    %18 = SUBu %1, killed %17
    %3 = ADDiu %0, 8
    %19 = LBu %0, 8, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 1 from %ir.15, align 4, !tbaa !18)
    %20 = ADDiu %zero, 6
    %2 = SRA killed %18, 3
    BNE killed %19, killed %20, %bb.5, implicit-def dead %at
    B %bb.2, implicit-def dead %at
  
  bb.2 (%ir-block.18, freq 21):
    successors: %bb.3(37), %bb.4(62)
  
    %39 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.20, !tbaa !8)
    %40 = SLL %2, 1
    %4 = ADDu killed %39, killed %40
    %41 = LHu %0, 8, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.sunkaddr2, align 4, !tbaa !9)
    %42 = LW %12, target-flags(<unknown>) @gs_imemory, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from got)
    %43 = LW %42, 32, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %44 = AND killed %41, killed %43
    BNE killed %44, %zero, %bb.4, implicit-def dead %at
    B %bb.3, implicit-def dead %at
  
  bb.3 (%ir-block.28, freq 8):
    successors: %bb.4(100)
  
    %45 = LW %12, target-flags(<unknown>) @.str.6, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %46 = ADDiu killed %45, target-flags(<unknown>) @.str.6
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %48 = LW %12, target-flags(<unknown>) @alloc_save_change, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %42
    %a1 = COPY %3
    %a2 = COPY %4
    %a3 = COPY %46
    %gp = COPY %12
    %t9 = COPY %48
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.4 (%ir-block.30, freq 21):
    successors: %bb.10(100)
  
    %50 = LHu %4, -2, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.31, !tbaa !15)
    %51 = ADDiu %zero, 24576
    %52 = XOR killed %50, killed %51
    %53 = SLTu %zero, killed %52
    %54 = ORi killed %53, 24576
    SH killed %54, %4, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.22, !tbaa !15)
    B %bb.10, implicit-def dead %at
  
  bb.5 (%ir-block.34, freq 21):
    successors: %bb.6(37), %bb.7(62)
  
    %21 = LW %0, 12, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.36, !tbaa !8)
    %22 = SLL %2, 3
    %5 = ADDu killed %21, killed %22
    %23 = LHu %5, 0, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 2 from %ir.39, align 4, !tbaa !9)
    %24 = LW %12, target-flags(<unknown>) @gs_imemory, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from got)
    %25 = LW %24, 32, <0x45c9eb0> = !{!"unison-memory-partition", i32 3} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %26 = AND killed %23, killed %25
    BNE killed %26, %zero, %bb.7, implicit-def dead %at
    B %bb.6, implicit-def dead %at
  
  bb.6 (%ir-block.45, freq 8):
    successors: %bb.7(100)
  
    %27 = LW %12, target-flags(<unknown>) @.str.6, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %28 = ADDiu killed %27, target-flags(<unknown>) @.str.6
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %30 = LW %12, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %24
    %a1 = COPY %3
    %a2 = COPY %5
    %a3 = COPY %28
    %gp = COPY %12
    %t9 = COPY %30
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.7 (%ir-block.48, freq 21):
    successors: %bb.8(50), %bb.9(50)
  
    %33 = LW %24, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %6 = ADDiu killed %33, 3584
    %34 = ADDiu %zero, 14
    SH %6, %5, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.49, align 4, !tbaa !9)
    %35 = LBu %5, -8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.54, align 4, !tbaa !18)
    BNE killed %35, killed %34, %bb.9, implicit-def dead %at
    B %bb.8, implicit-def dead %at
  
  bb.8 (%ir-block.57, freq 10):
    successors: %bb.10(50), %bb.9(50)
  
    %36 = LBu %5, -7, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.sunkaddr5 + 1)
    %37 = ANDi killed %36, 128
    BEQ killed %37, %zero, %bb.10, implicit-def dead %at
    B %bb.9, implicit-def dead %at
  
  bb.9 (%ir-block.61, freq 16):
    successors: %bb.10(100)
  
    %38 = ORi %6, 128
    SH killed %38, %5, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.62, align 4, !tbaa !9)
  
  bb.10 (%ir-block.65, freq 42):
    successors: %bb.11(37), %bb.12(62)
  
    %55 = LHu %0, 16, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.66, align 4, !tbaa !9)
    %56 = LW %12, target-flags(<unknown>) @gs_imemory, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from got)
    %57 = LW %56, 32, <0x45c3a60> = !{!"unison-memory-partition", i32 2} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %58 = AND killed %55, killed %57
    BNE killed %58, %zero, %bb.12, implicit-def dead %at
    B %bb.11, implicit-def dead %at
  
  bb.11 (%ir-block.72, freq 16):
    successors: %bb.12(100)
  
    %7 = ADDiu %0, 16
    %59 = LW %12, target-flags(<unknown>) @.str.7, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %60 = ADDiu killed %59, target-flags(<unknown>) @.str.7
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %62 = LW %12, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %56
    %a1 = COPY %10
    %a2 = COPY %7
    %a3 = COPY %60
    %gp = COPY %12
    %t9 = COPY %62
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.12 (%ir-block.74, freq 42):
    successors: %bb.13(50), %bb.15(50)
  
    %64 = LW %0, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.75, !tbaa !16)
    %65 = ADDiu killed %64, -1
    SW killed %65, %0, 20, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.75, !tbaa !16)
    %66 = LBu %11, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 1 from %ir.78, align 4, !tbaa !18)
    %67 = ADDiu %zero, 13
    BNE killed %66, killed %67, %bb.15, implicit-def dead %at
    B %bb.13, implicit-def dead %at
  
  bb.13 (%ir-block.81, freq 21):
    successors: %bb.14(50), %bb.15(50)
  
    %8 = LW %11, 4, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from %ir.83, !tbaa !8)
    %68 = LW %8, 8, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from %ir.86, !tbaa !24)
    %69 = SLTiu killed %68, 2
    BNE killed %69, %zero, %bb.15, implicit-def dead %at
    B %bb.14, implicit-def dead %at
  
  bb.14 (%ir-block.89, freq 10):
    successors: %bb.15(100)
  
    SW %zero, %8, 8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 4 into %ir.sunkaddr8, !tbaa !24)
  
  bb.15 (%ir-block.90, freq 42):
    successors: %bb.16(37), %bb.17(62)
  
    %70 = LHu %1, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 2 from %ir.92, align 4, !tbaa !9)
    %72 = LW %56, 32, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 5)`, !tbaa !19)
    %73 = AND killed %70, killed %72
    BNE killed %73, %zero, %bb.17, implicit-def dead %at
    B %bb.16, implicit-def dead %at
  
  bb.16 (%ir-block.98, freq 16):
    successors: %bb.17(100)
  
    %74 = LW %12, target-flags(<unknown>) @.str.8, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from got)
    %75 = ADDiu killed %74, target-flags(<unknown>) @.str.8
    ADJCALLSTACKDOWN 16, implicit-def dead %sp, implicit %sp
    %77 = LW %12, target-flags(<unknown>) @alloc_save_change, <0x4573a50> = !{!"unison-memory-partition", i32 1} :: (load 4 from call-entry @alloc_save_change)
    %a0 = COPY %56
    %a1 = COPY %0
    %a2 = COPY %1
    %a3 = COPY %75
    %gp = COPY %12
    %t9 = COPY %77
    JALRPseudo killed %t9, csr_o32, implicit-def dead %ra, implicit %a0, implicit %a1, implicit %a2, implicit %a3, implicit %gp, implicit-def %sp, implicit-def %v0
    ADJCALLSTACKUP 16, 0, implicit-def dead %sp, implicit %sp
  
  bb.17 (%ir-block.103, freq 42):
    successors: %bb.18(100)
  
    %81 = LW %56, 36, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (load 4 from `i32* getelementptr inbounds (%struct.gs_dual_memory_s, %struct.gs_dual_memory_s* @gs_imemory, i32 0, i32 6)`, !tbaa !13)
    %82 = ADDiu killed %81, 3584
    %79 = ADDiu %zero, 0
    SH killed %82, %1, 0, <0x4584d00> = !{!"unison-memory-partition", i32 0} :: (store 2 into %ir.105, align 4, !tbaa !9)
  
  bb.18 (%ir-block.109, freq 68):
    liveouts: %v0
  
    %9 = PHI %13, %bb.0, %79, %bb.17
    %v0 = COPY %9
    RetRA implicit %v0

...
